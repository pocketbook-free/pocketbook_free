2007-03-12  Li Yuan  <li.yuan@sun.com>

	* configure.in, NEWS: Up-revved to 1.18.0, for GNOME 2.18.

2007-03-03  Thierry Randrianiriana  <randrianiriana@gmail.com>

	* po/mg.po: Added Malagasy translation.
	* configure.in: Added Malagasy 'mg' to ALL_LINGUAS

2007-02-20  Kjartan Maraas  <kmaraas@gnome.org>

	* Makefile.am: Dist MAINTAINERS

2007-02-12  Li Yuan <li.yuan@sun.com>

	* configure.in, NEWS: Up-revved to 1.17.0.

2007-02-12  Hiroyuki Ikezoe  <poincare@ikezoe.net>

	* gail/gailtreeview.c: (gail_tree_view_destroyed):
	Call g_source_remove for disposing an event source of g_idle_add when
	widget is destroyed. Fix #404916.

2007-02-02  Kjartan Maraas  <kmaraas@gnome.org>

	* gail/gailtextcell.c: (gail_text_cell_update_cache):
	* gail/gailtreeview.c: (columns_changed):
	Plug a couple leaks. Closes bug #375232.

2007-02-01  Li Yuan  <li.yuan@sun.com>

	* gail/gailitem.c:
	(gail_item_get_name):
	Bug #403138. Patch from Kjartan Maraas.
	Fix a memory leak and a invalid read.

2007-01-22  Li Yuan  <li.yuan@sun.com>

	* configure.in, NEWS: Up-revved to 1.10.1 for gnome 2.18.0 Beta 1.

2007-01-22  Li Yuan  <li.yuan@sun.com>

	* gail/gailitem.c:
	(gail_item_get_name):
	Patch from padraig.obriain@sun.com. Bug #398330.
	Make sure the widget is in the container list.

2007-01-22  Li Yuan  <li.yuan@sun.com>

	* gail/gailbutton.c:
	(idle_do_action):
	Patch from padraig.obriain@sun.com. Bug #397694.
	Initialize widget before using it.

2007-01-19  Li Yuan  <li.yuan@sun.com>

	* gail/gail.c:
	(gail_accessibility_module_init):
	Bug #329454. Initialize GailMiscClass.

2007-01-15  Li Yuan  <li.yuan@sun.com>

	* gail/gailsubmenuitem.c: (menu_item_remove_gtk):
	Bug #372545. Only emit remove signal when widget is in
	the container list.

2007-01-08  Bill Haneman <bill.haneman@sun.com>

	* configure.in: Depend on ATK-1.13.0 (because of new AtkMisc usage).
	Rev to 1.9.5.

	* gail/gailutil.c:
	(gail_misc_class_init): New, implement AtkMisc.
	(gail_misc_threads_enter): Call GDK_THREADS_ENTER().
	(gail_misc_threads_leave): Call GDK_THREADS_LEAVE().
	See bug #329454.

2007-01-03  Bill Haneman <bill.haneman@sun.com>

	* gail/gailbutton.c:
	Patch from Marcin Lyko for attached menu window problem.
	We now can deal with multiple attached menus as well.
	(get_n_attached_menus, get_nth_attached_menu): New.
	(is_attached_menu_window): Changed to use above, and
	corrected misspelling of GObject attached data name.

2006-12-15  Li Yuan <li.yuan@sun.com>

	* configure.in, NEWS: Up-revved to 1.9.4 for gnome 2.17.4.

2006-12-14  Li Yuan  <li.yuan@sun.com>

	* gail/gailwindow.c: (gail_window_ref_relation_set):
	Patch from Padraig Obriain. Fix #368625.
	Call gtk_tooltips_get_info_from_tip_window only when widget
	is visible.

2006-12-04  Bill Haneman <bill.haneman@sun.com>

	* Added Li Yuan <li.yuan@sun.com> to MAINTAINERS.

	* gail/gailwidget.c: Patch from Padraig for bug #132323,
	add STATE_VISIBLE to gail widgets if GTK_WIDGET_VISIBLE is true.

	* gail/gailitem.c:
	(gail_item_get_name): Don't double-free the item->text, and
	g_value_dup_string() instead of g_value_get_string() since the
	string will be freed when the gailitem is finalized.

2006-11-14  Paolo Borelli  <pborelli@katamail.com>

	* gail/gailradiobutton.c:
	* gail/gailradiomenuitem.c:
	* gail/gailradiosubmenuitem.c:

	Plug a small memory leak. Bug #353542.

2006-10-07  Bill Haneman <billh@gnome.org>

	Patch from Padraig O'Briain:
	* gail/gaillabel.c:
	(notify_name_change): Check whether the label has actually
	changed from its previous string value before emitting
	notification.  Bug #369267.

	Patch from Wouter Boulsterlee and kris@gtk.org:
	* gail/gail.c:
	(gail_finish_select): Set the next_focus_widget to NULL,
	when waiting to report focus on a menubar or menu item because
	of a previous deselect.
	(gail_focus_notify_when_idle): Similarly, set next_focus_widget to
	NULL when removing weak pointer in menu selection case.
	Bug #368602.

	Patch from Padraig O'Briain:
	* gail/gailwidget.c:
	(gail_widget_ref_relation_set): Handle case where GtkFileChooserButton
	is the mnemonic widget for a GtkComboBox.
	Bug #359843.

	Patch from Samuel Thibault, for bug #315065:
	* gail/gailtextview.c:
	(_gail_text_view_insert_text_cb): Calculate string length in
	characters, not bytes.
	* gail/gailentry.c:
	(_gail_entry_insert_text_cb):Ditto.

	Patch from Jose Dapena Paz for bug #336644.
	* gail/gailbutton.c:
	(gail_button_do_action):
	Synthesize a GdkEvent instead of calling
	gtk_button_released for the 'release' action on a button.

2006-10-23  Willie Walker <william.walker@sun.com>

	* gail/gailcontainer.c, gail/gailexpander.c: fix for bug #350215
	to expose expander button's children and to add expandable and
	expanded states.

2006-10-01  Bill Haneman <billh@gnome.org>

	* configure.in, NEWS: Up-revved to 1.9.3 for gnome 2.16.1.

2006-09-26  Padraig Obriain <padraig.obriain@sun.com>

 	* gail/gailbooleancell.c:
 	 gail/gailentry.c: Change call to g_object_get_property to g_object_get

 	* gail/gailtreeview.c: Add call to g_vaslue_unset after call to
 	g_object_get_property

 	* gail/gailwidget.c: Remove commented out code which calls
 	g_object_get_property

 	Fix for bug #357798

2006-09-25  Bill Haneman <bill.haneman@sun.com>

	* gail/gaillabel.c:
	(gail_label_get_text): Initialize the GailTextUtil
	if it isn't already initialized.

	* gail/gailnotebookpage.c:
	(get_label_from_notebook_page):
	Return NULL if the page is empty. Bug #350933.

	* gail/gailcombobox.c:
	(gail_combo_box_get_name): Make sure and g_value_unset for
	non-string GValues.  Thanks to Damon.

	* gail/gailcontainer.c:
	(gail_container_real_remove_gtk): Don't
	emit the event if the child isn't in the container's children
	list anymore (this happens when the container is being destroyed).
	See bug #355263.

2006-09-20  Bill Haneman <bill.haneman@sun.com>

	Patch from Li Yuan <li.yuan@sun.com>,
	bug #347228

	* gail/gailtreeview.c:
	(idle_expand_row):
	Call set_expand_state() with param of TRUE,
	sense of boolean param was reversed here.
	(set_expand_state):
	Set found if gtk_tree_path_is_ancestor is TRUE,
	sense of test was reversed here.


2006-09-13  Bill Haneman <bill.haneman@sun.com
	* gail/gailtreeview.c:
	(garbage_collect_cell_data): Split into old method and
	new idle wrapper below.  Remove any pending idle handler
	via g_source_remove, when garbage_collect_cell_data is called
	synchronously.
	(idle_garbage_collect_cell_data): use GDK_THREADS_ENTER and
	GDK_THREADS_LEAVE.
	Always return FALSE from the idle handler (since if the job needs
	re-doing, a separate idle handler will be queued).
	Fix based on analysis/suggestions from Damon Chaplin, bug #325759.
	(gail_tree_view_ref_child): If there are no renderers, return NULL.
	Bug #331042, patch from James Livingston.

	* gail/gailnotebook.c:

 	* gail/gailnotebook.c:
	(gail_notebook_page_added): New, creates notebook page
	atk peer on receipt of page-added signal from gtk+
	Patch from Carlos Garnacho Parro, bug #353130.

2006-09-12  Bill Haneman <bill.haneman@sun.com>

	* gail/gailwindow.c:
	(gail_window_get_index_in_parent): Don't assume the parent is
	always a GailToplevel - for instance mozilla creates a different
	kind of toplevel for atk_object_get_root().  Bug #345230.

2006-08-22  Bill Haneman <bill.haneman@sun.com>

	* gail.pc.in: Moved libgnome-canvas dependency to
	"Requires.private".  Patch from Samuel Thibault, thanks!
	Bug #352183.

	* gail/gailutil.c:
	(window_added, window_removed): Allow this to work for toplevel
	ATK implementations that aren't GailWindow instances (i.e.
	from mozilla, for instance). Bug #350574.

2006-08-21  Bill Haneman <bill.haneman@sun.com>

	* configure.in: Revved to 1.9.2.

	* gail/gailnotebook.c:
	(gail_notebook_child_parent_set): Fix from Carlos Garnacho Parro,
	ensure that correct gailnotebookpage object is removed.
	Bug #345074.

2006-08-03  Jovan Naumovski  <jovan@lugola.net>

	* Added sl.po to po/ and 'sl' to ALL_LINGUAS in configure.in

2006-07-24  Bill Haneman <bill.haneman@sun.com>

	* configure.in: Revved to 1.9.1.

	* gail/gailtoplevel.c:
	(gail_toplevel_show_event_watcher):
	Don't add to parent if object is a tooltip.  See bug #150649.

2006-07-18  Runa Bhattacharjee <runabh@gmail.com>

	* configure.in: Added Malayalam (ml) to ALL_LINGUAS.

2006-07-17  Bill Haneman <bill.haneman@sun.com>

	* gail/gail.c:
	(gail_focus_watcher):
	(gail_focus_notify):
	Don't set/emit focus if
	received by objects with ROLE_REDUNDANT_OBJECT.
	See mozilla bug	https://bugzilla.mozilla.org/show_bug.cgi?id=339554


2006-07-03  Runa Bhattacharjee <runabh@gmail.com>

	* configure.in: Added Bengali India (bn_IN) to ALL_LINGUAS.

2006-06-27  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtextview.c:
	(gail_streamable_content_get_stream): Unlink the temp file
	once we've created the IO channel.

2006-06-23  James Henstridge  <james@jamesh.id.au>

	* gail/gailtextview.c (gail_streamable_content_get_stream): fix a
	typo to unbreak build.

2006-06-23  Bill Haneman <bill.haneman@sun.com>

	* configure.in: Depend on gtk+ 2.9.4.

	* gail/gailtextview.c:
	(gail_text_view_get_type):
	Added AtkStreamableContent interface to gailtextview.
	The methods below rely on the serialization API
	for GtkTextBuffer.
	(atk_streamable_content_interface_init): New.
	(gail_streamable_content_get_n_mime_types): New.
	(gail_streamable_content_get_mime_type): New.
	(gail_streamable_content_get_stream): New.
	(gail_streamable_content_get_uri): New.

2006-06-21  Raivis Dejus  <orvils@gmail.com>

	* configure.in: Added "lv" (Latvian) to ALL_LINGUAS.

2006-05-19  Li Yuan <li.yuan@sun.com>

	Fix for #313703
	reviewed by: <padraig.obriain@sun.com>

	* gail/gailbutton.c: (gail_button_notify_weak_ref),
	(gail_button_notify_label_weak_ref), (gail_button_init_textutil):
	If the button is destroyed first, we should disconnect the signal
	connected to the label.

2006-04-17  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Remove obsolete entry for no_NO
	* po/no.po: And the translation.

2006-03-30  Guntupalli Karunakar  <karunakar@indlinux.org>

	* configure.in: Added "dz" (Dzongkha) to ALL_LINGUAS.

2006-03-20  Vladimer Sichinava  <vlsichinava@gmail.com>

        * configure.in: Added "ka" (Georgian) to ALL_LINGUAS

2006-03-14  Bill Haneman <bill.haneman@sun.com>

	* gail/gailcombobox.c:
	(gail_combo_box_get_name): Don't free gail_combo_box->name
	unconditionally, only free it when we're about to replace it.
	Bug #334438.

	* gail/gailcell.c:
	Patch from Ross Burton to change most g_return_ usage to
	either g_assert or plain logic.  Bug #334007.

2006-03-13  Bill Haneman <bill.haneman@sun.com>

	* configure.in, NEWS: Revved to 0.8.11, for gnome 2.14.0.

	* gail/gailtreeview.c:
	(count_rows): Revert change that returned immediately if
	iter==NULL, as it was not the correct fix for 326362,
	and caused a regression.

2006-02-24  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtreeview.c:
	(get_tree_path_from_row_index): Return FALSE if
	the iterator can't be determined from the row and index,
	instead of asserting.  Fixes bug #323322.

2006-02-21  Bill Haneman <bill.haneman@sun.com>

	* configure.in, NEWS, README: Revved to 1.8.10.

	* gail/gail-private-macros.h: New file,
	contains non-asserting logic macros
	gail_return_if_fail and gail_return_val_if_fail.

	* gail/*.c: Replaced "logic only" (i.e. non-error condition)
	instances of g_return_ macros with the gail_return macros above.
	Soothes critical warning emission from gail.  Thanks to Kjartan
	and others for identifying key instances of macro-abuse.
	Fixes bug #331926 and turns bug #331721 non-critical.

	* gail/gailtreeview.c:
	(count_rows): Return if iter is NULL; fixes bug 326362.

2006-02-14  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtreeview.c:
	Check parameters to gtk_tree_path_compare funcs throughout.
	Thanks to Kjartan Maraas for finding critical warnings.

2006-02-13  Bill Haneman <bill.haneman@sun.com>

	* configure.in: Re-dist 1.8.9.

2006-02-13  Irene Huang <Irene.Huang@sun.com>

	Fixes bug #323245

	* gail/gailmenu.c: (gail_menu_real_initialize),
	(gail_menu_get_parent): Move code for setting OPTION_MENU parent
	to gail_menu_get_parent. Set parent of GtkComboBox in
	gail_menu_get_parent.

2006-02-09  Bill Haneman <bill.haneman@sun.com>

	* revert fix for #323245, as it resulted in regression #329230.

2006-01-17  Irene Huang <Irene.Huang@sun.com>

	Fix for #323245

	* gail/gailmenu.c: (gail_menu_real_initialize): Add
	support for GtkComboBox.

2005-12-29  Abel Cheung  <maddog@linuxhall.org>

	* configure.in: Added "mk" "vi" "zh_HK" to ALL_LINGUAS.

2005-11-28  Bill Haneman <bill.haneman@sun.com>

	* configure.in: re-dist 1.8.8

	* gail/gailcombobox.c: Fix syntax problem in if, from Ali Akcaagac.

2005-11-23  Bill Haneman <bill.haneman@sun.com>

        Patch from jlyle:
	* gail/gailtreeview.c: More crasher fixing, sigh.
	(gail_tree_view_finalize): Call clear_cached_data before
	removing idle handlers.
	(return_iter_nth_row): Plug leak of treepath, which causes
	treeview to persist too long and receive notifications
	when it should not, resulting in crashes.
	(garbage_collect_cell_data): Operate on a copy of the g_list.
	(cell_destroyed): Retain the idle handler id when queuing the
	cleanup.

	* gail/gailtreeview.c:
	(gail_tree_view_destroyed, gail_tree_view_finalize): Unref and
	clear the focus_cell on destroy, rather than finalize.

2005-11-23  Bill Haneman <bill.haneman@sun.com>

	* configure.in: Re-dist 1.8.7 with crasher bugfix.

2005-11-22  Michael Meeks  <michael.meeks@novell.com>

	* gail/*.c: for all g_idle callbacks: add GDK_THREADS_ENTER /
	GDK_THREADS_LEAVE at top/tail, leave re-factoring the galloping
	cut/paste until later - what we need here is a
	guint gail_idle_add (GtkWidget *, gpointer data,
	                     gboolean elide_invisible);
	method, preferably one that automatically handles the idle
	source removal on destroy by tracking the widget's lifetime etc.

2005-11-22  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_expand_row_gtk): Add some assertions.
	Don't update if "path" is NULL.
	(idle_update): Set the treeview's "idle path" to NULL,
	to prevent double-frees if two updates are pending.
	Don't free the 'data' pointer here (!).
	This means we only handle the most recent expand event, at the
	moment.
	Fixes bug #322044.

2005-11-14  Bill Haneman <bill.haneman@sun.com>

	Fixes for OpenOffice.org direct bridge.
	* gail/gailtoplevel.c:
	(gail_toplevel_show_event_watcher):
	Ignore toplevel windows whose AtkObject role name is
	"redundant object".
	* gail/gail.c:
	(gail_focus_watcher):
	If a gtk+ focus event is emitted for a GtkWindow popup that isn't
	a GtkBin, or for a toplevel window without any focus children,
	then don't emit a focus event, as it's useless at best and
	wrong at worst.  These edge cases occur in custom code, which
	is responsible for emitting its own "focus:" notifications in such
	cases.
	* gail/gailutil.c:
	(state_event_watcher): Test, rather than assert, GAIL_IS_WINDOW,
	and return otherwise (i.e. don't emit events inside gail if this isn't
	a GailWindow; make the custom implementation do the event emission
	instead, in that case).

2005-11-01  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtreeview.c: Fix for bug #310134.
	(idle_expand_row): Use idle_expand_path instead of
	getting the path from the idle_data, since the idle_data
	might be invalid by this time.
	(gail_tree_view_real_initialize): Init the
	idle_expand_path.
	(gail_tree_view_expand_row_gtk): Set the idle_expand_id and
	idle_expand_path for later processing.
	(model_row_inserted): Kill any pending idle-expand handlers
	that follow the inserted row, because they invalidate the
	pending path.
	(model_row_deleted): Kill pending idle-expand handlers,
	free the old path.

2005-10-27  Erdal Ronahi  <erdal.ronahi@gmail.com>

	* configure.in: Added ku (Kurdish) to ALL_LINGUAS

2005-10-05  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_finalize): Remove any pending idle handlers
	for cell cleanup.  Fixes #306062.

2005-09-28  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtoplevel.c:
	(gail_toplevel_class_init): Init epv->getParent
	to gail_toplevel_get_parent.
	(gail_toplevel_get_parent): Return NULL, to
	prevent returning self as parent.  Fixes bug #317436.

2005-08-30  Tor Lillqvist  <tml@novell.com>

	* gail-zip.in: New file. Used to build gail distribution for
	Win32.

	* configure.in
	* Makefile.am: Expand and distribute it.

2005-05-19  Bill Haneman <bill.haneman@sun.com>

	* configure.in, README, NEWS: Revved to 1.8.5.

2005-08-24  Kjartan Maraas  <kmaraas@gnome.org>

	* gail/gailtreeview.c: (gail_tree_view_get_column_header): Remove
	an unused var and comment out an unused static function. Closes
	bug #314363.

2005-08-11  Marcel Telka  <marcel@telka.sk>

	* configure.in (ALL_LINGUAS): Added sk.

2005-05-19  Bill Haneman <bill.haneman@sun.com>

	Fixes for bug #304667 and related.

	* gail/gailtreeview.c:
	(cell_destroyed): Don't check cell_info->cell, since it may not be
	valid when this method is called.  Don't queue garbage collection
	if the cell is no longer in use, it should already be queued.
	(clean_cell_info): Check the in_use flag before proceeding with
	the 'destroy' logic, since this method may get called more than
	once on a cell.

2005-04-25  Bill Haneman <bill.haneman@sun.com>

	* configure.in: Revved to 1.8.4.

	* gail/gailtreeview.c:
	(GailTreeViewCellInfo): Added gboolean in_use.
	(clean_cell_info): Mark in_use=FALSE on GailTreeViewCell when
	cleaning; don't free the cell_info or remove the link at this
	point, wait for garbage_collect_cell_data pass.  Queue
	garbage collecton idle hander if not already pending.
	(garbage_collect_cell_data): New, traverse the cellinfo list and
	remove links that aren't in use, freeing them.
	(traverse_cells): Only operate on cells that are in_use.

	* gail/gailcell.c:
	(gail_cell_remove_state): Get the parent before
	emitting a signal, since atk_object_get_parent may fail later on
	due to reentrancy issues - this is because we're calling API in
	a weakref destroy notification, without holding a real object
	reference to these flyweights.

	This is a temporary fix for bug #163583; longer-term fix will
	require complete refactor of gailcell and gailtreeview flyweight code.

2005-04-25  Oana Serb <os@baum.ro>. Patch from Remus Draica <rd@baum.ro>

	* gail/gailtreeview.c:
	Added ACTIVE state for table cells only if the table has FOCUS state.
	Fix for bug # 172087.

2005-04-23  Guntupalli Karunakar <karunakar@freedomink.org>

	* configure.in: Added "as" for Assamese in ALL_LINGUAS

2005-04-11  Bill Haneman <bill.haneman@sun.com>

	* configure.in, NEWS: Rev to 1.8.3.

2005-04-05  Bill Haneman <bill.haneman@sun.com>

	* gail/gail.c: Made focus_widget extern.

	* gail/gailwidget.c: Don't add FOCUSED to ATK_STATE in
	ref_state_set unless the widget is identical with the
	current "focus_widget".  Bug #169480.

	* gail/gailnotebookpage.c: Set ATK_STATE_ENABLED for page
	tab that is showing.  Patch from Balamurali Viswanathan for
	bug #165305.

2005-04-04  Iñaki Larrañaga Murgoitio  <dooteo@euskalgnu.org>

	* condifure.in: Added "eu" (Basque) to ALL_LINGUAS.

2005-03-30  Steve Murphy  <murf@e-tools.com>

	* configure.in: Added "rw" to ALL_LINGUAS.

2005-03-30  Remus Draica <rd@baum.ro>

	* gail/gailentry.c:
	_gail_entry_delete_text_cb:
	Fix a typo present in previous commit (bug # 170327).

2005-03-25  Tor Lillqvist  <tml@novell.com>

	* gail/Makefile.am
	* tests/Makefile.am: Use -no-undefined on Windows.

	* gail/gailwindow.c: Provide dummy implementation of
	gail_window_get_mdi_zorder() on Windows for now, just to make it
	build.

	* tests/Makefile.am: Don't build libferret on Windows.

2005-03-17  Remus Draica <rd@baum.ro>

	* gail/gailentry.[hc]:
	Emit notification of text-delete in an idle handler to that it
	occurs after text deletion notification on GailEntry.

	Fixes bug #170327.

2005-02-08  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "xh" to ALL_LINGUAS.

2005-01-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in, NEWS: Rev to 1.8.2

2005-01-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c (gail_clist_ref_at_actual): Create accessible object
	for PIXTEXT cell.
	(gail_clist_select_row_gtk):  Ensure that accessible cell is non-NULL
	before referring to it.

	* gail/gailclistcell.c (gail_clist_cell_get_name): Add support for
	cell of type PIXTEXT.

	Fixes bug #162083.

2004-12-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gail_tree_view_ref_child): Call
	get_header_from_column to geta accessible corresponding to
	correct column, even if not visible.
	(gail_tree_view_get_column_header): Call get_header_from_column.
	(get_column_from_header): New function containing code refactored
	from gail_tree_tree_get_column_header.

	Fixes bug #137222.

2004-11-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombo.[ch]: Add select_idle_handler to GailCombo
	data structure.
	Emit notification of selection-changed in an idle handler to that it
	occurs after text insertion notification on GailText.
	Fixes bug #156483.

2004-11-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.[ch]: Add previous_selected_cell to GailClist
	data structure.
	(gail_clist_ref_state_set): New function which sets state
	MANAGES_DESCENDANTS on GailClist.
	(gail_clist_ref_at_actual): Always set state VISIBLE on cell,
	set state SHOWING only if cell is on screen. Set state FOCUSED
	ion cell if row is selected and has only one column.
	(gail_clist_get_index_at):
	(gail_clist_get_column_at_index):
	(gail_clist_get_row_at_index): New functions.
	(gail_clist_select_row_gtk): If number of columns is 1 emit
	"active-descendant-changed" signal on cell in selected row. Set
	state FOCUSED on selected cell.
	(gail_clist_unselect_row_gtk): Remove state FOCUSED on unselected cell.
	(gail_clist_adjustment_changed): Change state SHOWING instead of
	VISIBLE.

	Changes for bug #158437.

2004-11-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvasitem.c (gail_canvas_item_get_parent):
	(gail_canvas_item_get_index_in_parent): Cater for atk_object_set_parent
	having been called to set the accessible parent. Fixes bug #159556.

2004-11-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in, NEWS: Rev to 1.8.1

2004-11-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.[ch]: Add idle_handler_id to GailTreeView
	data structure.
	Remove idle handler idle_expand_row if rows change. Fixes bug
	#132551.

2004-11-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.c (gail_notebook_real_remove_gtk): Call new
	function reset-cache to correct index values for GailNotePages
	with index greater than deleted index. Fixes bug #159206.

2004-10-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c (gail_cell_object_init): Add state SELECTABLE.
	Fixes bug #153638.

2004-10-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailsubmenuitem.c (gail_sub_menu_item_add_selection): Do not
	activate menu item when selecting it. Fixes bug #156154.

2004-10-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvasitem.c (get_item_extents): Correct calculation
	when scroll offset is non-zero.
	(is_item_in_window): Correction for when item is just outside the
	window. Fixes bug #156143.

2004-10-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenushell.c (gail_menu_shell_add_selection): Do not
	activate menu item when selecting it. Fixes bug #156154.

2004-10-03  Jesus Bravo Alvarez  <suso@trasno.net>

	* configure.in: Added gl (Galician) to ALL_LINGUAS.

2004-09-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in, NEWS: Rev to 1.8.0
.
2004-09-10  Tomasz KÅ‚oczko <kloczek@pld.org.pl>

	* configure.in: simplify checking is linking with
	  lib{nsl,socket,inet} is neccessary by using AC_SEARCH_LIBS().

2004-09-10  Theppitak Karoonboonyanan  <thep@linux.thai.net>

	* configure.in: Added 'th' to ALL_LINGUAS.

2004-09-08  Bill Haneman <bill.haneman@sun.com>

	* gail/gailutil.c:
	(gail_util_add_global_event_listener): Don't
	double free the string vector 'split_string'.
	See bug #151513.

	* configure.in, NEWS: Rev to 1.7.1.

2004-09-08  Gora Mohanty  <gmohanty@cvs.gnome.org>
        * configure.in: Added 'or' to ALL_LINGUAS.

2004-09-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_get_accessible_for_widget): Report focus on
	object within canvas item, if it exists. Fixes bug #152041.

2004-08-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_get_parent): Return correct parent
	for  AtkObject corresponding to widget in a GtkNotebookPage.
	Fixes bug #148850.

2004-08-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.7.0=====

	* NEWS:
	Updated for changes in 1.7.0

2004-08-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.[ch]: Change criteria for making press the default
	action for a toggle button. Fixes bug #150545.

2004-08-16  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "bs" to ALL_LINGUAS.

2004-08-15  Gurban M. Tewekgeli <gmtavakkoli@yahoo.com>

	* po/tk.po: Added Turkmen translation.
	* configure.in: Add "tk" to ALL_LINGUAS.

2004-08-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c gail/gailcanvasgroup.c gail/gailcanvaswidget.c
	gail/gailcellparent.c gail/gailclist.c gail/gailcombobox.c
	gail/gailcontainer.c gail/gailentry.c gail/gailnotebook.c
	gail/gailoptionmenu.c gail/gailscrolledwindow.c
	gail/gailsubmenuitem.c gail/gailtextview.c gail/gailtreeview.c
	gail/gailutil.c tests/ferret.c tests/testaction.c
	tests/testbutton.c tests/testcombo.c tests/testcomponent.c
	tests/testimage.c tests/testlib.c tests/testmenuitem.c
	tests/testnotebook.c tests/testobject.c tests/testoptionmenu.c
	tests/testpaned.c tests/testprops.c tests/testselection.c
	tests/teststatusbar.c tests/testtable.c tests/testtext.c
	tests/testtoplevel.c tests/tests/treetable.c tests/testvalues.c:
	Fix for bug #150000; patch from Kjartan Maraas.

2004-08-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombobox.c: Use #define GAIL_COMBO_BOX_A11Y_COMPLETE
	for code which depends on accessibility support in GtkComboBox.

2004-08-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombobox.c (gail_combo_box_object_init): Set popup_set
	to FALSE.
	(gail_combo_box_real_initialize): Check whether
	gtk_combo_box_get_popup_accessible return non-NULL value. If so,
	set its parent and set popup_set to TRUE.
	(gail_combo_box_ref_child): If popup_set is FALSE
	set popup's parent and set popup_set to TRUE.

	* gail/gailcombobox.h: Add popup_set to GailComboBox structure.

	Fixes bug #145136.

2004-08-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombobox.c (gail_combo_box_get_n_children): Fix
	possible compilation error when building with GTK 2.5.

2004-08-12  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added nb to ALL_LINGUAS.

2004-08-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebookpage.c (get_label_from_notebook_page): Find label
	at any level in widget hierarchy . Part of fix for bug #104815.

2004-08-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (set_cell_visibility): Add check that
	GtkTreeView is realized. Fixes bug #149798.

2004-08-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebookpage.c (notify_child_added): Add check that
	GtkNotebook has not been deleted before attempting to notify that
	child was added to it. Part of fix for bug #149442.

2004-08-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_focus_notify_when_idle): If focusing NULL
	remove weak pointer on next_focus_widget  and set to NULL.

	Fixes bug #149302.

2004-07-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailscrolledwindow.c
	(gail_scrolled_window_scrollbar_visibility_changed): Add check
	that GtkScrolledWindow has not been destroyed.

2004-07-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombo.c: Add remaining accessibility support if GTK 2.5.1
	or later is being used, i.e. if gtk_combo_box_get_popup_accessible()
	is defined.

	* gail/gailentry.c (gail_entry_get_index_in_parent): Add check
	whether parent is a GailCOmboBox.

	* gail/gailitem.c (gail_item_get_name): Add support for items
	in a GailComboBox.

	* gail/gailitem.h: Add field text to the GailItem data structure.

	Fixes bug #136657.

2004-07-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailexpander.c (gail_expander_get_n_children): Return number
	of children as 1 unless the child is a GtkLabel.
	(gail_expander_ref_child): Return child as NULL unless it is a
	GtkLabel.

	Fixes bug #147581.

2004-07-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c (configure_event_watcher): Emit resize or move
	signal on GailWindow.

	* gail/gailwindow.c : Add new signal called move.

	Fixes bug #144170.

2004-07-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c:
	gail/gailwindow.c: Revert changes made for bug #144170.

	* gail/gail.c (gail_get_accessible_for_widget): When we report
	focus on GailCombo call gail_set_focus_widget () so that
	state-changed:focused event is emitted on GailCombo instead of
	GailEntry. Fixes bug #145262.

2004-06-29  Pawan Chitrakar  <pawan@nplinux.org>

	* configure.in: Added "ne" Nepali in ALL_LINGUAS

2004-06-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Require atk version 1.7.0

2004-06-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c (configure_event_watcher): Just ensure that
	GailWindow has been created in this function.

	* gail/gailwindow.c (gail_window_configure_event_gtk): New function
	which is signal handler for configure-event signal on GtkWindow.
	Emits resize or move signal on GailWindow.

	Fixes bug #144170.

2004-06-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_size_allocate_gtk): New function
	which emits "bounds-changed" signal. Fixes bug #141191.

2004-06-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Post-branch increment revision to 1.7.0

2004-06-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c (setup_buffer): Add check that buffer is
	non-NULL. Fixes bug #144310.

2004-06-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c (setup_buffer): New function which sets up
	signals on GtkTextBuffer. The code was previously in
	gail_text_view_real_initialize.
	(gail_text_view_real_initialize): Add call to setup_buffer.
	(gail_text_view_real_notify_gtk): Add check for "buffer" property.

	Fixes bug #144158.

2004-06-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailitem.c (get_label_from_container): Rename from
	get_label_from_item(). If container has a GtkBox look for the label
	in the box. Fixes bug #144084.

2004-06-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Post-release increment revision to 1.6.7

2004-06-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.6.6=====

	* NEWS:
	Updated for changes in 1.6.6

2004-06-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Removed "ne" (Nepali) in ALL_LINGUAS as file ne.po
	does not exist. Patch from Alexander Winston for bug #143842.

2004-06-06  Pawan Chitrakar  <pawan@nplinux.org>

	* configure.in: Added "ne" (Nepali) in ALL_LINGUAS

2004-06-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_get_keybinding): Add support to
	find accelerator for menu item created using GtkAction and
	GtkUIManager. Fixes bug #143587.

2004-06-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.c (gail_notebook_child_parent_set): Remove
	unnecessary warning message.

2004-06-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.c (gail_notebook_real_remove_gtk): New function
	which emits children-changed::remove signal. The emission is done
	here rather than in gail_notebook_child_parent_set as the underlying
	GtkNotebook has been updated when this function is called.
	(gail_notebook_child_parent_set): Set index of item being removed.
	* gail/gailnotebook.h: Add remove_index to GailNotebook data
	structure.

	This fixes problem of create-tab notification being received after
	first remove tab notification when tabs are removed. See bug #128970.

2004-06-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebookpage.c (get_label_from_notebook_page): Add check
	that label is showing. Fixes bug #129608.

2004-05-27  Alexander Shopov  <ash@contact.bg>

	* configure.in: Added "bg" (Bulgarian) to
	ALL_LINGUAS

2004-05-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Post-release increment revision to 1.6.6

2004-05-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.6.5=====

	* NEWS:
	Updated for changes in 1.6.5

2004-05-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (idle_do_action): Ensure that antecedent
	menus of a menu items are unposted after menu is activated.
	Fixes bug #134532.

2004-05-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c (gail_cell_object_init): Set state
	ATK_STATE_SENSITIVE. Fixes bug #142776.

2004-05-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.c (gail_notebook_ref_child): Add check whether
	we have cached all children as children may have been created without
	us receiving notification. Remove g_assert call.

2004-05-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.h: Add page_count to GailNotebook data structure.

	* gail/gailnotebook.c (gail_notebook_class_init): Do not execute
	default signal handler for remove signal when child removed from
	GtkNotebook.
	(gail_notebook_ref_child): Assume that child is in page cache.
	(gal_notebook_real_initialize): Call create_notebook_page_accessible
	for each page in the GtkNotebook.
	(gail_notebook_real_notify_gtk): Call add_to_cache for "page"
	notification if we do not have all pages in the caches. If we
	previously has a tab selected emit notification of change of
	selected state.
	(check_cache): New function which makes sure that cache matches
	notebook which currently exist.
	(create_notebook_page_accessible): New function which creates
	GailNotebookPage for index in notebook and adds to it to the cache.
	(gail_notebook_parent_set): Signal handler for parent_set signal on
	child widget contained in a page number. It emits
	children_changed::remove signal when page tab is removed.

	* gail/gailnotebookpage.h: Add GtkNotebookPage to GailNotebookPage
	data structure.

	* gail/gailnotebookpage.c (gail_notebook_page_new): Use idle handler
	notify_child_add to emit children_changed::add signal.

	Fixes part of bug #128970, the emission of chilren_changed signals
	when page tabs are added to or removed from a GtkNotebook.

2004-05-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Post-release increment revision to 1.6.5

2004-05-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.6.4=====

	* NEWS:
	Updated for changes in 1.6.4

2004-05-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.h: Add is_down_arrow to GailButton data structure.
	* gail/gailbutton.c: (gail_button_real_initialize): Set is_down_arrow
	if button contains a GtkArrow of type down arrow.
	Set first, i.e. default, action to be press instead of click for
	down arrow.

	Fixes bug #137401.

2004-05-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_get_accessible_for_widget): Ensure that
	focus-object for widget is not defunct before reporting focus on it.

	Fixes bug #141907.

2004-05-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (find_label_child): Decrement integer
	value correctly.
	(get_label_from_button): Remove unnecessary variable.
	(count_labels): Increment integer value correctly.

	Fixes bug #140616, reports labels correctly for GnomeFontPicker.

2004-04-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcontainer.c (gail_container_real_remove_gtk): Check
	that atk_child is non-NULL before referring to it. Fixes bug
	#141494.

2004-04-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Post-release increment revision to 1.6.4

2004-04-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.6.3=====

	* configure.in:
	Incremented revision to 1.6.3

	* NEWS:
	Updated for changes in 1.6.3

2004-04-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_ref_state_set): Do not add state
	FOCUSED if a non-widget child of the widget is being reported as
	focused.
	(gail_widget_focus_event): Do not report focus state change for widget
	if a non-widget child of the widget is being reported as having
	focus.

	Fixes bug #134003.

2004-04-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c: Undo fix for bug #140475. Add object reference on
	parent object when setting weak reference. Fix for bug #140559.

2004-04-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c, tests/testlib.c: Fix compiler warnings.
	End of fix for bug #140604.

	* gail/gailitem.c: Fix warning.
	Fix from Stanislav Brabec for part of bug #140604.

	* gail/gailcombobox.c: Remove unused functions.
	Fix from Stanislav Brabec for part of bug #140604.

	* gail/gailcombobox.c, gail/gaillabel.c, gail/gailscale.c,
	gail/gailwindow.c: Remove unused variables.
	Fix from Stanislav Brabec for part of bug #140604.

	* gail/gailentry.c, gail/gailtreeview.c: Fix potentially uninitialized
	variables. Fix from Stanislav Brabec for part of bug #140604.

	* gail/gailcombobox.c: Fix coding error.
	Fix from Stanislav Brabec for part of bug #140604.

	* gail/gailbutton.c, gail/gailexpander.c, gail/gailitem.c,
	gail/gaillanbel.c, gail/gailnotebook.c: Fixed void function
	declarations. Fix from Stanislav Brabec for part of bug #140604.

	* gail/gail.c, gail/gailwindow.c: Fixes code for latest gcc aliasing
	analysis. Fix from Stanislav Brabec for part of bug #140604.

2004-04-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.6.2=====

	* configure.in:
	Incremented revision to 1.6.2

	* NEWS:
	Updated for changes in 1.6.2

2004-04-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	(gail_focus_object_destroyed): Remove as it it not required.
	(gail_focus_tracker): Do not set weak reference for focus object.

	Fixes bug #140475.

2004-04-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailscrolledwindow.c (gail_scrolled_window_ref_child): Report
	child correctly if only vertical scrollbar is visible.

	Fixes bug #138734.

2004-04-14  John C Barstow  <jbowtie@amathaine.com>

	* configure.in: Added "mi" to ALL_LINGUAS.

2004-04-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailrenderercellfactory.[ch]: New files

	* gail/Makefile.am: Add gailrenderercellfactory.[ch]

	* gail/.gail.c (gail_accessibility_module_init): Set factory for
	GtkRenderercell.

	* gail/gail.h: Add gailrenderercellfactory.h.

	* gail/renderecell.c
	* gail/renderecell.h: Add gail_renderer_cell_new.

	* gailtreeview.c (update_cell_value): Allow for GailRendererCell not
	having a renderer.

	This fixes bug #139391, i.e. ensures that name is reported for
	Nautilus List view.

2004-04-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.6.1=====

	* configure.in:
	Incremented revision to 1.6.1

	* NEWS:
	Updated for changes in 1.6.1

2004-04-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c (gail_entry_get_keybinding): Avoid crash if
	entry has no labelled-by widget. Fixes bug #139236.

2004-04-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_item_get_keybinding); Separate items
	in keybinding to traverse from menubar by ":". Part of fix for
	bug #138392.

2004-03-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c (gail_window_real_initialize): Set role for
	GtkWindow of type GTK_WINDOW_POPUP to be ATK_ROLE_WINDOW instead of
	ATK_ROLE_FRAME. Part of fix for bug #135242.
	Omit setting of role for GtkHandleBox. See bug #138339.

2004-03-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_accessibility_module_init): Do not attempt to
	create a GailWindow for a GtkHandleBox. Fixes bug #138339.

2004-03-23  Guntupalli Karunakar  <karunakar@freedomink.org>

        * configure.in: Added "pa" (Punjabi) to ALL_LINGUAS.

2004-03-23  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "da" "pl" "tr" "zh_CN" "zh_TW" to ALL_LINGUAS.

2004-03-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombobox.c (gail_combo_box_get_name): Report name
	correctly for GtkComboBox which uses a TreeModel with more than one
	column. Fixes bug #136976.

2004-03-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_ref_relation_set): Report LABELLED_BY
	relation on GailCombo when mnemonic widget is GnomeFileEntry.
	Fixes bug #137584.

2004-03-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.6.0=====

	* configure.in:
	Incremented revision to 1.6.0

	* NEWS:
	Updated for changes in 1.6.0

2004-03-21  Samúel Jón Gunnarsson  <sammi@techattack.nu>

	* configure.in: Added Icelandic (is) to ALL_LINGUAS

2004-03-17  Guntupalli Karunakar  <karunakar@freedomink.org>

	* configure.in: Added Hindi (hi) to ALL_LINGUAS

2004-03-16  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added British (en_GB) to ALL_LINGUAS

2004-03-16  Sayamindu Dasgupta <sayamindu@clai.net>

	* configure.in: Added Bengali (bn) to ALL_LINGUAS

2004-03-15  Mugurel Tudor  <mugurelu@go.ro>

	* configure.in: Added Romanian to ALL_LINGUAS

2004-03-15 Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.8=====

	* configure.in:
	Incremented revision to 1.5.8

	* NEWS:
	Updated for changes in 1.5.8

2004-03-15  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Russian to ALL_LINGUAS.

2004-03-11 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (find_label_child): Find label for button
	which is a GtkTreeView column header. Fixes bug #135943.

2004-03-10  Gustavo Maciel Dias Vieira  <gdvieira@zaz.com.br>

	* configure.in: Added pt_BR to ALL_LINGUAS.

2004-03-09 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (find_label): Ignore label found within button
	when creating LABELED_BY relation.
	Fixes bug #136602.

2004-03-08 Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.7=====

	* configure.in:
	Incremented revision to 1.5.7

	* NEWS:
	Updated for changes in 1.5.7

2004-03-04 Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Check required GTK+ version to 2.3.5

	* gail/gailwidget.c (gail_widget_ref_relation_set): Use
	gtk_widget_list_mnemonic_labels to create LABELLED_BY relation.

	Fixes bug #136163.

2004-03-04 Padraig O'Briain  <padraig.obriain@sun.com>

	* .cvsignore: Add gail-uninstalled.pc
	Remove gail-uninstalled.pc from CVS and add gail-uninstalled.pc.in.

	Fixes bug #136146.

2004-03-03 Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Add reference to gail-uninstalled.pc

	* gail-uninstalled.pc.in: New file.

	Fix supplied by Glynn Foster for bug #13581

	* Makefile.am: Add DISTCLEANFILES. Add gail-uninstalled.pc.in to
	EXTRA_DIST.

	* configure.in: Change AC_OUTPUT to AC_CONFIG_FILES.

2004-02-27 Dinesh Nadarajah <dinesh_list@sbcglobal.net>

	* started and committed initial Tamil translation.

2004-02-26 Bill Haneman <billh@gnome.org>

        Completion of fix for bug #135227, from Mariano Suárez-Alvarez.

	* gail/gailscale.c (gail_scale_get_type):
	Allocate correct size for GailScale, not sizeof GailRange.
	(gail_scale_notify): Re-use 'layout' when getting
	pango text, since we've already called gtk_scale_get_layout.

2004-02-25 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_ref_relation_set): Add heuristic
	to find labelled-by relation for TreeView in Character Palette
	preferences dialog. Fixes bug #135365.

2004-02-25 Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.6=====

	* configure.in:
	Incremented revision to 1.5.6

	* NEWS:
	Updated for changes in 1.5.6

2004-02-25 Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Change GTK+ required version to 2.3.4.

	* gail/gailscale.c: Do not assume that GtkScale has a PangoLayout.
	Fixes part of bug #135227.

2004-02-23 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailscale.c, gail/gailscale.h: New files to implement
	accessibility support for GtkScale.

	* gail/Makefile.am: Add gailscale.c and gailscale.h.

	* gail/gail.c: Add code to support GailScale.

	* gail/gail.h: Add gailscale.h.

	Fixes bug #104797.

2004-02-23 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c (gail_util_add_global_event_listener): Add call to
	g_strfreev to fix leak. Fixes bug #135018. Patch from Christian
	Persch.

2004-02-20  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "en_CA" to ALL_LINGUAS.

2004-02-19 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (find_label): Add heuristic to find label
	for NautilusEntry in FMPropertiesWindows. Fixes bug #134629.

2004-02-19 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_ref_relation_set): Do not report
	labelled-by relation for GtkBox which is not a GtkCombo.

2004-02-19 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gail_tree_view_changed_gtk): Checked widget
	is realized before emitting selection-changed signal on GailTreeview.

	Fixes bug #134952.

2004-02-18 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (gail_button_get_name):
	* gail/gailcombobox.c (gail_combo_box_get_name):
	* gail/gailexpander.c (gail_expander_get_name):
	* gail/gailframe.c (gail_frame_get_name):
	* gail/gailimage.c (gail_image_get_name):
	* gail/gailitem.c (gail_item_get_name):
	* gail/gaillabel.c (gail_label_get_name):
	* gail/gailstatusbar.c (gail_statusbar_get_name):
	* gail/gailwindow.c (gail_window_get_name):
	Chain up to get default name instead of accessing AtkObject data
	structure.

	* gail/gailwidget.c (gail_widget_get_name): Remove function as we
	should not report the widget name as the accessible name.

	This fixes bug #128439.

2004-02-18 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (get_label_from_button): Fix regression caused by
	previous commit. Fixes bug #134720.

2004-02-17 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/button.c (get_label_for_button): Use new function
	find_label_child which finds labels for buttons in gaim login screen.
	(get_n_labels_from_button): Use new function count_labels to allow
	for more levels of widgets between label and button.

	This fixes bug #134308.

	* gail/gailwidget.c (find_label): Fix warning by checking that a
	widget is a GtkLabel before using it.

2004-02-16 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtoplevel.c (is_tooltip_window): Remove this function
	as we now allow permit notification of tooltip window.
	(gail_toplevel_object_init): Omit check for tooltip window.
	(gail_toplevel_show_event_watcher): Omit check for tooltip window.

	* gail/gailwindow.c (gail_window_ref_relation_set): Add relation
	ATK_RELATION_POPUP_FOR for tooltip window.

	This fixes bug #76266.

2004-02-16 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_ref_relation_set): Fix typo in last
	commit. The labelled-by relation was not being reported correctly.

2004-02-16 Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.5=====

	* configure.in:
	Incremented revision to 1.5.5

	* NEWS:
	Updated for changes in 1.5.5

2004-02-16 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c (gail_label_ref_relation_set): Report GailCombo
	as label-for object if label's mnemonic widget is a GtkHBox, i.e.
	a GnomeFileEntry. Part of fix for bug #134131.

	* gail/gailwidget.c (gail_widget_ref_relation_set): Allow for
	non-focusable objects, i.e. GailCombo. If label is for a GtkHBox
	do not report labelled-by relation.  Report labelled-by relation for
	GailCombo inside a GnomeFileEntry. This is part of the fix for
	bug #134131. Find label for combo-box in Sound preferences capplet.
	Fixes bug #126972.

2004-02-12 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_finish_select): Check whether previous focus
	request was caused by a menu item deselect when menu is visible.
	(gail_deactivate_watcher): Check whether previous focus request
	was caused by a menu item deselect and cancel it if it was.

	This fixes bug #128973.

2004-02-11  Pauli Virtanen  <pauli.virtanen@hut.fi>

	* configure.in: Added "fi" (Finnish) to ALL_LINGUAS.

2004-02-10 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (gail_button_get_keybinding): If label has
	no mnemonic look for one on the label which labels the button.

	* gail/gailentry.[ch]: Add activate_keybinding to GailEntry.
	(gail_entry_get_keybinding): Get keybinding for activate action by
	looking on the label which labels the entry field.

	Fixes bug #132846.

	* gail/gaillabel.c (gail_label_ref_relation_set): Deal with
	GnomeIconEntry where the mnemonic widget is a grandparent of the
	button which sould be the labelled-by object.

	* gail/gailwidget.c (gail_widget_ref_relation_set): Deal with
	GnomeIconEntry where the mnemonic widget is a grandparent of the
	button which sould be the labelled-by object.

	Fixes bug #133967.

2004-02-09  Ales Nyakhaychyk  <nab@mail.by>

	* configure.in: Added 'be' (Belarusian) to ALL_LINGUAS.

2004-02-09  Maxim Dziumanenko <mvd@mylinux.com.ua>

	* configure.in: Added 'uk' (Ukrainian) to ALL_LINGUAS.

2004-02-06 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (find_label): Add heuristic to find label
	for entry in GtkFileSelection. Fixes bug #129371.

2004-02-05 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombo.c: Always report GtkEntry as child even if it is
	not editable. Fixes bug #133512.

2004-02-05  Takeshi AIHANA <aihana@gnome.gr.jp>

	* configure.in: Added 'ja' (Japanese) into ALL_LINGUAS.

2004-02-05 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c (gail_cell_object_finalize): Call g_object_unref on
	cell in ATK_RELATION_NODE_CHILD_OF relation.

	* gail/gailtreeview.c (gail_tree_view_ref_child): Do not call
	g_object_unref on cell being put into ATK_RELATION_NODE_CHILD_OF
	relation.

	Fixes bug #133420.

2004-02-04 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_ref_relation_set): Check all
	siblings of a widget for a label. Fixes bug #133200

2004-02-04 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_ref_relation_set): Add heuristic
	to find label for GnomeEntry. Fixes bug #133403.

2004-02-03 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c (gail_entry_insert_text_cb): Correct typo in
	adding idle handler. Partial fix for bug #133283.

2004-02-03 Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.4=====

	* configure.in:
	Incremented revision to 1.5.4

	* NEWS:
	Updated for changes in 1.5.4

2004-02-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (connect_model_signals): Pass GailTreeView
	instead of GtkTreeModel as second argument. Do not call
	g_object_ref on GtkTreeModel.
	(disconnect_model_signals): Pass GailtreeView instead of GtkTreeModel.
	Do not call g_object_unref on GtkTreeModel.
	(gail_tree_view_real_initialize): Call g_object_add_weak_pointer
	(gail_tree_view_real_notify_gtk): Call g_object_add_weak_pointer
	on tree_model when GtkTreeView's model changes.
	(gail_tree_view_destroyed): Call disconnect_model_signals when
	GtkTreeView is being destroyed.

	Fixes bug #132450.

2004-01-31 MÉ™tin Æmirov <metin@karegen.com>

	* configure.in: Added az to ALL_LINGUAS.

2004-01-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombobox.[ch]: New files which implement accessibility
	support for GtkComboBox.

	* gail/Makefile.am: Add files gailcombobox.c and gailcombobox.h.

	* gail/gail.c: Add support for creating a GailComboBox.

	* gail/gail.h: Add gailcombobox.h.

2004-01-27 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c (window_removed): If the window being removed is
	active emit deactivate signal. Fixes bug #132604.
	window_focus: Fix typo.

2004-01-26 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtoplevel.c (is_attached_menu_window): Avoid warning
	when popping up context menu in gnome-terminal. Fixes bug #132547.

2004-01-23 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillist.c: Add implementation of AtkSelection. Bug #132136.

2004-01-22 Bill Haneman <bill.haneman@sun.com>

	* gail/gailexpander.c:
	(gail_expander_do_action):
	Fixed test for action '1' to action '0'
	since that's the index of the first and only action.
	Fixes bug #131458.

2004-01-20 Alastair McKinstry <mckinstry@computer.org>

	* configure.in: Added "ga" (Irish) to ALL_LINGUAS.

2004-01-13  Laurent Dhima  <laurenti@alblinux.net>

	* configure.in: Added "sq" to AL_LINGUAS.

2004-01-12 Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.3=====

	* configure.in:
	Incremented revision to 1.5.3

	* NEWS:
	Updated for changes in 1.5.3

2004-01-11  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.in: Added "it" (Italian) to ALL_LINGUAS.

2004-01-09  Changwoo Ryu  <cwryu@debian.org>

	* configure.in: Added "ko" to ALL_LINGUAS.

2004-01-07  Sanlig Badral  <badral@openmn.org>

	* configure.in: Added "mn" to ALL_LINGUAS.

2004-01-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* autogen.sh: Add call to glib-gettextize omitted in previous
	commit. Fixes bug #130691.

2004-01-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* autogen.sh: Update to call automake-1.7, libtoolize, gtkdocize
	and glib-gettextize.

	* configure.in: Cleanup to make use of newer autoconf/automake
	features.

	* Makefile.am: Add gail.pc.in to EXTRA_DIST. get rid of files rule.

	* docs/reference/libgail-util/Makefile.am: Use common gtk-doc.make.

	* docs/reference/libgail-util/gail-libgail-util-docs.sgml: Add empty
	file.

	Fixes bug #130573.

2004-01-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Move specification of ALL_LINGUAS to later in file
        so that CATOBJEXT is defined correctly.
        Use GAIL_LOCALEDIR instead of gailocaledir.

	* gail/Makefile.am: Move definition of GAILLOCALEDIR.

	* gail/gailimage.c: Use GAIL_LOCALEDIR instead of GAILLOCALEDIR.

	Fixes bug #130489.

2004-01-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* docs/reference/libgail-util/gail-libgail-util-docs.sgml: Added XML in
	DOCTYPE statement. Fixes bug #129730. Patch supplied by Sebastien
	Bacher.

2004-01-02  Christophe Merlet  <redfox@redfoxcenter.org>

	* configure.in: Added "fr" to ALL_LINGUAS.

2004-01-01  Roozbeh Pournader  <roozbeh@sharif.edu>

	* configure.in: Added "fa" to ALL_LINGUAS.

2003-12-30  Å½ygimantas BeruÄka  <uid0@tuxfamily.org>

	* configure.in: Added "lt" to ALL_LINGUAS.

2003-12-28  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "hr" to ALL_LINGUAS.

2003-12-27  Ã…smund SkjÃ¦veland  <aasmunds@fys.uio.no>

	* configure.in: Added 'nn' to ALL_LINGUAS
	* po/nn.po: Added Norwegian Nynorsk translation.

2003-12-20  Arafat Medini <lumina@silverpen.de>

	* ar.po: Added locale "ar" to ALL_LINGUAS

2003-12-16	Mohammad DAMT  <mdamt@bisnisweb.com>

	* configure.in: Added "id" in ALL_LINGUAS
	* po/id.po: Added Indonesian translation by Ahmad Riza H Nst <ari@160c.afraid.org>

2003-12-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailexpander.c (gail_expander_real_notify_gtk): Call
	gail_text_util_text_setup if necessary.

	* gail/gaillabel.c (notify_name_change): Check that textutil has been
	initialized.

	Fixes bug #128878.

2003-12-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_real_initialize, gail_tree_view_real_notify_gtk):
	Set role to TABLE if it is not a TREE_TABLE. Fixes bug #128799.

2003-12-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.2=====

	* configure.in:
	Updated required versions of atk and gtk-2.0.
	Incremented revision to 1.5.2

	* NEWS:
	Updated for changes in 1.5.2

2003-12-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.[ch]: Add insert_idle_handler and ensure that
	idle handler is not called if object is destroyed. Fixes bug #128497.

2003-12-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailexpander.[ch]: New files which implement accessibility
	support for GtkExpander.

	* gail/Makefile.am: Add files gailexpander.c and gailexpander.h.

	* gail/gail.c: Add support for creating a GailExpander.

	* gail/gail.h: Add gailexpander.h.

	This fixes part of bug #128378.

	* gail/gailbutton.c: Remove incorrect comment.

2003-12-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gail_tree_view_changed_gtk): Add check that
	GtkTreePath is not NULL. Fixes bug #128376.

2003-12-02  Duarte Loreto <happyguy_pt@hotmail.com>

	* configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2003-11-27  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added no to ALL_LINGUAS

2003-11-26  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Added "ca" (Catalan).

2003-11-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_focus_tracker): Fix looping when parent of focus
	object is not NULL and not a GtkAccessible. Fixes bug #127898.

2003-11-25  Kaushal Kumar  <kaushal.kumar@wipro.com>

	* gail/gailtreeview.c (set_cell_visibility):
	Fixed a compilation error.

2003-11-24  Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.in: Added 'ms' (Malay) to ALL_LINGUAS.
2003-11-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gail_tree_view_set_scroll_adjustments): Use
	scroll adjustment for vertical adjustment.
	(is_cell_showing): Use correct horizontal value for cell position.

	This fixes bug #127607.

2003-11-22  Kostas Papadimas <pkst@gnome.org>

	* configure.in: Added "el"to ALL_LINGUAS.

2003-11-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	(gail_focus_tracker): New function which checks whether the focus
	object is a GtkAccessible. If not find parent which is a GtkAccessible
	and set gail-focus-object on the GtkAccessible to the focus object.
	This ensures that focus object is reported correctly after window
	deactivate and activate. Fixes bug #127486.

2003-11-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.1=====

	* configure.in:
	Incremented revision to 1.5.1
	Corrected definition of ALL_LINGUAS.

	* NEWS:
	Updated for changes in 1.5.1

2003-11-18  Miloslav Trmac  <mitr@volny.cz>

	* configure.in: Added cs (Czech) to ALL_LINGUAS.

2003-11-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c (gail_label_real_notify_gtk): Check that top_level
	object is a GailWindow before connecting to "create" signal. This
	avoids warning messages being emitted.
	(gail_label_finalize): Check textutil exists before unreffing it.

	* gail/gailwidget.c (gail_widget_ref_relation_set): Add code to
	find relationship in Desktop Preferences Background. Fixes bug #126973.

2003-11-14  Dafydd Harries  <daf@parnassus.ath.cx>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS.

2003-11-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c, gailitem.c, gaillabel.c, gailnotebookpage.c:
	Initialize GailTextUtil when widget is mapped as label text may change
	after creation and before mapping to remove text such as <b></b>.
	Fixes bug #126797.

2003-11-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c: (gail_deselect_watcher): If subsequent_focus_widget
	is the deselected widget set subsequent_focus_widget to NULL.
	(gail_focus_notify): If subsequent_focus_widget is set after
	calling atk_focus_tracker_notify() notify new focus widget in
	idle handler.
	(gail_focus_notify_when_idle): If the next_focus_widget and current
	widget are both menu items and widsget parent is submenu of
	next_focus_widget set subsequent_focus_widget to widget.

	This fixes bug #124838.

2003-11-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_map_submenu): Rename from gail_show_cb.
	(gail_finish_select): If menu item has submenu check that submenu is
	mapped instead of showing. Fixes bug #126801.

	* gail/gailwidget.c (gail_widget_on_screen): Remove redundant code.

2003-11-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (gail_button_get_name): Use name from stock icon
	if no other name is available. Fixes bug #126631.

2003-11-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gail_tree_view_ref_focus_cell): Correct error
	introduced when code was refactored last week. Fixes bug #126706.

2003-11-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* ===== Released 1.5.0=====

	* configure.in:
	Incremented revision to 1.5.0

	* NEWS:
	Updated for changes in 1.5.0

2003-11-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/Makefile.am: Add reference to gailutil.h

	* gail/gailbutton.c (gail_button_real_add_gtk): New function which
	updates text representation when label in button changes.

	* gail/gailoptionmenu.c (gail_option_menu_real_add_gtk): Call
	parent class's function, i.e. gail_button_real_add_gtk.

	This fixes bug #125703.

	* gail/gailwindow.[ch]: Store previous name of window title
	in GailWindow data structure so we can check whether the window
	title has actually changed before emitting a notification.
	Fixed bug #126605.

2003-11-11  Pablo Gonzalo del Campo  <pablodc@bigfoot.com>

	* configure.in: Added "es" to ALL_LINGUAS.

2003-11-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailadjustment.c: Declare parent_class as static.
	Fixes bug #126726.

2003-11-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	(get_focus_index): New function which gets the index of the focused
	cell.
	(gail_tree_view_ref_child): If focus cell is not set, and this cell
	is the focus cell set state FOCUSED. Fixes bug #126356.

2003-11-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (get_index): Allow for being called with path
	set to NULL.

2003-11-05  Danilo Å egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-11-05  Christian Neumair  <chris@gnome-de.org>

	* configure.in: Added "de" to ALL_LINGUAS.

2003-11-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c: Eliminate warning messages found when
	investigating bug #126294.

2003-11-05  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2003-11-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add new files gail/gailintl.h  po/.cvsignore po/POTFILES.in

	* Makefile.am: Add po subdirectory.

	* autogen.sh: Add call to glib-gettextize

	* configure.in: Add gettext code and reference to po/Makefile

	* gail/Makefile.am: Add define for GAILLOCALEDIR

	* gail/gailimage.c:
	(gail_image_get_name): new function which returns name for GTK or GNOME
	stock icon.

	This fixes bug #122549.

2003-10-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_focus_watcher): On focus-out set next_focus_widget
	to NULL if it is in the widget which received the focus-out event.
	(gail_deselect_watcher): Do not report focus on menu bar when it is the
	parent menu of a menu item which is deselected.
	(gail_focus_notify_when_idle): Ignore focus request for a widget
	when menu item is about to be focused.

	This fixes bug #124232.

	* gail/gailclist.c, gail/gailcontainer.c, gail/gailoptionmenu.c,
	gail/gailsubmenuitem.c, gail/gailtreeview.c: Ensure that name
	specified in "property_change" signal contains hyphens instead of
	underlines. (bug #125212)

2003-10-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.[ch]:
	Add fields old_hadj and old_vadj to GailTreeView so we can know
	previous adjustment values when they change.
	(gail_tree_view_widget_destroyed): New function which removes
	signal handlers on adjustments when GtkTreeView is destroyed.
	(gail_tree_view_real_initialize): Set old_hadj and old_vadj values in
	GailTreeView data structure. Use g_object_add_weak_pointer to ensure
	that value is set to NULL when adjustment is destroyed.
	Add signal handler for "set_scroll_adjusments" so we can know
	when adjustments are changed.
	(gail_tree_view_notify_gtk): Handle adjustment changes.
	(gail_widget_set_scroll_adjustments): Handle adjustment changes
	called by call to gtk_widget_set_scroll_adjustments.

	This fixes bug #119635

2003-10-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcontainer.c (gail_container_real_remove_gtk): Add
	reference while calling g_signal_emit.

	This fixes bug #124575.

2003-10-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.4.1

	* NEWS:
	Updated for changes in 1.4.1

2003-10-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.[ch]:
	Add fields window_create_handler and has_top_level to GailLabel.
	(gail_label_real_notify_gtk): If label has changed check that
	application object exists before emitting notification.

	This is part of the fix for bug #123470

	* gail/gailmenuitem.c
	(get_children): New function which is called when menu item has a
	submenu. If the submenu has no children It emits a "show" signal
	on the submenu to force the submenu's menu items to be added if
	they are created only when submenu is shown as is the case in
	gnome-panel.

	This is part of the fix for bug #120303.

	* gail/gailutil.c (window_removed): Remove compiler warning.

2003-10-06  Malcolm Tredinnick <malcolm@commsecure.com.au>

	* docs/reference/libgail-util/Makefile.am: Package up the XML
	API docs (the SGML ones are not built any longer). Fixes bug
	#123876.

	* README: Clarify where to report bugs (it took me a while to
	find it in bugzilla).

	* docs/.cvsignore, docs/reference/.cvsignore
	* docs/reference/libgail-util/tmpl/.cvsignore: Ssshh...

2003-10-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_focus_watcher): If focus widget is a GtkSocket
	without an in-process plug ignore the focus notification as the
	embedded plug will report a focus notification.

	This is part of the fix for bug #120991.

2003-10-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c (gail_label_real_notify_gtk): Store label_length
	when contents of label is changed.

	This fixes bug #123696.

2003-09-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (find_label): Avoid warning message when
	Scrollbar is not found as child as ScrolledWindow.

2003-09-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Add check for sun_len field in sockaddr_un
	data structure.

	* tests/ferret.c: Make <sys/types> the first include file.
	Fill in sun_len field of sockaddr_un data structure if it exists.

	This fixes build issues on Darwin (bug #123343). Problem and
	fix supplied by Jerry Talkington.

2003-09-24  Kjartan Maraas  <kmaraas@gnome.org>

	* gail/gailbutton.c: (gail_button_real_initialize):
	* gail/gailcombo.c: (gail_combo_object_init):
	* gail/gailnotebook.c: (gail_notebook_real_notify_gtk):
	* gail/gailnotebookpage.c: (get_label_from_notebook_page):
	* gail/gailoptionmenu.c: (gail_option_menu_ref_child):
	* gail/gailtextview.c: (gail_text_view_get_character_at_offset):
	* gail/gailtreeview.c: (gail_tree_view_real_initialize),
	(idle_cursor_changed): Remove a bunch of unused vars and don't
	initialize ints to NULL but 0.

2003-09-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c (gail_object_real_initialize): Set role ALERT
	for GtkMessageDialog. This fixes bug #122551.

2003-09-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.4.0

	* NEWS:
	Updated for changes in 1.4.0

2003-08-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.3.6

	* NEWS:
	Updated for changes in 1.3.6

2003-08-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.[ch]: Add name_change handler so that notification
	of title change can be done in an idle handler. This fixes bug #119259.

2003-08-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.3.5

	* NEWS:
	Updated for changes in 1.3.5

2003-08-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c (gail_window_new): Add notification that
	tooltip is showing if window is mapped when its accessible is created.

	This fixes bug #118743.

2003-08-01  Thomas Vander Stichele  <thomas at apestaart dot org>

	* gail/gail.c: (gnome_accessibility_module_shutdown): fix typos.

2003-07-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombo.[ch]:  Add old_selection field to GailCombo data
	structure.
	(gail_combo_initialize): Initialize old_selection.
	(gail_combo_selection_changed_gtk): Use old-selection to decide
	whether selection has changed and only emit "selection-changed" signal
	if the selection has changed. use idle handler to notify deselection
	to avoid notification if immediately followed by another selection.

	gail/gailentry.c:
	(gail_entry_notify_insert): New function to notify text insertion
	(gail_entry_real_notify_gtk): Use gail_entry_notify_insert to notify
	text insertion.
	(gail_entry_insert_text_cb): Call gail_entry_notify_insert in an
	idle handler so we get notification even if selection-bound or
	cursor-position has not changed.

	This fixes bug #117063.

2003-07-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c
	(idle_expand_row): Remove g_assert_not_reached call as it can be
	reached if row is deleted is row-expanded callback.
	(set_expand_state): Do not attempt to remove action for
	GailContainerCell.

	This fixes bug #117630.

2003-07-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_get_accessible_for_widget): Do not report
	focus on cell when TreeViuew has focus

	* gail/gailtreeview.c (idle_cursor_changed): Do not emit
	focus event when active-descendant-changed signal is emitted.

	This fixes bug #115599.

	* gail/gailrange.c (gail_range_finalize): Fix compiler warning.

2003-07-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.3.4

	* NEWS:
	Updated for changes in 1.3.4

2003-06-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c:
	(gail_text_view_add_selection): Set insert mark at end of selection.
	(gail_text_view_remove-selection): Remove redundant call to set
	insert mark.
	(gail_text_view_set_selection): Set insert mark at end of selection.
	This fixes bug #116271.

2003-06-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (iterate_thru_children): Add check on value
	returned by gtk_tree_model_get_iter(). This fixes bug #116043.

2003-06-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c (gail_text_view_get_offset_at_point): Update
	to work around fact that gtk_text_view_get_iter_at_location sometimes
	returns iter pointing at next character. This fixes bug #114780.

2003-06-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c
	(find_label): Update to deal with situation where label is adjacent to
	widget but is not its mnemonic widget. Return non-NULL only if it is
	widget's label.
	(gail_widget_ref_state_set): Pass starting widget and widget which
	may be labelled to find_label.

	This fixes bug #114452.

	* gail/gailnotebookpage.c (gail_notebook_page_ref_state_set):
	If tabs are not shown set states SHOWING and VISIBLE if page's child
	has them set. This fixes bug #114397.
	(gail_notebook_page_get_extents): Add call to g_object_unref to avoid
	incrementing reference count on object.

2003-05-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.3.3

	* NEWS:
	Updated for changes in 1.3.3

2003-05-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailoptionmenu.c: Report only one child. This fixes bug #111983.

2003-05-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_on_screen): Check that widget is
	actually on screen. This fixes bug #109860.

2003-05-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (gail_button_get_n_children, gail_button_ref_child):
	Use object data "gtk-attached-menu" to check when button has attached
	menu in order to report menu as child. This fixes bug #113117.

	* gail/gailwidget.c (gail_widget_ref_relation_set): Fix warning
	emitted when widget has NULL parent.

2003-05-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (idle_cursor_changed): Fix compiler warnings.

	* gail/gailwidget.c (gail_widget_ref_relation_set): Find label for
	widget when the label is a sibling of widget's parent. This fixes
	bug #113069.

2003-05-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.3.2

	* NEWS:
	Updated for changes in 1.3.2

2003-05-14 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.c (gail_notebook_real_notify_gtk): Fix
	crash when starting gucharmap. This fixes bug # 112964.

	* gail/gailutil.c (window_removed): Remove signal handlers when
	window is removed. This fixes bug #112896.

2003-05-12 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailitem.c (gail_item_get_name): If the item is a menu item
	attached to a GtkOptionMenu return correct name for selected
	menu item. This fixes bug #112572.

	* gail/gailwidget.c (gail_widget_ref_relation_set): New function
	which creates LABELLED_BY relation for label. This fixes bug #72249.

2003-05-06 Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c
	(gail_tree_view_ref_child): Add state FOCUABLE.
	(idle_cursor_changed): Set state FOCUSED on focus cell.
	This fixes bug #112075.

2003-05-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.3.1

	* NEWS:
	Updated for changes in 1.3.1

2003-05-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* README: Add a paragraph describing what GAIL is.

	* docs/reference/libgail-util/tmpl/gailmisc.sgml: Add text to short
	and long description.

	* gail/gailoptionmenu.c (gail_option_menu_real_initialize):
	New function in which role is set instead of in gail_option_menu_new.

	* gail/gailbutton.c (get_label_from_button): Allow text to be reported
	on GailOptionMenu. This fixes bug #111857.

2003-04-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* docs/reference/libgail-util/Makefile.am: Add
	MKDB_OPTIONS=--output-format=xml

	* docs/reference/libgaill-util/gail-libgail-util-docs.sgml:
	Convert to Docbook XML.

	This fixes bug #111794.

	* docs/reference/libgail-util/libgail-util-sections.txt: Add
	GailTextUtillClass to Standand SUBSECTION.
	Put gail_text_util_get_type in private SUBSECTTION.

2003-04-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcontainer.c (gail_container_new): Remove setting of role
	as it is done in gail_container_real_initialize().

	* gail/gailmenu.c (gail_menu_get_parent): Allow for menu being
	attached to a button.

	* gail/gailtoplevel.c (is_attached_menu_window): Return true if menu
	is attached to a button.

	This addresses part of bug #111573.


	* gail/gailtoplevel.c (gail_toplevel_hide_event_handler): Return
	TRUE instead of FALSE if object is not a GtkWindow. This fixes
	bug #111738.

2003-04-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c (get_window_desktop) (get_stacked_window):
	Add check for whether property is set.

	This fixes bug #111532. Problem reported by and fix provided by
	Nalin Dahyabhai.

	* gail/gailwidget.c (gail_widget_on_screen): Add check that widget
	position is on the screen.

2003-04-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c (atk_key_event_from_gdk_event_key): Set string
	field of AtkKeyEventStruct correctly if Control modifier is
	specified.

	This fixes part of bug #108666.

2003-04-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c (gail_window_real_initialize): Set role of GtkPlug
	to ATK_ROLE_PANEL. This fixes bug #108332.

2003-03-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.3.0

	* NEWS:
	Updated for changes in 1.3.0

2003-02-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailoptionmenu.c (gail_option_menu_ref_child): Fix error in
	getting second child (bug #107247)

2003-02-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (get_image_from_button): Update to get image
	from button for buttons on Gnome CD Player (Bug #106715)

2003-02-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailadjustment.c gail/gailbutton.c gail/gailcanvas.c
	gail/gailcheckmenuitem.c gail/gailchecksubmenuitem.c gail/gailcombo.c
	gail/gailcontainer.c gail/gailentry.c gail/gailitem.c gail/gaillabel.c
	gail/gailmenu.c gail/gailmenuitem.c gail/gailnotebook.c
	gail/gailobject.c gail/gailpaned.c gail/gailprogressbar.c
	gail/gailrange.c gail/gailscrolledwindow.c gail/gailspinbutton.c
	gail/gailstatusbar.c gail/gailsubmenuitem.c gail/gailtextview.c
	gail/gailtogglebutton.c gail/gailwidget.c gail/gailwindow.c:
	Set role in implementation of atk_object_initialize() instead of in
	_new function so that code using these objects can reset the role.

2003-02-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/Makefile.am: Add gailobject.[ch], gailobjectfactory.[ch]

	* gail/gail.c: Specify accessible object to be created for GtkObject

	* gail/gail.h: Add gailobject.[ch], gailobjectfactory.[ch]

	* gail/gailobject.[ch] gail/gailobjectfactory.[ch]: New files to
	create an AtkGObjectAccessible for a GtkObject.

	This is used for accessibility support in eel and nautilus for
	gnome-2.2.

2003-02-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (adjustment_changed): Remove emission of
	visible_data_changed signal as it is already done in
	traverse_cells().

2003-02-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c gail/gailbutton.c gail/gailcell.c gail/gailcombo.c
	gail/gailentry.c gail/gailmenuitem.c gail/gailnotebook.c
	gail/gailoptionmenu.c gail/gailtextview.c gail/gailtreeview.c:
	Replace gtk_idle_add by g_idle_add and gtk_idle_remove by
	g_source_remove as the gtk functions are deprecated.

2003-02-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebookpage.c (gail_notebook_page_get_name): Remove
	debug statement.

2003-02-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombo.c
	(gail_combo_real_initialize): Set accessible parent of
	accessible for GtkCombo's popup, instead of the list to be the
	GailCombo.
	(gail_combo_ref_child): Set popup to be child of GailCombo instead of
	list.

	* gail/gailitem.[ch]:
	Add implementation of AtkText interface. (bug #104657)

	* gail/gailnotebookpage.[ch]
	Add implementation of AtkText interface for page tab. (bug #104657)

	* gail/gailstatusbar.[ch]:
	Add implementation of AtkText interface. (bug #104657)

	* gail/gailtoplevel.c
	(gail_toplevel_show_event_watcher): Add check whether window is for
	GtkCombo before reporting it.
	(is_combo_window): New function which checks whether window is for
	GtkCombo.

	* gail/gailutil.c (state_event_watcher): Check that window is attached
	to top level before reporting signal.

2003-01-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (is_cell_showing): Correct for case where TreeView
	has a vertical scrollbar.

	This fixes bug #104623.

2003-01-28  Padraig O'Briain  <padraig.obriain@sun.com>

	Have GailOptionMenu report Menu and Label as children:

	* gail/gailbutton.c
	(gail_button_class_init): Set function pointers for add_gtk and
	remove_gtk to NULL so nothing happens when a child is added to or
	removed from the GtkButton.
	(gail_button_real_initialize): Remove reference to signal handlers for
	add and remove signals.
	(get_label_from_button): Return NULL if GtkButton is a GtkOptionMenu

	* gail/gailcontainer.[ch]
	Add function pointers for add_gtk and remove_gtk so that objects
	which inherit from GailContainer can implement their own signal
	handler.
	(gail_container_real_initialize): Pass AtkObject to signal handler
	to save having to obtain it from the GtkContainer.

	* gail/gailitem.c
	(gail_item_class_init): Set function pointers for add_gtk and
	remove_gtk to NULL so nothing happens when a child is added to or
	removed from the GtkItem.
	(gail_item_real_initialize): Remove reference to signal handlers for
	add and remove signals and remove function as nothing now needs to
	be done.

	* gail/gailmenu.c
	(gail_menu_real_initialize): New function which sets accessible parent
	if GtkMenu is attached to a GtkOptionMenu.

	* gail/gailoptionmenu.c
	(gail_option_menu_get_n_children): New function which returns the
	number of children (max of 2, menu and label).
	(gail_option_menu_ref_child): New function which returns a reference
	to child of GailOptionMenu.
	(gail_option_menu_real_add_gtk): New function which notifies when label
	is added to GtkOptionMenu.
	(gail_option_menu_real_remove_gtk): New function which notifies when
	label is removed from GtkOptionMenu.

	* gail/gailstatusbar.c
	(gail_statusbar_class_init): Set function pointers for add_gtk and
	remove_gtk to NULL so nothing happens when a child is added to or
	removed from the GtkStatusbar.
	(gail_statusbar_real_initialize): Remove reference to signal handlers
	for add and remove signals.

	* gail/gailtoplevel.c
	(gail_top_level_show_event_watcher): Call atk_object_set_parent()
	for GailWindow added to top level.
	(gail_toplevel_remove_child): Set parent to NULL for GailWindow removed
	from top level.
	(is_attached_menu_window): Add check of whether GtkMenu is attached to
	a GtkOptionMenu.

	* gail/gailtreeview.c
	(gail_tree_view_class_init): Set function pointers for add_gtk and
	remove_gtk to NULL so nothing happens when a child is added to or
	removed from the GtkTreeView.
	(gail_tree_view_real_initialize): Remove reference to signal handlers
	for add and remove signals.

	* gail/gailutil.c
	(configure_event_watcher): Check that GailWindow's parent to top level
	before emtting signal on GailWindow.

	* gail/gailwindow.c
	(gail_window_get_parent): Do not assume that GailWindow's parent is
	top level if it has not been set; see change above to
	gail_top_level_event_watcher().

2003-01-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gail_tree_view_set_caption): Use property name
	accessible_table_caption_object instead of accessible_table_caption.

2003-01-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.2.0

	* NEWS:
	Updated for changes in 1.2.0

2003-01-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Take account of the fact that a GtkButton may contain more than one
	label. In this case the GailButton will report GailLabels as children.
	(get_label_from_button): Add two additional parameters, index and
	allow_many.
	(gail_button_get_n_children): Call get_n_labels_from_button() to
	determine the numbger of labels in the button.
	(gail_button_ref_child): Call get_label_from_button() to get GtkLabel
	whose accessible is reported as child, if appropriate.
	(get_n_labels_from_button): New function which counts the number of
	labels inside a button.

	* gail/gaillabel.c (gail_label_real_initialize): Call
	atk_object_set_parent() to set parent to button if label is inside a
	button.

	This fixes bug #103645.

2003-01-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailrange.c (gail_range_finalize): Add check that GailAdjustment
	has a GtkAdjustment.This fixes warnings emitted by at-spi test program
	test-simple.

2003-01-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c (gail_text_view_get_character_at_offset):
	Use gtk_text_buffer_get_slice() instead of gtk_text_buffer_get_text().
	Speed up function.

	This fixes bug #103035.

2003-01-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Take account of the fact that the label for a button may not exist
	when the GailButton is created.

	This fixes bug #101350.

2003-01-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.1.7

	* NEWS:
	Updated for changes in 1.1.7

2003-01-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Add -wth-html-dir option. (bug #100599)

	* docs/reference/libgail-util/Makefile.am; Remove HTML_DIR and
	INSTALLDIR.

2003-01-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.1.6

	* NEWS:
	Updated for changes in 1.1.6

2002-12-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailrange.c (gail_range_finalize): Disconnect signal handler
	on GtkAdjustment.

	This fixes bug #101137.

2002-12-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c
	(cursor_changed): Pass AtkObject instead of GtkWidget to idle handler.
	(idle_cursor_changed): Add check for whether widget was deleted

	This fixes bug #101349.

2002-12-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.1.5

	* NEWS:
	Updated for changes in 1.1.5

2002-12-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c:
	(gail_label_real_initialize)
	(gail_label_real_notify_gtk): Use default values of 0 instead of -1.

	This addreses bug #101020.

2002-12-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.[ch]: Add AtkText interface for GailButton.
	Text selection and text cursor functions are not implemented.

2002-12-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.[ch]:
	Add focus-cell to GailtreeView data structure.
	(idle_cursor-changed): Do not emit active-descendant-changed
	if new focus cell is the same as previous focus cell. Store focus cell
	in GailTreeView data structure.

	This fixes bug #100829.

2002-12-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.1.4

	* NEWS:
	Updated for changes in 1.1.4

2002-12-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Update to depend on version 2.1.3 of gtk+.

2002-12-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_ref_state): New function which returns state
	ATK_STATE_MANAGES_DESCENDANTS
	(gail_tree_view_get_cell_area):
	Use gtk_tree-view_column_cell_get_position() to get cell area for cell
	in multi-renderer column. This fixes bug #84133.
	(idle_cursor_changed): Emit active-descendant-changed signal.

2002-12-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_connect_widget_destroyed):
	Use g_signal_connect_after instead of g_signal_connect (bug #95794)

2002-11-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* NEWS:
	Updated for changes in 1.1.3

2002-11-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Update to take account of gtk-doc-version being 0.10
	Updated version required to 0.9

2002-11-20  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtoplevel.c:
	(gail_toplevel_new):
	Set role to ATK_ROLE_APPLICATION.

2002-11-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow (filter_func): Add check that GdkWindow in GdkEvent
	is non-NULL. (bug #98305)

	* gail/gail.c
	(gail_accessibility_module_init) (gail_accessibility_module_shutdown):
	Use fprintf(stderr, ...) instead of g_print()

2002-11-12  Bill Haneman <bill.haneman@sun.com>

	[fix for bugzilla 98275]
	* gail/gailbutton.h
	Replaced action_number with an action_queue.
	* gail/gailbutton.c
	(gail_button_do_action):
	Add the action to a GQueue instead of only allowing
	one pending action at a time.
	(idle_do_action): Process the whole queue of pending actions instead of
	only a single action.
	(gail_button_instance_init gail_button_finalize):
	Changes in support of above.

2002-10-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c
	(gail_window_new): Set role to ATK_ROLE_TOOL_TIP if GtkWindow's name
	is "gtk-tooltips".
	(gail_window_get_name): Return contents of tooltip if role is
	ATK_ROLE_TOOL_TIP.

	This fixes bug 95824.

2002-10-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.1.2
	Updated versions for dependencies

	* NEWS:
	Updated for changes in 1.1.2

2002-10-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c (gail_entry_real_notify_gtk):
	Use gtk_entry_get_visibility instead of getting property value.

	* gail/gailframe.c (gail_frame_get_name):
	Use gtk_frame_get_label instead of getting property value.

	* gail/gailmenuitem.c (gail_menu_item_ref_state_set):  Remove this
	function as it does not add any value. This means that
	ATK_STATE_SELECTABLE is not unset for a non-sensitive menu item.

	* gail/gailstatusbar.c (gail_frame_get_name):
	Use gtk_label_get_label instead of getting property value.

	* gail/gailtextview.c (gail_text_view_real_notify_gtk):
	Use gtk_text_view_get_editable instead of getting property value.

	* gail/gailwidget.c
	(gail_widget_ref_state_set): Set state ATK_STATE_ENABLED for
	sensitive widget.
	(gail_widget_real_notify_gtk): Check for focus notifications first as
	they are likely to be most frequent.

	* gail/gailwindow.c (gail_window_ref_state_set): Use
	gtk_window_get_resizable() instead of getting property value.

2002-10-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombo.c gail/gaillabel.c gail/gailoptionmenu.c
	gail/gailtreeview.c:
	Fix compiler warnings pointed out by Michael Meeks.

2002-10-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (gail_button_get_keybinding): Add modifier
	to keybinding; this fixes bug 95151. Fix leak of value returned by
	gtk_accelerator_name().

	* gail/gailcanvasitem.c (gail_canvas_item_get_mdi_zorder): New
	function to fix compiler warning.

2002-10-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c (gail_text_view_set_caret_offset):
	Use gtk_text_buffer_place_cursor() instead of
	gtk_text_buffer_move_mark_by_name(). Fixes bug #95056.

2002-10-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c
	(gail_tree_view_add_selection): New function which selects a cell
	if rows have only one visible column.
	(cursor_changed): Updated comment
	(get_path_column_from_index): Check path exists before calling
	gtk_tree_path_free

2002-09-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.1.1
	Updated versions for dependencies

	* NEWS:
	Updated for changes in 1.1.1

2002-09-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c (configure_event_watcher): Suppress warning message
	when a widget which is not a GtkWindow, e.g. a GtkDrawingArea, emits
	a GDK_CONFIGURE event.

2002-09-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvasitem.c
	(gail_canvas_item_initialize): Use "atk-component-layer" to store
	layer value, to be consistent with GailWidget.
	Move definition of get_zorder from AtkObject class to AtkComponent
	interface.

	* gail/gailwidget.c (gail_widget_get_layer):  Remove assertions

	* gail/gailwindow.c
	(gail_window_real_initialize): Use "atk-component-layer" to store
	layer value, to be consistent with GailWidget.
	Add desktop, an array of ints to GailScreenInfo structure. This
	array caches the desktop of the corresponding Window in the
	stacked_windows array.
	Add update_desktop_handler, id for idle handler for updating
	cached desktop value to GailScreenInfo structure.
	Add desktop_changed, an array of gboolean to GailScreenInfo structure.
	This array stores whether the desktop value of the corresponding
	Window in the stacked_windows array needs to be updated.
	(get_window_desktop): New function to get the _NET_WM_DESKTOP value
	for a Window.
	(free_screen_info): New function which frees data allocated in a
	GailScreenInfo structure.
	(get_stacked_windows): Copy cached desktop and desktop_changed
	value for a Window from previous GailScreenInfo structure, if
	Window was in previous structure, otherwise call get_window_desktop()
	to get the Window's desktop value. Use free_screen_info().
	(update_desktop_info): Update caches desktop values for Windows
	whose value has changed.
	(filter_func): Function used to get notification of change
	of _NET_WM_DESKTOP property and update cache if Window is in cache.
	This function is also used instead of removed function
	root_window_event_filter  to update screen info.
	(get_window_zorder): Use the cached value for a Window's desktop
	to check whether a window is on the same desktop before incrmenting
	the zorder.

	Remove some debug statements.

2002-09-06  Mark McLoughlin  <mark@skynet.ie>

	* gail/gailwindow.c: (gail_window_class_init): fix warnings.
	(gail_window_real_initialize): set layer as ATK_LAYER_WINDOW.
	(atk_component_interface_init): set get_mdi_zorder.
	(get_stacked_windows), (update_screen_info),
	(root_window_event_filter), (display_closed),
	(init_gail_screens), (init_gail_screen),
	(get_screen_info), (get_window_zorder),
	(gail_window_get_mdi_zorder): impl code to obtain the z-order
	directly from _NET_CLIENT_LIST_STACKING root window property
	and to monitor for changes on that property. Mostly fixes
	#84097 - some remaining issues, though.

2002-09-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* docs/reference/libgail-util/gail-libgail-util-sections.txt:
	Remove GailTextUtilClass

	* docs/reference/libgail-util/tmpl/gailtextutil.sgml:
	Add some text to descriptions and remove GailTextUtilClass

	* libgail-util/gailtextutil.h: Add documentation for GailOffsetType

	These changes ensure that all symbols are documented.

2002-09-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gailbutton.[ch]: Add action_idle_handler and action_number
	to GailButton data structure.
	(gail_button_do_action): Do action in idle handler idle_do_action().
	Return FALSE if action pending.
	(idle_do_action): New idle handler which does the actions.
	(gail_button_finalize): Remove idle handler if present.

	* gailcell.[ch]: Add action_idle_handler and action_func to
	GailCell data structure.
	(gail_cell_object_finalize): Remove idle handler if present.
	(gail_cell_action_do_action): Do action in idle handler
	idle_do_action().
	Return FALSE if action pending.
	(idle_do_action): New idle handler which does the actions.

	* gailcombo.[ch]: Add action_idle_handler to GailCombo data structure.
	Cosmetic changes.
	(gail_combo_do_action): Do action in idle handler idle_do_action().
	Return FALSE if action pending.
	(idle_do_action): New idle handler which does the actions.
	(gail_combo_finalize): Remove idle handler if present.

	* gailentry.[ch]: Add action_idle_handler to GailEntry data structure.
	(gail_entry_finalize): Remove idle handler if present.
	(gail_entry_do_action): Do action in idle handler idle_do_action().
	Return FALSE if action pending.
	(idle_do_action): New idle handler which does the actions.

	* gailmenuitem.[ch]: Add action_idle_handler to GailMenuItem
	data structure.
	(gail_menu_item_do_action): Do action in idle handler idle_do_action().
	Return FALSE if action pending.
	(idle_do_action): New idle handler which does the actions.
	(gail_menu_item_finalize): Remove idle handler if present.

	* gailoptionmenu.c
	(gail_option_menu_do_action): Do action in idle handler
	idle_do_action().
	Return FALSE if action pending.
	(idle_do_action): New idle handler which does the actions.

	* gailtreeview.c:
	(toggle_cell_expanded): Change to return void instead of gboolean.
	Change g_return_val_if_fail to g_return_if_fail.
	(toggle_cell_toggled): Change to return void instead of gboolean.
	Change g_return_val_if_fail to g_return_if_fail.
	Correct arguments to g_signal_emit_by_name() call.
	(edit_cell): Change to return void instead of gboolean.
	Change g_return_val_if_fail to g_return_if_fail.
	(activate_cell): Change to return void instead of gboolean.
	Change g_return_val_if_fail to g_return_if_fail.

	These change ensure that calls to atk_action_do_action() return
	without waiting for the action to complete by doing the action in
	an idle handler. (bug #90756)

2002-08-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtoplevel.c (_gail_toplevel_remove_child): Update list
	of children before emitting signal child to be consistent with
	GailContainer. (bug #91957)

	* gail/gailcanvasitem.c (gail_canvas_item_grab_focus): Add call to
	gtk_window_present() on toplevel level window. (bug #91964)

	* gail/gailtreeview.c (gail_tree_view_grab_cell_focus): Add call to
	gtk_window_present() on toplevel level window. (bug #91964)

	* gail/gailutil.c (window_focus): Fix compiler warning.

	* gail/widget.c (gail_widget_grab_focus): Add call to
	gtk_window_present() on toplevel level window. (bug #91964)

2002-08-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c (gail_cell_grab_focus): New function to
	implement atk_component_grab_focus() for cells.

	* gail/gailcellparent.[ch]: Add function gail_cell_parent_grab_focus().

	* gail/gailtreeview.c:
	(gail_tree_view_grab_cell_focus): Implements
	gail_cell_parent_grab_focus() which allows a cell to grab focus
	(bug #91718)
	(gail_tree_view_get_cell_area): Speed up getting GtkTreePath and
	GtkTreeViewColumn for a cell.
	(traverse_cells): Add check whether the GtkTreeView widget is
	being deleted

2002-08-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c:
	(gail_entry_real_initialize) Initialize GailEntry values for
	cursor_position and selection_bound as text may be selected when
	GailEntry is created.
	(gail_entry_real_notify_gtk) Emit text-changed signal, if pending,
	when notification of change of selection-bound is received.
	(gail_entry_delete_text_cb) Ignore deletion of zero bytes.
	(check_for_selection_change) Change gail_entry to gtk_entry
	for clarity.
	(Fixes for bug #90536)

2002-08-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextcell.c (gail_text_cell_update_cache): Store empty
	string in buffer if text is NULL. (bug #91717)

2002-08-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 1.1.0
	Updated versions for dependencies

	* NEWS:
	Updated for changes in 1.1.0

2002-08-18  Havoc Pennington  <hp@pobox.com>

	* autogen.sh: hardcode aclocal-1.4/automake-1.4 so that users with
	both automake 1.6 and 1.4 installed get the right automake. Means
	compilation from CVS will now require the latest automake 1.4
	release, or manually creating symlinks called "automake-1.4" and
	"aclocal-1.4"

2002-08-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* libgail-util/gailtextutil.c (gail_text_util_get_substring):
	Allow negative end_pos to mean to the end of the string.

	* gail/gailentry.c:
	(text_setup) New function which sets the text in the GailEntry's
	GailTextUtil. If visibility is false the text consists of the
	GtkEntry's invisible_char.
	(gail_entry_real_initialize) Use text_setup() to set the text in
	the GailEntry's GailTextUtil.
	(gail_entry_real_notify_gtk) If GtkEntry's visibility property has
	changed update role and GailEntry's GailTextUtil.
	If GtkEntry's invisible-char property has changed update
	GailEntry's GailTextUtil.
	(gail_entry_get_text) Return text from GailEntry's GailTextUtil.
	(gail_entry_get_character_at_offset) Return character from
	GailEntry's GailTextUtil.
	(_gail_entry_changed_cb) Use text_setup() to set the text in the
	GailEntry's GailTextUtil. (bug #89323)

2002-08-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_finish_select): If the menu item being selected
	has a submenu, do not report focus on menu item until the submenu is
	shown. (bug #89611)

	* gail/gailutil.c:
	Correct GAIL_WINDOW to GAIL_IS_WINDOW in g_return_if_fail calls.
	(bug #89595)

2002-08-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (gail_button_do_action): Do not do action for
	insensitive button. (bug #89505)

2002-07-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in: Decouple version number of package from number of
	current interface exported by libgailutil. (bug #89327)

2002-07-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 0.17

	* NEWS:
	Updated for changes in 0.17

2002-07-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Add function set_role_for_button(). If button's parent is a GtkTreeView
	set role to ATK_ROLE_TABLE_COLUMN_HEADER. (bug #87832)

	* gail/gailtreeview.c (gail_tree_view_get_column_header): Remove
	code which sets role for column header. It is now done in gailbutton.c.
	(bug #87832)

	* gail/gailentry.c:
	Emit text-changed signal after cursor-position is updated so the
	caret-position has been updated when text-changed signal is emitted.
	(bug #87305)

2002-07-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailitem.c (gail_item_new): Set role to ATK_ROLE_LIST_ITEM
	(bug #87242)

	* gail/gail.c:
	Add listener for switch-page signal on GtkNotebook in order to report
	focus change when click on notebook tab (bug #87234)

	* gail/gailbox.c (gail_box_new): Do not set role for GtkColorChooser
	to ATK_ROLE_COLOR_CHOOSER.

	* gail/gailwindow.c (gail_window_new): Set role for
	GtkColorSelectionDialog to ATK_ROLE_COLOR_CHOOSER and role for
	GtkFontSelectionDialog to ATK_ROLE_FONT_CHOOSER.

2002-07-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_is_row_selected): Check row number is positive
	(get_path_column_from_index): Return FALSE if index corresponds to a
	column header.

	* gail/gailradiosubmenuitem.[ch] gail/checksubmenuitem.[ch]:
	New files to support CheckMenuItem and RadioMenuItem being a
	parent of menu items; i.e. having a submenu (bug #86973)

	* gail/gailcheckmenuitem.c (gail_check_menu_item_new):
	Create GailCheckSubMenuItem if menu item has a submenu.

	* gail/gailradiomenuitem.c (gail_radio_menu_item_new):
	Create GailRadioSubMenuItem if menu item has a submenu.

	* gail/Makefile.am:
	Add references to gail/gailradiosubmenuitem.[ch]
	gail/checksubmenuitem.[ch]:

2002-06-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_get_index_at): Silently handle OOB row and column.
	(gail_tree_view_table_ref_at): Call gail_tree_view_get_index_at()
	so we return NULL for OOB row and column (bug #86545).

2002-06-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_ref_child): First NumberOfColumns children are
	column headers.
	(gail_tree_view_get_column_header): Set parent and role for column
	header if not already set. Setting the parent ensure that
	atk_object_get_index_in_parent() returns consistent value.
	(get_index): Set initial value of index to 1 to allow for column
	headers.
	(get_row_count): Set initial value of index to 1 and subtract
	NumberofColumns to allow for column headers.
	(bug #86117)

	* tests/testtreetable.c (_run_test): Update to check for caption and
	index of column headers.

2002-06-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in Makefile.am:
	Updated to build docs directory

	* docs:
	New directory structure added to support documentation of libgail-util.

	* gail/gail.c:
	(gail_focus_watcher): Do not set focus widget if we already have a
	potential focus widget which is a menu item. Set window's focus widget
	to focus_before_menu so that widget can be reported as having focus
	when menubar is deactivated. (bug #89517)
	(gail_finish_select): Remove code which worked around bug #68483

	* libgail-util/gailmisc.c libgail-util/gailtextutil.c
	libgail-util/gailmisc.h libgail-util/gailtextutil.h:
	Tidy up comments in order to generate documentation

	* gail/gailbutton.c (get_label_from_button): Update to get label for
	button in GtkTreeView column header (bug #83144).

	* gail/gailtreeview.c (gail_tree_view_get_column_header): Set role
	for column header accessible object to ATK_ROLE_COLUMN_HEADER
	(bug #83144).

	* tests/testtreetable.c (_check_table): Add code to get name and
	role of table column header.

2002-06-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.[ch]:
	Use idle handler, insert_idle_handler, to emit text-changed signal
	on text insertion to allow one signal for a batch of contiguous
	insertions.
	(_gail_text_view_insert_text_cb): Call insert_idle_handler() to emit
	text-changed signal if non-contiguous insertion is notified, otherwise
	just increase the length to be reported.
	(_gail_text_view_delete_range_cb): If insertion text-changed pending,
	abandon notification of insertion and deletion if the position and size
	of both are the same, otherwise notify insertion.
	(_gail_text_view_changed_cb): Add idle handler to notify insertion if
	idle handler does not already exist.
	(emit_text_caret_moved): If we have text which has been inserted
	notify the user before notifying the caret move. (bug #85038)

2002-06-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	(gail_focus_idle_handler) Check whether widget to receive focus
	has been deleted.
	(gail_focus_notify_when_idle) Add weak reference to next_focus_widget
	so we can know if it has been deleted when idle handler is called.
	(bug #84732)

	* gail/gailtreeview.c:
	(gail_tree_view_get_cell_area) Add casts to fix compiler warnings.
	(gail_tree_view_changed_gtk) Add check whether widget has been
	destroyed before emitting signal on it. (bug #84829)
	(return_iter_nth_row) Use different GtkTreeiters in calls to
	gtk_tree_model_iter_children() and gtk_tree_model_iter_child()
	(bug #84752)

2002-06-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 0.16

	* NEWS:
	Updated for changes in 0.16

2002-06-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c:
	(gail_menu_item_real_initialize): Use atk_object_set_parent()
	to set accessible parent of a menu item (bug #84251)

2002-06-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c
	(gail_deselect_watcher): Set focus on menu when deselecting menu item
	if menu item's menu does not have a parent menu shell. This sets focus
	on context menu or option menu when mouse move deselects menu item.
	(gail_focus_notify_when_idle): Ignore unsetting focus when idle handler
	is waiting to set focus; this situation occurs when option menu is
	popped up as select signal on menu items happens before focus out on
	main window.

2002-06-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailsubmenuitem.[ch]:
	New files to provide accessibility support for menu item
	which have a submenu.

	* gail/Makefile.am:
	Add gailsubmenuitem.[ch]

	* gail/gail.c (gail_deselect_watcher):
	Report focus event when receive deselect on menu item in menu
	attached to menubar (bug #84114).

	* gail/gailmenuitem.c:
	Move code specific to menu item with submenu to gailsubmenuitem.c

2002-06-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail_gailmenuitem.c
	(menu_item_add_gtk menu_item_remove_gtk):
	Correct typo: g_signal_emity_by_name -> g_signal_emit_by_name

	* gail/gailtreeview.c
	(gail_tree_view_ref_child): Call update_cell_value() after cell is
	added to tree so that name is reported correctly (bug #83117)
	Call g_list_free() on GList returned by
	gtk_tree_view_column_get_cell_renderers()
	(gail_tree_view_get_cell_area): Return area of parent cell for
	cell in multi-cell column
	Call g_list_free() on GList returned by
	gtk_tree_view_column_get_cell_renderers()
	(toggle_cell_toggled): Call g_list_free() on GList returned by
	gtk_tree_view_column_get_cell_renderers()

2002-05-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c:
	(gail_menu_item_real_initialize): Set accessible parent of a menu item
	of a menu which is a submenu of another menu item to be that
	menu item. Add signal handlers menu_item_add_gtk and
	menu_item_remove_gtk for add and remove on the submenu in order to
	report child addition and removal.
	(gail_menu_item_get_n_children): For a menu item which has a submenu
	report the number of menu items of thesubmenu as the number of
	children.
	(gail_menu_item_ref_child): For a menu item with a submenu return the
	AtkObject for a menu item of the submenu. (bug #83488)
	(gail_menu_item_ref_state_set): Check that menu contaiing menu item
	is visible and mapped for the menu item to be visible and showing.

2002-05-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	(get_image_from_button get_label_from_button): Allow child of
	GtkButton to be any type of container, not just a GtkBin when
	looking for image or label (bug #83501)

2002-05-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 0.15 and updated dependencies

	* NEWS:
	Updated for changes in 0.15

2002-05-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_item_new): Set layer to
	ATK_LAYER_POPUP (bug #83487).

2002-05-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c:
	Add configure_event_watcher() to emit a resize signal on GailWindow
	when "configure-event" signal is emitted on GtkWindow.
	Ignore configure_events which do not cause the size of the window
	to change size or position.

	* gail/gailwindow.c (gail_window_class_init):
	Add resize signal
	(gail_window_get_extents gail_window_get_size) Return correct extents
	and size for a non-toplevel window, e.g. an in-process GtkPlug

2002-05-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c:
	Add new functions gail_window_get_extents and gail_window_get_size
	so that size and position of a window includes its decoration.

2002-05-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextcell.c
	 (gail_text_cell_get_character_extents): Take cell's x_pad and y_pad
	values into account when calling
	gail_misc_get_extents_from_pango_rectangle().
	(gail_text_cell_get_offset_at_point): Take cell's x_pad and y_pad
	values into account when calling
	gail_misc_get_index_at_point_in_layout().

	* gail/gailtreeview.c
	(gail_tree_view_ref_child): Reduce code after fix of bug 64380.
	(gail_tree_view_get_cell_area): Take extra expander padding and focus
	line width into account when calculating cell size.

2002-05-22  Michael Meeks  <michael@ximian.com>

	* gail/gailbutton.c (gail_button_get_image_position):
	fix cast.

	* gail/gailcanvaswidget.c
	(gail_canvas_widget_ref_child): return NULL without
	warning for i != 0.

	* gail/gailhtmlboxembedded.c (gail_html_box_embedded_ref_child): ditto.

	* gail/gailcombo.c (gail_combo_ref_child): ditto for 0, 1

	* gail/gailmenuitem.c (gail_menu_item_ref_child):
	only return the child for i == 0, else NULL.

2002-05-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c (gail_entry_get_offset_at_point):
	Return string length as offset if point is not in text.

	* gail/gaillabel.c (gail_label_get_offset_at_point):
	Return string length as offset if point is not in text.

	* gail/gailtextcell.c (gail_text_cell_get_offset_at_point):
	Return string length as offset if point is not in text.

	* gail/gailtextview.c (gail_text_view_get_offset_at_point):
	Clamp point to visible rectangle before calculating offset.

	* libgail-util/gailmisc.c:
 	(gail_misc_get_index_at_point_in_layout) Set index to 0 if x or y
	value of is before rectangle.
	(gail_misc_get_orgins) Use bin window for GtkTreeView; this correct
	error in character extents of text cell.

	* libgail-util/gailtextutil.c (gail_text_util_get_text):
	Return correct value for last line when atk_text_get_character_extents()
	is called for ATK_TEXT_BOUNDARY_LINE_START.

2002-05-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcheckmenuitem.[ch] gail/gailradiomenuitem.[ch]
	New files

	* Makefile.am gail/gail.h
	Add references to new files

	* gail/gail.c:
	Add factory macro calls for new GAIL types GAIL_TYPE_CHECK_MENU_ITEM
	and GAIL_TYPE_RADIO_MENU_ITEM.
	(gail_focus_notify) Avoid calling g_object_unref() on NULL.

	* gail/gailmenuitem.c (gail_menu_item_new):
	Remove setting of role for objects for GtkCheckMenuItem and
	GtkRadioMenuItem as it is done in gailcheckmenuitem.c and
	gailradiomenuitem.c

	* gail/gailradiobutton.h:
	Correct GailButtonClass to GailToggleButtonClass.

	* gail/gailtogglebutton.c (gail_toggle_button_ref_state_set):
	Use gtk_toggle_button_get_active() instead of referring to
	active field in GtkToggleButton data structure

	* gail/gailutil.c (state_event_watcher):
	Silently ignore window-state-event on GtkWidgets which are not
	GtkWindow

2002-05-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailimage.c (gail_image_get_image_position):
	Correct ATK_Component to ATK_COMPONENT

2002-05-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c (get_text_near_offset):
	Update to return line rather than a parapraph when wrap mode
	is not specified. (#80609)

2002-05-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c:
	Add signals activate and deactivate

	* gail/gailutil.c:
	Add signal handlers for focus-in-event and focus-out-event on
	windows which are created in order to report activate and deactivate

2002-05-03  Anders Carlsson  <andersca@gnu.org>

	* gail/gailimagecell.c (gail_image_cell_get_image_position): Call
	atk_component_get_position. Fixes the build.

2002-05-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c gail/gailimage.c gail/gailimagecell.c
	gail/gailpixmap.c:
	Implement atk_image_get_image_position

2002-04-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 0.14

	* NEWS:
	Updated for changes in 0.14

2002-04-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail.c:
	(gail_get_accessible_for_widget): Allow for widget being NULL
	(gail_focus_watcher): Allow notification of focus-in even if the focus
	widget has not changed; set widget to NULL for focus-out
	(gail_focus_notify): Allow for focus_widget being NULL which indicates
	window has lost focus; call atk_focus_tracker_notify() with NULL
	argument in this case.
	(gail_focus_notify_when_idle): Call gail_focus_idle_handler() even
	if widget is NULL

2002-04-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c:
	Rename gail_window_window_state_event_gtk to
	gail_window_state_event_gtk
	Ensure that the value passed to atk_object_state_change() is a boolean

2002-04-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextcell.c (gail_text_cell_update_cache):
	Ensure cache is updated after editing a cell

	* libgail-util/gailtextutil.c (gail_text_util_text_setup):
	Avoid unnecessary destruction and creation of GtkTextBuffer

2002-04-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.[ch]:
	Add previous_selection_bound to GailTextView data structure in
	order to notify selection changed if a selection is deselected

	* gail/gailtreeview.c (gail_tree_view_ref_child):
	Call update_cell_value() immediately after cell creation so
	that cell's name, if it exists, is available

	* libgail-util/gailtextutil.c (gail_text_util_get_text):
	Correct determination of whether buffer is empty

2002-04-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.[ch]:
	Add idle_focus_id field to GailNotebook data structure
	(gail_notebook_real_initialize) Add weak reference for GtkNotebook
	to remove idle_handler if it exists when widget is destroyed
	(gail_notebook_real_notify_gtk): Call gtk_idle_add (...) to report
	focus change instead of calling it directly
	(gail_notebook_focus_cb) Pass AtkObject instead of GtkNotebook to
	idle handler
	(gail_notebook_check_focus_tab) Update to account for AtkObject being
	passed instead of GtkNotebook. Add check that there is a tab
	focused. Call atk_object_ref_accessible_child () instead of
	find_child_in_list() as accessible for focus tab may not have been
	created

	* gail/gailradiobutton.[ch]:
	Add old_group to GailRadioButton data structure.
	(gail_radio_button_ref_relation_set: If GtkRadioButton's group
	has changed recalculate member-of relation. (bug 79398)

2002-04-21  Jeffrey Stedfast  <fejj@ximian.com>

	* tests/testmenuitem.c: #include <string.h> for strcmp.

	* gail/gailwindow.c: #include <string.h> for strcmp.

	* gail/gailutil.c: #include <string.h> for strcmp.

	* gail/gailtoplevel.c: #include <string.h> for strcmp.

	* gail/gailnotebookpage.c (gail_notebook_page_get_name): If the
	notebook doesn't exist, return NULL. (must return a value in
	function that returns non-void)

2002-04-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtoplevel.c:
	(gail_toplevel_show_event_watcher) Pass AtkObject for child added
	in children-changed::add signal emission
	(gail_toplevel_remove_child) Pass AtkObject for child removed
	in children-changed::remove signal emission

	* gail/gailutil.c:
	Add signal handlers for children-changed signal on root object in
	order to notify when windows are created or destroyed

2002-04-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvastext.c gail/gailentry.c gail/gaillabel.c
	gail/gailtextcell.c gail/gailtextview.c:
	Updated implementation of get_character_at_offset to check that offset
	is within range and return '\0' otherwise (bug 78934)

	* gail/gail.c (gail_get_accessible_for_widget):
	Fix typo

	* gail/util.c:
	(gail_util_add_global_event_listener): Add support for events
	window:maximize, window:minimize, window:restore
	Add functions add_listener, do_window_event_initialization,
	state_event_watcher

	* gail/gailwindow.c:
	Add signals create, destroy, maximize, minimize, restore

2002-04-14  Bill Haneman <bill.haneman@sun.com>

	* gail/gail/gailutil.c (notify_hf):
	Changed this function return to gboolean;
	(insert_hf): added this function;
	(gail_key_snooper): we now dup the hashtable
	via insert_hf prior to calling notify_hf
	via g_hash_table_foreach_steal; this allows us
	to determine whether any listener attempted to
	consume the event.

2002-04-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* libgail-util/gail-util.h
	Add this file to CVS

	* configure.in:
	Incremented revision to 0.13

	* NEWS:
	Updated for changes in 0.13

	* util:
	Remove files in this directory

	* configure.in:
	Rename util to libgail-util

	* libgail-util/gailtextutil.[ch]:
	Change start_pos arguments to gail_text_util_get_subtring from gint*
	to gint

	* Makefile.am gail/Makefile.am gail/gailcanvasitem.c
	gail/gailcanvastext.c gail/gailcanvastext.h gail/gailentry.c
	gail/gailentry.h  gail/gaillabel.h gail/gailtextcell.h
	gail/gailtextview.h gail/gailtextview.c:
	Rename util to libgail-util

	* gail/gaillabel.c gail/gailtextcell.c:
	Rename util to libgail-util
	Update for change in gail_text_util_get_substring parameters

2002-04-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 0.12 and updated versions for dependencies

	* NEWS:
	Updated for changes in 0.12

2002-04-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c gail/gailtextview.c:
	Allow _copy_text function even if GtkWidget is not editable

	* gail/gailtoplevel.c:
	(gail_toplevel_object_init): Do not report as toplevel window which
	is not visible or which contains menu which is attached to menu item.
	Fix coding ERRor which causes crash.
	(gail_toplevel_show_event_watcher): Do not report as toplevel window
	which contain menu which is attached to menu item

	* gail/gailtreeview.c:
	Add new function clean_cell_info and call in clean_rows and
	clean_columns. Add call to g_object_weak_unref() in clean_cell_info

2002-04-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c gail/gailtextview.c:
	Check that GtkWidget is editable before proceeding in implementation
	of AtkEditableText methods.

	* gail/gailwindow.c:
	Notify name change when title changes

2002-04-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	(gail_get_accessible_for_widget) Report focused tab instead of
	selected tab)
	(gail_finish_select) Add weak reference to focus_before_menu so it is
	set to NULL if widget is destroyed.
	(gail_focus_notify) Add weak reference to focus_widget and remove
	weak reference from focus_widget and focus_before_menu when they are
	unset.
	(gail_deactivate_wastcher) Change variable focus_widget to focus to
	avoid confusion with global variable focus_widget

	* gail/gailnotebook.c (gail_notebook_real_notify_gtk):
	Only call atk_focus_tracker_notify() is focus tab was changed and tabs
	are shown.

2002-04-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvastext.c gail/gailentry.c gail/gailtextview.c:
	(_get_character_at_offset): Get gunichar from string before freeing it
	(pointed out by Michael Meeks)

2002-03-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.[ch]:
	Add activate action

	* gail/gailnotebook.c (gail_notebook_page_get_extents):
	If NotebookPage has no label report its position as that of its
	child

	* gail/gailwidget.c:
	Move setting of layer from gail_widget_new() to
	gail_widget_real_initialize() so an AtkObject for a GtkWidget has
	layer value of ATK_LAYER_WIDGET, by default.

2002-03-27  Michael Meeks  <michael@ximian.com>

	* gail/gailcanvas.c (gail_canvas_ref_child):
	silently handle OOB children.

	* gail/gailnotebook.c (gail_notebook_ref_child):
	handle asking for an invalid page silently.

	* gail/gailnotebookpage.c
	(gail_notebook_page_ref_child): don't warn on
	OOB child offsets, just return NULL.
	(gail_notebook_page_new): ditto.

	* gail/gailtreeview.c (update_cell_value),
	(toggle_cell_toggled): protect slightly.

	* gail/gailtextview.c
	(gail_text_view_set_run_attributes): iterate the
	list more sensibly, O(n) pattern not O(n*n).

	* gail/gailclist.c (gail_clist_is_row_selected):
	protect against OOB SEGVs.
	(gail_clist_set_row_data, gail_clist_cell_data_new): "

	* gail/gailscrolledwindow.c
	(gail_scrolled_window_ref_child): ditto.

	* gail/gailcanvasgroup.c
	(gail_canvas_group_ref_child): don't warn if we
	request over the end of the list, just return NULL.

	* gail/gailcontainercell.c
	(gail_container_cell_ref_child): ditto.

	* gail/gailcell.c (gail_cell_remove_action),
	(_gail_cell_get_action_info): ditto.

2002-03-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextcell.c (gail_text_cell_update_cache):
	Only emit signals if emit_change_signal is set
	Notify accessible-name change if text changes; this is required after
	addition of gail_text_cell_get_name

	* gail/gailnotebookpage.c:
	Call g_object_add_weak_pointer() for reference to GtkNotebook so
	that it is NULLed if the GtkNoteBook is destroyed.
	Call g_object_remove_weak_reference() in new finalize method.
	Check that reference is non-NULL before dereferencing it.

2002-03-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextcell.c:
	Add gail_text_cell_get_name() to report the text in the cell as the
	name.

	* gail/gailtreeview.c:
	Add activate action for cell
	Add casts to prevent compiler warnings

2002-03-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (gail_button_get_image_size):
	Correct error which prevented size being returned correctly

	* gail/gailcanvasitem.c (gail_canvas_item_add_focus_handler):
	Add cast to prevent compiler warning

	* gail/gailtoplevel.c (is_tooltip_window):
	Add const to gchar* declaration to prevent compiler warning

	* gail/gailutil.c (gail_util_add_key_event_listener):
	Add cast to prevent compiler warning
	Use GUINT_TO_POINTER macro instead of cast

	* gail/gailwidget.c (gail_widget_add_focus_handler):
	Add cast to prevent compiler warning

2002-03-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtoplevel.c:
	Ignore window whose name is "gtk-tooltips" (#76266) so tooltips
	window is not visible to at-poke.

2002-03-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	Add function gail_focus_notify_when_idle() and only call gtk_idle_add()
	and gtk_idle_remove() in this function

2002-03-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c (get_image_from_button):
	Correct last change

2002-03-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Use gtk_container_get_children instead if deprecated
	gtk_container_children
	(get_image_from_button): Check that list of children is non-NULL
	before deferencing it

	* gail/gailcontainer.c gail/gailitem.c gail/gailscrollbar.c
	gail/gailwidget.c:
	Use gtk_container_get_children instead if deprecated
	gtk_container_children

	* gail/gailscrolledwindow.c:
	Use gtk_container_get_children instead if deprecated
	gtk_container_children
	(gail_scrolled_window_ref_child) Check that we have accessible object
	before calling g_object_ref()
	(gail_crolled_window_visibility_changed): Free list

	* gail/gailtreeview.c (gail_tree_view_ref_child):
	Move assertion that renderers list is non-NULL to before the list
	is used.

2002-03-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 0.11

	* NEWS:
	Updated for changes in 0.11

	* gail/Makefile.am:
	Add gailfactory.h

2002-03-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailfactory.c : New file containing macros to define factory
	(based on work by Michael Meeks)

	* gail/Makefile.am gail/gail.h:
	Remove references to factory files for GAIL objects corresponding
	to GTK widgets; these files have been removed

	* gail.c:
	Use macro GAIL_ACCESSIBLE_FACTORY to define factory code for creating
	accessible object for GAIL type. Use GAIL_WIDGET_SET_FACTORY to
	specify factory to be used for widget type

	* gail/gailarrow.c gail/gailbox.c gail/gailcalendar.c gail/gailcanvas.c
	gail/gailclist.c gail/gailcombo.c gail/gailcontainer.c gail/gailentry.c
	gail/gailframe.c gail/gailimage.c gail/gailitem.c gail/gaillabel.c
	gail/gaillist.c gail/gailmenu.c gail/gailmenushell.c
	gail/gailnotebook.c gail/gailpaned.c gail/gailpixmap.c
	gail/gailprogressbar.c gail/gailradiobutton.c gail/gailrange.c
	gail/gailscrollbar.c gail/gailscrolledwindow.c gail/gailseparator.c
	gail/gailspinbutton.c gail/gailstatusbar.c gail/gailtextview.c
	gail/gailtogglebutton.c gail/gailtreeview.c gail/gailwindow.c:
	Remove inclusion of factory include file

2002-03-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailrange.c (gail_range_set_current_value):
	Call gtk_range_set_value() rather than defaulting to
	gtk_adjustment_set_value() so that page_size is taken into account.

2002-03-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvasgroup.c (gail_canvas_group_ref_child):
	Check pointer is non-NULL before dereferencing it

	* gail/gailtoplevel.c (gail_toplevel_ref_child):
	Avoid warnings if index too large

2002-03-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c gail/gailcombo.c gail/gailmenuitem.c
	gail/gailoptionmenu.c:
	Check that GtkWidget for GAIL object is SENSITIVE and VISIBLE before
	doing action

	* gail/gailnotebookpage.c: (gail_notebook_page_get_extents):
	Check that there is a tab label before trying to get its extents

2002-03-16  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtoplevel.c:
	Add check for GTK_IS_PLUG before adding a toplevel
	window (on "show" event) to the application's
	toplevel list (bugfix for embedded controls).

2002-03-15  jacob berkman  <jacob@ximian.com>

	* gail/Makefile.am (libgail_la_LDFLAGS): add -avoid-version

2002-03-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.c (gail_notebook_real_initialize):
	Add check for gtk_notebook->focus_tab being NULL
	Fix for crash report by Michael Meeks

	* gail/gailtextview.c (gail_text_view_real_notify_gtk):
	Fix bug 74680, GtkWidget being cast to AtkObject incorrectly,
	reported by Damon Chaplin

	* gail/gailmenuitem.c (gail_menu_item_get_keybinding):
	Fix warning reported by pasupathi.duraisamy@wipro.com

2002-03-14  Michael Meeks  <michael@ximian.com>

	* gail/gail.c (gnome_accessibility_module_init): move
	code to (gail_accessibility_module_init): & make static
	to avoid wierd linker conflicts.

2002-03-12  Dave Camp  <dave@ximian.com>

       * gail/gailbutton.c (get_label_from_button): If the button's child
       is a box, loop over the children looking for a label instead of
       guessing that the second child is a label.

2002-03-12  Dave Camp  <dave@ximian.com>

	* gail/gailcanvasitem.c (get_item_extents): Use G_OBJECT_GET_CLASS
	to get the class of the item.
	(gail_canvas_item_get_extents): Check obj != NULL before
	trying to cast it to GNOME_CANVAS_ITEM.

2002-03-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	(gail_focus_watcher) if idle handler is waiting  to notify focus
	remove it
	(gail_focus_idle_handler) if called to fake focus event following
	menu deactivation add idle handler before doing focus notification
	in case another idle handler emits focus change notification

2002-03-12  Federico Mena Quintero  <federico@ximian.com>

	* gail/gailcanvasitem.c (get_item_extents): Compute the extents
	correctly.  The item may not be parallel to the axes, so you need
	to fully compute its orthogonal bounding box from the item's
	actual bounding box.

2002-03-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook[.ch]:
	Add code to cause focus notification to be emitted when focus tab
	of notebook changes. This means that we get notification when
	left/right arrow keys are used to move across tabs.

2002-03-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_focus_watcher):
	Call focus notification in GTK idle function. This allows focus
	focus to be reported correctly for links in gtkhtml2 widget.

	* configure.in:
	Incremented revision to 0.10 and updated versions of dependent packages

	* NEWS:
	Updated for changes in 0.10

2002-03-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_get_accessible_for_widget):
	Check whether data is set for "gail-focus-object' on widget's
	AtkObject. This allows for a general way to have ATK report focus
	on an object other than a widget when the widget gets focus
	(This is used to report focus on links in gtkhtml2)

	* tests/Makefile.am:
	Do not install test modules other than ferret; install ferret in
	$(libdir)/gtk-2.0/modules

	* gail/Makefile.am:
	Install libgail in $(libdir)/gtk-2.0/modules directory

2002-03-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Incremented revision to 0.9 and updated versions of dependent packages

	* NEWS:
	Updated for changes in 0.9

2002-03-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	Update focus tracking code to avoid emitting spurious focus
	notification when moving from one menu item to another.
	Tidied up code.

2002-02-28 Marc Mulcahy <marc.mulcahy@sun.com

	* gail/gailcontainer.c: gail_container_ref_child () Check for
	child index out of range.

	*gail/gailtreeview.c: clean_rows () fixed typo in list item
	removal.

2002-02-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:

	Add emission hook for deselect signal to cause focus change
	notification to be emitted when right arrow is clicked in a submenu
	to the parent menu.

	Fix problems with selected menu item being notified when it was not
	mapped when selected by connecting to the map signal for widgets
	which are selected before being mapped (e.g. F10 + -> reported
	incorrect menu item.

2002-02-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Allow for NULL tree model in gail_tree_view_real_initialize
	and count_rows

2002-02-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/Makefile.am, tests/Makefile.am util/Makefile.am:
	Remove -no-undefined from LD_FLAGS because of problem with unresolved
	references when using gcc.

	* gail/gailnotebookpage.c:
	Allow for tab label being NULL

2002-02-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c (gail_entry_get_default_attributes)
	gail/gaillabel.c (gail_label_get_default_attributes)
	gail/gailtextcell.c (gail_text_cell_get_default_attributes):
	Remove special code for ATK_TEXT_ATTR_JUSTIFICATION and
	ATK_TEXT_ATTR_WRAP_MODE

	* gail/gailmisc.c:
	Divide size values by PANGO_SCALE to report correct ATK_TEXT_ATTR_SIZE
	value.
	(gail_misc_get_default_attributes) Add code to deal with
	ATK_TEXT_ATTR_JUSTIFICATION and ATK_TEXT_ATTR_WRAP_MODE.

2002-02-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* util/gailmisc.c (gail_misc_layout_get_run_attributes):
	Add call to pango_attr_iterator_destroy() to avoid leaking iterator

	* tests/ferret.c (_print_text):
	Add check that caret offset is non-negative

2002-02-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/Makefile.am:
	Add version number to test module names.

2002-02-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Fix typo in previous change; line accidently omitted

2002-02-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcontainer.[ch] gail/gailbutton.c gail/gailitem.c
	gail/gailstatusbar.c gailtreeview.c:
	Remove add_handler and remove_handler from GailContainer data structure
	Use object data instead.

2002-02-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* ChangeLog gail/gailarrowfactory.[ch]
	gail/gailbooleancellfactory.[ch] gail/gailboxfactory.[ch]
	gail/gailbuttonfactory.[ch] gail/gailcalendarfactory.[ch]
	gail/gailcanvasfactory.[ch] gail/gailcanvasgroupfactory.[ch]
	gail/gailcanvasitemfactory.[ch] gail/gailcanvastextfactory.[ch]
	gail/gailcanvaswidgetfactory.[ch] gail/gailclistfactory.[ch]
	gail/gailcombofactory.[ch] gail/gailcontainerfactory.[ch]
	gail/gailentryfactory.[ch] gail/gailframefactory.[ch]
	gail/gailimagecellfactory.[ch] gail/gailimagefactory.[ch]
	gail/gaillabelfactory.[ch] gail/gaillistfactory.[ch]
	gail/gailmenufactory.[ch] gail/gailmenuitemfactory.[ch]
	gail/gailmenushellfactory.[ch] gail/gailnotebookfactory.[ch]
	gail/gailoptionmenufactory.[ch] gail/gailpanedfactory.[ch]
	gail/gailpixmapfactory.[ch] gail/gailprogressbarfactory.[ch]
	gail/gailradiobuttonfactory.[ch] gail/gailrangefactory.[ch]
	gail/gailscrollbarfactory.[ch] gail/gailseparatorfactory.[ch]
	gail/gailspinbuttonfactory.[ch] gail/gailstatusbarfactory.[ch]
	gail/gailtextcellfactory.[ch] gail/gailtextviewfactory.[ch]
	gail/gailtogglebuttonfactory.[ch] gail/gailtreeviewfactory.[ch]
	gail/gailwidgetfactory.[ch] gail/gailwindowfactory.[ch]:
	Remove gail_foo_factory_create_new; add void argument to
	gail_foo_factory_new

2002-02-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailutil.c (atk_key_event_from_gdk_event_key):
	Fix warning

2002-02-12 Bill Haneman <bill.haneman@sun.com>

	* configure.in:
	Incremented revision to 0.8

	* gail/gailwidget.c:
	* gail/gailmenu.c:
	Changed to use the new API for layer and mdi-zorder,
	instead of the deprecated one.


2002-02-07 Marc Mulcahy <marc.mulcahy@sun.com>

	* gail/gailmenuitem.c: Set role to ATK_ROLE_MENU if a menu item
	has a submenu.

	* gail/gailitem.c: get_name now uses gtk_label_get_text to get rid
	of the underscores in menu and list item names.

	* gail/gail.c: when receiving an select signal on a menu item, we
	cache the widget currently with focus.  Added a "deactivate"
	watcher so we can fake an atk_focus signal to the widget which had
	focus before the menubar was activated.

2002-02-04  Bill Haneman  <bill.haneman@sun.com>

	* configure.in:
	Incremented version for weekly release.

2002-01-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c:
	Update gail_window_get_parent() and gail_window_get_index_in_parent()
	to take account of the fact that a window may be a plug whose parent
	is a socket.

	* gail/gailwidget.c (gail_widget_get_index_in_parent):
	Do not output warning if widget's parent is NULL

	* gail/gailtoplevel.c:
	Only count windows which do not have a parent as toplevel

2002-01-28  Padraig O'Briain  <padraig.obriain@sun.com>

        * configure.in:
	Update version number to 0.6, for Gnome Desktop Alpha 2

2002-01-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c (gail_clist_get_column_header):
	Fix warning

2002-01-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gail_tree_view_ref_accessible_at_point):
	Simplify code following fix of bugs 64137 and 64138

2002-01-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	Remove emission hook gail_set_focus_watcher for GtkWindow's "set-focus"
	signal.  It is not needed as focus-in event always happens when
	window's widget has focus.

2002-01-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.[ch]:
	Add function gail_tree_view_ref_focus_cell to get a reference to
	accessible object for focussed cell.
	Use function in idle_cursor_changed

	* gail/gail.c:
	Add function gail_get_accessible_for_widget and put widget-type
	specific code in this function. If widget is a GtkTreeView check
	whether cell has focus using gail_tree_view_ref_focus_cell and, if so,
	report focus in cell (#69262)

	* gail/gailoptionmenu.c (gail_option_menu_class_init)
	Remove unused variables

2002-01-14  Michael Meeks  <michael@ximian.com>

	* gail/gail.c (gtk_module_init): split out into
	(gnome_accessibility_module_init): here.
	(gnome_accessibility_module_shutdown): stub.
	guard against double inits.

2002-01-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (idle_cursor_changed):
	Check that the toplevel window for the GtkTreeView has focus; if not
	do not report focus change on cell. (#69255)

2002-01-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_focus_tracker_init):
	Add call to gtk_tyle_class (GTK_TYPE_WINDOW) to avoid warning on
	startup.

2002-01-18  Bill Haneman  <bill.haneman@sun.com>

	* gail/gailwidget.c: (gail_widget_destroyed):
	Set widget member of GtkAccessible to NULL on receipt of
	GtkWidget 'destroy' signal.

	* gail/gailentry.c: (gail_entry_real_initialize):
	Added assertion that 'data' gpointer points to a GtkEntry
 	in the initializer.

2002-01-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c:
	Output warning if widget in GtkAccessible data structure is not a
	valid GtkWidget

2002-01-17  Bill Haneman  <bill.haneman@sun.com>

	* tests/ferret.c:
	Make ferret capable of compressing speech, reading value of
	FERRET_STRETCH environment variable (default value 0.75).  Smaller
	values mean faster speech.
	Make ferret speak the text contents of container cells, descending
	into the hierarchy until text is found.
	Ferret now replaces underscores in spoken names with spaces, rather
	than just removing them.

2002-01-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	(gail_tree_view_get_cell_extents) Correct calculation of cell position
	(gail_tree_view_get_cell_area) Take into acount expander when getting
	cell position
	(is_cell_showing) Update to reflect changes into GtkTreeView code.

2002-01-16 Bill Haneman  <bill.haneman@sun.com>

	* tests/ferret.c:
	Update ferret demo to speak text content of text fields.
	Fixes for regressions and bugs when using text-to-speech.
	Change to make ferret extract text from ATK_ROLE_TABLE_CELL
	objects even if they are containers, which helps with GailContainerCell.

2002-01-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	Add emission hook gail_set_focus_watcher for GtkWindow's "set-focus"
	signal. This allows notification of focus change because
	gtk_window_set_focus() was called.

2002-01-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	(gail_focus_watcher) Check that window->focus_widget is not the
	current focus widget before reporting focus change.
	For a popup window, if the child is grabbed and it is a menushell
	report focus on the menushell unless it has an active menu item

	(gail_select_watcher) Check that the item being selected is not
	the current focus widget before reporting focus change.

2002-01-10  Bill Haneman <bill.haneman@sun.com>

        * configure.in:
	Update version number to 0.5, for Beta2 package.

	* gail/Makefile.am:
	Restore gailcanvasfactory.h to private headers list,
	to fix broken build from 'make dist'.

2002-01-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_item_get_keybindings):
	Avoid warning emitted when selecting task from panel

2002-01-09  Bill Haneman  <bill.haneman@sun.com>

	* tests/ferret.c:
	Added toggle item for focus tracking, so that it can be turned off.
	(complete).

2002-01-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c (gail_clist_get_column_header):
	Return label as column header instead of container of label

	* tests/ferret.c tests/testbutton.c tests/testcombo.c
	tests/testmenuitem.c tests/testtable.c tests/testtext.c
	tests/testtoplevel.c:
	Use g_getenv() instead of getenv()

	* tests/test.c tests/testlib.h
	Change parameter of string_to_int from char* to const char*

	* tests/testoptionmenu.c:
	Use g_getenv() instead of getenv()
	Add code to test for column header of CList.

2002-01-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c  (gail_clist_real_initialize):
	Check that hadjustment and vadjustment are not NULL before connecting
	to signals on them

	* gail/gailmenu.c (gail_menu_get_parent):
	Ensure that attach widget of a menu is a menu item when specifying
	parent of menu
	Cosmetic changes

	* gail/gailoptionmenu:
	Do not specify menu as child of option menu. This causes the functions
	gail_option_menu_real_initialize, gail_option_menu_real_notify_gtk,
	gail_option_menu_get_n_children and gail_option_menu_ref_child to be
	removed.
	The menu is accessed by executing the action on the option menu.

2002-01-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/Makefile.am tests/README
	Add new file testoptionmenu.c

	* tests/testlib.c:
	Fix typo in comment

2002-01-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c gail/gailcanvasitem.c:
	Change add_focus_handler implementation to check whether
	handler to be added is already specified

2002-01-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c (gail_label_real_notify_gtk):
	Correct error when emitting text_changed::delete signal

2002-01-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailrange.c (gail_range_real_initialize):
	Correct error in connecting to "value-changed" signal on a
	GtkRange's adjustment (problem pointed out by Michael Meeks)

2002-01-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* util/gailmisc.c (gail_misc_layout_get_run_attributes):
	Correct error (ATK_TEXT_ATTR_FG_COLOR -> ATK_TEXT_ATTR_BG_COLOR)

2002-01-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c:
	Correct setting of label so that old label text is still available
	when text-changed::delete signal is emitted

	* gail/gailtextview.c:
	Correct header comment

	* tests/ferret.c:
	Correct parameter names for signal handler for text-changed signal
	Get text being inserted or deleted when text-changed signal is emitted

2001-12-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* util/gailtextutil.c (gail_text_util_get_text):
	Add implementation for wrapped GtkTextView

2001-12-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* util/Makefile.am:
	Update LDFLAGS

2001-12-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailadjustment.c gail/gailarrow.c gail/gailarrowfactory.c
	gail/gailbooleancell.c gail/gailbooleancellfactory.c
	gail/gailbox.c gail/gailboxfactory.c gail/gailbutton.c
	gail/gailbuttonfactory.c gail/gailcalendar.c
	gail/gailcalendarfactory.c gail/gailcanvas.c
	gail/gailcanvasfactory.c gail/gailcanvasgroup.c
	gail/gailcanvasgroupfactory.c gail/gailcanvasitem.c
	gail/gailcanvasitemfactory.c gail/gailcanvastext.c
	gail/gailcanvastextfactory.c gail/gailcanvaswidget.c
	gail/gailcanvaswidgetfactory.c gail/gailcell.c
	gail/gailclist.c gail/gailclistcell.c gail/gailclistfactory.c
	gail/gailcombo.c gail/gailcombofactory.c gail/gailcontainer.c
	gail/gailcontainercell.c gail/gailcontainerfactory.c
	gail/gailentry.c gail/gailentryfactory.c gail/gailframe.c
	gail/gailframefactory.c gail/gailimage.c gail/gailimagecell.c
	gail/gailimagecellfactory.c gail/gailimagefactory.c
	gail/gailitem.c gail/gailitemfactory.c gail/gaillabel.c
	gail/gaillabelfactory.c gail/gaillist.c gail/gaillistfactory.c
	gail/gailmenu.c gail/gailmenufactory.c gail/gailmenuitem.c
	gail/gailmenuitemfactory.c gail/gailmenushell.c
	gail/gailmenushellfactory.c gail/gailnotebook.c
	gail/gailnotebookfactory.c gail/gailnotebookpage.c
	gail/gailoptionmenu.c gail/gailoptionmenufactory.c
	gail/gailpaned.c gail/gailpanedfactory.c gail/gailpixmap.c
	gail/gailpixmapfactory.c gail/gailprogressbar.c
	gail/gailprogressbarfactory.c gail/gailradiobutton.c
	gail/gailradiobuttonfactory.c gail/gailrange.c
	gail/gailrangefactory.c gail/gailrenderercell.c
	gail/gailscrollbar.c gail/gailscrollbarfactory.c
	gail/gailscrolledwindow.c gail/gailscrolledwindowfactory.c
	gail/gailseparator.c gail/gailseparatorfactory.c
	gail/gailspinbutton.c gail/gailspinbuttonfactory.c
	gail/gailstatusbar.c gail/gailstatusbarfactory.c
	gail/gailtextcell.c gail/gailtextcellfactory.c
	gail/gailtextview.c gail/gailtextviewfactory.c
	gail/gailtogglebutton.c gail/gailtogglebuttonfactory.c
	gail/gailtoplevel.c gail/gailtreeview.c
	gail/gailtreeviewfactory.c gail/gailutil.c gail/gailwidget.c
	gail/gailwidgetfactory.c gail/gailwindow.c
	gail/gailwindowfactory.c util/gailtextutil.c:

	Make use of parent_class consistent: omit where it is not used
	and use g_type_class_peek_parent() to get it otherwise.


2001-12-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailarrowfactory.c gail/gailbooleancellfactory.c
	gail/gailboxfactory.c gail/gailbuttonfactory.c
	gail/gailcalendarfactory.c gail/gailcanvasfactory.c
	gail/gailcanvasgroupfactory.c gail/gailcanvasitemfactory.c
	gail/gailcanvastextfactory.c gail/gailcanvaswidgetfactory.c
	gail/gailclistfactory.c gail/gailcombofactory.c gail/gailentryfactory.c
	gail/gailframefactory.c gail/gailimagecellfactory.c
	gail/gailimagefactory.c gail/gailitemfactory.c
	gail/gaillabelfactory.c gail/gaillistfactory.c
	gail/gailmenufactory.c gail/gailmenuitemfactory.c
	gail/gailmenushellfactory.c gail/gailnotebookfactory.c
	gail/gailoptionmenufactory.c gail/gailpanedfactory.c
	gail/gailpixmapfactory.c gail/gailprogressbarfactory.c
	gail/gailradiobuttonfactory.c gail/gailrangefactory.c
	gail/gailscrollbarfactory.c gail/gailscrolledwindowfactory.c
	gail/gailseparatorfactory.c gail/gailspinbuttonfactory.c
	gail/gailstatusbarfactory.c gail/gailtextcellfactory.c
	gail/gailtextviewfactory.c gail/gailtogglebuttonfactory.c
	gail/gailtreeviewfactory.c gail/gailwindowfactory.c:
	Add implementation of get_accessible_type

2001-12-19  Padraig O'Briain  <padraig.obriain@sun.com>

	New file util/gailutil.def

	* configure.in util/Makefile.am:
	Add support for building on Windows

	* util/gailutil.h
	Remove second declaration of gail_text_util_get_type()

2001-12-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvastext.c:
	Remove add_to_attr_set, use gail_misc_add_to_attr_set instead
	Use gail_misc_buffer_get_run_attributes in
	gail_canvas_text_get_run_attributes

	* gail/entry.c gail/gaillabel.c gail/gailtextcell.c:
	Change gail_misc_get_run_attributes to
	gail_misc_layout_get_run_attributes

	* gail/gailcanvastext.c:
	Remove add_to_attr_set, use gail_misc_add_to_attr_set instead
	Use gail_misc_buffer_get_run_attributes in
	gail_text_view_get_run_attributes

	* util/gailmisc.c util/gailmisc.h:
	Rename gail_misc_get_run_attributes to
	gail_misc_layout_get_run_attributes
	Add functions gail_misc_add_to_attr_set and
	gail_misc_buffer_get_default_attributes

2001-12-19  Padraig O'Briain  <padraig.obriain@sun.com>

	Remove gail/gailobject.c gail/gailobject.h

	* gail/Makefile.am gail/gail.h:
	Remove references to gail/gailobject.c gail/gailobject.h

	* gail/gail.c gail/gailcanvasitem.c gail/gailcanvasitem.h
	gail/gailcanvastext.c:
	Use functions in atk/atkgobjectaccessible.h instead of gailobject.h

	* gail/gailarrow.c gail/gailbox.c gail/gailbutton.c
	gail/gailcalendar.c gail/gailclist.c gail/gailcombo.c
	gail/gailcontainer.c  gail/gailentry.c gail/gailframe.c
	gail/gailitem.c gail/gaillabel.c gail/gaillist.c gail/gailmenu.c
	gail/gailmenuitem.c gail/gailmenushell.c gail/gailnotebook.c
	gail/gailoptionmenu.c gail/gailpaned.c gail/gailpixmap.c
	gail/gailprogressbar.c gail/gailradiobutton.c gail/gailrange.c
	gail/gailscrollbar.c gail/gailscrolledwindow.c gail/gailseparator.c
	gail/gailspinbutton.c gail/gailstatusbar.c gail/gailtextview.c
	gail/gailtogglebutton.c gail/gailtreeview.c gail/gailwidget.c
	gail/gailwindow.c:
	Use atk_object_initialize instead gail_widget_init

	* gail/gailcanvas.c gail/gailcanvasgroup.c gail/gailcanvaswidget.c:
	Use functions in atk/atkgobjectaccessible.h instead of gailobject.h
	Use atk_object_initialize instead gail_widget_init

	* gailcontainerfactory.c gail/gailwidgetfactory.c:
	Add implementation for get_accessible_type

	* gail/gailseparator.h gail/gailseparatorfactory.c:
	Return AtkObject instead of GtkAccessible from gail_separator_new()

	* gail/gailwidget.c gail/gailwidget.h:
	Update gail_widget_get_index_in_parent() to handle case when
	accessible_parent is specified
	Remove gail_widget_init

2001-12-19  Padraig O'Briain  <padraig.obriain@sun.com>

	Move gailtexthelper from gail subdirectory to new util subdirectory
	and split into gailtextutil and gailmisc.

	Remove dependency on gtkhtml2 and accessibility support for gtkhtml2

	* Makefile.am:
	Add util subdirectory

	* configure.in:
	Add util subdirectory
	Remove dependency on gtkhtml2

	* gail.pc.in:
	Remove dependency on gtkhtml2
	Add reference to libgailutil

	* gail/Makefile.am:
	* gail/gail.h:
	Remove references to deleted files

	* gail/gail.c:
	Remove support for accessibility for gtkhtml2

	* gail/gailcanvasitem.c gail/gailcanvastext.c gail/gailcanvastext.h
	gail/gailentry.c gail/gailentry.h gail/gaillabel.c
	gail/gaillabel.h gail/gailtextcell.c gail/gailtextcell.h
	gail/gailtextview.c gail/gailtextview.h:
	Change references to gail_text_helper to gail_text_util or gail_misc

	* gail/gailwidget.c gail/gailwidget.h:
	Remove reference to GailHtmlBoxEmbedded
	Remove gail_widget_get_origins; it becomes gail_misc_get_origins

2001-12-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c:
	Emit text-caret-moved signal when text is inserted or deleted and
	cursor position changes

	* tests/ferret.c:
	Add code to receive notifification of state change

2001-12-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextcell.c:
	Update so that it build with Sun's FORTE compiler.

2001-12-17  Bill Haneman <bill.haneman@sun.com>

	* gail/gailutil.c:
	Changed implementation of atk_key_event_from_gdk_event_key to fill
	the AtkKeyEvent's 'string' member with the string-ified name of
	the GdkEventKey's keyval, if the GdkEventKey's string member is not
	already set (i.e. if it's not the result of a composed key sequence or
	a printable, non-whitespace key).

2001-12-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_get_extents):
	Correct so that it works for both panel windows and normal windows.

2001-12-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/Makefile.am:
	Update to not install any include files but leave open the option to
	in the future.

	* gail/gail.c (gail_focus_watcher):
	Fix bug when focus goes to GtkNotebook

	* gail/gailmenuitem.c (gail_menu_item_get_keybinding):
	Fix problems found when running gnome-panel-2.

	* tests/ferret.c (_button_watcher):
	Identify object type when no child found at position

2001-12-11  Michael Meeks  <michael@ximian.com>

	* gail/gailtreeview.c (gail_tree_view_finalize): fix
	warning spew on certain shutdowns.

2001-12-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtoplevel.c:
	In _gail_toplevel_remove_child () remove the window from the window
	list after the children_changed::remove signal is emitted so that the
	signal handler can identify the child being removed.
	Stylistic changes

	* tests/testobject.c:
	In children_changed emission hook identify the type of object removed
	from top level.
	Stylistic changes

2001-12-11  Michael Meeks  <michael@ximian.com>

	* gail.pc.in: update.

2001-12-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c (gail_label_get_name)
	Use gtk_label_get_text () to get the name of the label, to
	avoid underscore _ in name.

2001-12-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_get_extents):
	Update so that position of BasePWidget (the GtkWindow for the
	panel at the bottom of the screem) is reported correctly

2001-12-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c:
	Stylistic changes and some optimizations
	(Suggested by  Michael Meeks  <michael@ximian.com>)

2001-12-07  Michael Meeks  <michael@ximian.com>

	* gail/gailtoplevel.c (gail_toplevel_object_init): force the
	GtkWindow class init to run.

2001-12-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c gail/gaillabel.c gail/gailtoplevel.c
	gail/gailtreeview.c tests/ferret.c tests/testlib.c tests/testtable.c
        tests/testtextlib.c tests/testtoplevel.c:
	Remove foo == FALSE and foo == TRUE

2001-12-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c (gail_focus_watcher):
	Report focus as bing in a canvas item if a canvas has a currently
	focused item.

	* gail/gailcanvasitem.c:
	Set states ATK_STATE_FOCUSABLE and ATK_STATE_FOCUSED (if appropriate)

2001-12-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_get_extents):
	Undo recent change as it is incorrect

	* gail/gailtreeview.c:
	(garbage_collect_cell_data): Split into old method and
	new idle wrapper below.  Remove any pending idle handler
	via g_source_remove, when garbage_collect_cell_data is called
	synchronously.
	(idle_garbage_collect_cell_data): use GDK_THREADS_ENTER and
	GDK_THREADS_LEAVE.
	Always return FALSE from the idle handler (since if the job needs
	re-doing, a separate idle handler will be queued).
	Fix based on analysis/suggestions from Damon Chaplin, bug #325759.

	* gail/gailnotebook.c:
	Emit visible-data-change signal when page is changed.

2001-12-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvas.c:
	Add signal handlers for "value-changed" signal for horizontal and
	vertical adjustments of the GtkLayout of the GnomeCanvas so that
	"visible-data-changed" signal is emitted.

	* gail/gailcanvasitem.c:
	Check whether item is showing before reporting its position in
	gail_canvas_item_get_extents(). Correct calculation of position and
	size.
	Report state ATK_STATE_SHOWING is item is showing.

2001-12-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_item_get_keybinding):
	Check that the GtkAccelKey returned by gtk_accel_group_find() is
	non NULL before trying to access it.

2001-12-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvastext,c gail/gailentry.c gail/gailhtmlboxtext.c
	gail/gaillabel.c gail/gailtextcell.c gail/gailtexthelper.c
	gail/gailtextview.c :
        Change atk_attribute_register to atk_text_attribute_register,
        atk_attribute_get_value to atk_text_attribute_get_value,
        atk_attribute_get_name to atk_text_attribute_get_name
        atk_attribute_for_name to atk_text_attribute_for_name

2001-12-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailarrowfactory.c gail/gailbooleancellfactory.c
	gail/gailboxfactory.c gail/gailbuttonfactory.c
	gail/gailcalendarfactory.c gail/gailclistfactory.c
	gail/gailcombofactory.c gail/gailentryfactory.c
	gail/gailimagecellfactory.c gail/gailimagefactory.c
	gail/gailitemfactory.c gail/gaillabelfactory.c
	gail/gaillistfactory.c gail/gailmenuitemfactory.c
	gail/gailmenushellfactory.c gail/gailnotebookfactory.c
	gail/gailoptionmenufactory.c gail/gailpanedfactory.c
	gail/gailpixmapfactory.c gail/gailprogressbarfactory.c
	gail/gailradiobuttonfactory.c gail/gailrangefactory.c
	gail/gailscrollbarfactory.c gail/gailscrolledwindowfactory.c
	gail/gailseparatorfactory.c gail/gailspinbuttonfactory.c
	gail/gailstatusbarfactory.c gail/gailtextcellfactory.c
	gail/gailtogglebuttonfactory.c gail/gailtreeviewfactory.c
	gail/gailwindowfactory.c:
	Cosmetic change to declaration of ..._new function.

	* gail/gailtreeview.c:
	* gail/gailtoplevel.c
	Cosmetic changes

2001-12-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvasitem.c:
	Add gail_canvas_item_ref_state_set
	Correct gail_canvas_item_get_extents

	* gail/gailtexthelper.c, gail/gailwidget.h:
	Rename arguments to gail_widget_get_origins to be more meaningful

	* gail/gailwidget.c:
	Change gail_widget_get_extents() to use gail_widget_get_origins
	Rename arguments to gail_widget_get_origins to be more meaningful

	* gail/gailwindow.c:
	Fix warning

2001-12-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add gail/gailhtmlboxembeddedfactory.c:
	* Add gail/gailhtmlboxembedded.c and gail/gailhtmlboxembedded.h:
	Files changed: gail/Makefile.am, gail/gail.h

	* gail/gailhtmlboxblock.c:
	Remove gail_html_box_block_get_child_index

	* gail/gailobject[c|h]:
	Remove gail_object_get_child_index

	* gail/gailwidget.c:
	Update to take account of the fact we create an accessible for
	HtmlBoxEmbedded

2001-12-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add gail/gailcanvaswidget.c and gail/gailcanvaswidget.h:
	Files changed: gail/Makefile.am, gail/gail.h

	* gail/gailcanvasgroup.c:
	Remove gail_canvas_group_get_child_index

	* gail/gailcanvasitem.c:
	Add get_mdi_zorder implementation for GailCanvasItem

	* gail/gailcanvaswidgetfactory.c:
	Use standard implementatiom for ...create_accessible

	* gail/gailwidget.c:
	Update to take account of the fact we create an accessible for
	GnomeCanvasWidget

2001-11-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add factories for htmlboxembedded and htmlbox
	New files: gail/gailhtmlboxembeddedfactory.[c|h],
	gail/gailhtmlboxfactory.[c|h]
	Changd files: gail/Makefile.am, gail/gail.c, gail/gail.h

	* gail/gailbox.c:
	Set role to ATK_ROLE_COLOR_CHOOSER for accessible for GtkColorSelection

	* gail/gailcanvaswidgetfactory.c:
	Assume that GnomeCanvasWidget has a GnomeCanvasGroup as parent

	* gail/gailhtmlbox.c:
	Add gail_html_box_new() to create default accessible for HtmlBox
	Correct gail_html_box_init() to allowe accesible be created for
	root HtmlBox.
	Correct errors in gail_html_box_get_index_in_parent()

	* gail/gailhtmlbox.h:
	Add gail_html_box_new()

	* gail/gailhtmlboxblock.c:
	Add gail_html_box_block_get_child_index() to support
	atk_object_get_index_in_parent() for accessible of HtmlEmdedded

	* gail/gailhtmlview.c:
	Report accessible for root HtmlBox as only child

	* gail/gailwidget.c:
	Update gail-widget_get_index_in_parent to support widget in
	HtmlBoxEmbedded

2001-11-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add factory for canvas item so all items on GnomeCanvas have an
	accessible object
	New files: gail/gailcanvasitemfactory.c, gailcanvasitemfactory.h
	Changd files: gail/Makefile.am, gail/gail.c, gail/gail.h

	* gail/gailcanvas.c (gail_canvas_new):
	Change role to ATK_ROLE_LAYERED_PANE

	* gail/gailcanvasgroup.c:
	Add function gail_canvas_group_get_child_index() so that we find
	the index of an accessible for a widget in a GnomeCanvasWidget
	in the accessible for the GnomeCanvasGroup.

	* gail/gailcanvasitem.[c|h]:
	Add gail_canvas_item_new() and gail_canvas_item_get_index_in_parent()

	* gail/gailcanvaswidgetfactory.c
	Correct cast in gail_canvas_widget_factory_create_accessible()

	* gail/gailhtmlbox.c:
	Correct setting of parent for GailHtmlBox in gail_html_box_init()
	Add gail_html_box_get_index_in_parent()

	* gail/gailhtmlboxblock.c:
	Add implementation for gail_html_box_block_get_n_children()
	and gail_html_box_block_ref_child()

	* gail/gailhtmlview.c:
	Take account of widget children in gail_html_view_get_n_children()
	and gail_html_view_ref-child() (This may be a temporary expedient)

	* gail/gailobject.c:
	Add function gail_object_get_child_index()
	Update gail_real_object_init() to use g_object_weak_ref() for a
        non GtkObject to get notification of its destruction.

	* gail/gailobject.h:
	Add function gail_object_get_child_index()

	* gail/gailwidget.c:
	Update gail_widget_get_index_in_parent() to take account of parent
	being GnomeCanvasGroup, i.e. widget in a GnomeCanvasWidget
	Use g_list_index() in gail_widget_get_index_in_parent()

	* gail/gailwindow.c:
	Use g_list_index() in gail_window_get_index_in_parent()

	* tests/testlib.c:
	Remove warning

2001-11-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/ferret.c, tests/testlib.c, tests/testlib.h,
	tests/testobject.c, tests/testtable.c, tests/testtext.c:
	Remove the function get_role_name; use atk_role_get_name instead.

2001-11-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in
	Add dependency for gtkhtml2

	* Add boiler plate for GailHtmlBox, GailHtmlBoxBlock, GailHtmlBoxText,
	GailHtmlView
	New files: gail/gailhtmlbox.c, gail/gailhtmlbox.h
	gail/gailhtmlboxblock.c, gail/gailhtmlboxblock.h
	gail/gailhtmlboxblockfactory.c, gail/gailhtmlboxblockfactory.h
	gail/gailhtmlboxtext.c, gail/gailhtmlboxtext.h
	gail/gailhtmlboxtextfactory.c, gail/gailhtmlboxtextfactory.h
	gail/gailhtmlview.c, gail/gailhtmlview.h
	gail/gailhtmlviewfactory.c, gail/gailhtmlviewfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am

	* gail/gailcanvasgroup.[c|h], gail/gailcanvasgroupfactory.c:
	Change gail_canvas_group_new() to take GObject* as argument

	* gail/gailcanvastext.[c|h], gail/gailcanvastextfactory.c:
	Change gail_canvas_text_new() to take GObject* as argument

	* gail/gailobject.c:
	Set default layer in gail_object_real_init()

	* tests/Makefile.am:
	Pass LDFLAGS through to Makefile

2001-11-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailObject.
	New files: gail/gailobject.c, gail/gailobject.h
	Updated files: gail/gail.h, gail/Makefile.am.
        GailObject is used for accessible for objects which are not widgets

	* gail/gailcanvas.c:
	Use gail_object_get_accessible() instead of
	gail_canvas_item_get_accessible()

	* gail/gailcanvasgroup.c:
	Cosmetic changes
	Make parent class a GailCanvasItem rather than AtkObject
	Use GailObject to store GnomeCanvasGroup in accessible object.

	* gail/gailcanvasgroup.h, gail/gail.h:
	Use <> instead of "" when including files.

	* gail/gailcanvasitem.c:
	Make parent class a GailObject rather than AtkObject
	Use GailObject to store GnomeCanvasItem in accessible object.
	Remove gail_canvas_item_get_accessible(); gail_object_get_accessible()
	will be used instead.
	Make gail_canvas_item_init() static and define as init function in
	AtkObjectClass
	Add checks for defunct object

	* gail/gailcanvasitem.h
	Derive from GailObject rather than AtkObject.
	Omit canvas_item in GailCanvasitem data structure; object in AtkObject
	is used instead

	* gail/gailcanvastext.c:
	Use gail_object_init() instead of gail_canvas_item_init() in
	gail_canvas_text_new()

	* gail/gailcanvaswidgetfactory.c:
	Use gail_object_get_accessible() instead of
	gail_canvas_item_get_accessible()

2001-11-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvas.c
	Cosmetic changes
	Removed some redundant checks

	* gail/gailwindow.c (gail_window_ref_state_set):
	Check that widget->window is not NUll to avoid warning when
        terminating

2001-11-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Remove check for pgk-config version; add check for atk and
	libgnomecanvas-2.0 version.
	Update required version for gtk+-2.0
	Use PKG_CHECK_MODULES to do package checking

2001-11-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbooleancell.c, gail/gailimagecell.c, gail/gailtextcell.c:
	Call g_object_ref() and gtk_object-sink() for GTK renderers to avoid
	warnings when they are finalized.

2001-11-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcanvasitem.c:
	Cosmetic changes
	Set layer to ATK_LAYER_MDI

	* gail/notebookpage.c:
	Cosmetic changes
	Set layer to ATK_LAYER_WIDGET

	* tests/Makefile.am:
	Add dependency on testlib.c for libtestobject

	* test/ferret.c:
	Use atk_relation_type_get_name() to get name of relation type

	* tests/testlib.[c|h]:
	Remove get_relation_name()

	* tests/testobject.c:
	Use get_role_name() to output role as text
	Change tests for layer value

2001-11-21  Michael Meeks  <michael@ximian.com>

	* tests/testtreetable.c (row_inserted, row_deleted):
	warning fixes.

	* tests/testtoplevel.c (_check_toplevel): const update.

	* tests/testtextlib.c (_run_offset_test): kill
	warning / bug.

	* tests/testprops.c (_selection_changed): kill warning.

	* gail/Makefile.am (INCLUDES): actually do the -D VERSION

	* gail/gailutil.c (gail_util_remove_key_event_listener):
	cast guint to pointer.
	(gail_util_add_global_event_listener): constify, and dup /
	free the emission hook string.
	(gail_util_get_toolkit_version),
	(gail_util_get_toolkit_name): G_CONST_RETURNs
	& return VERSION not "VERSION".

	* gail/gailtreeview.c: remove stdlib include.
	(gail_tree_view_real_notify_gtk): kill warning.
	(gail_tree_view_ref_child): Initialize child - unsure
	about what was intended here - almost certainly not
	to use the previous 'child' pointer.

	* gail/gaillabel.c: remove stdlib include.

	* gail/gailcanvastext.c
	(gail_canvas_text_get_character_count): setup gail_text
	before using it.
	(add_to_attr_set): add a default case to kill warning /
	trap errors.

	* gail/*.c: include string.h to get memset, strcmp etc.

	* gail/gail.c (gail_focus_tracker_init): remove bogus
	volatile stuff.

2001-11-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_item_get_keybinding):
	Allow for menu not having an accel group
	(Problem reported by Peter Williams <peterw@ximian.com>)

2001-11-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/testprops.c:
	Add include of <string.h>
	Cosmetic changes
	Remove references to 'accessible-state" property
	Add signal handler for "state-change" signal

	* tests/testtable.c:
	Add include of <string.h>
	Remove references to "accessible-state" property

	* tests/testtreetable.c
	Fix warnings
	Update _state_change_watch, emission hook for "state-change" aignal,
	to match signal definition


2001-11-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c (gail_widget_real_init):
	Set default layer for all widgets to ATK_LAYER_WIDGET

	* gail/gailmenu.c (gail_menu_new):
	Set layer to ATK_LAYER_POPUP

	* tests/ferret.c (property_change_handler:
	Remove accessible-state property and add new properties
	accessible-component-layout and accessible-component-mdi-zorder

	* tests/testobject.c:
	Add code to check layer value

2001-11-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailscrolledwindow.c (gaiL_scrolled_window_scrollbar_visibility):
	Get the accessible child irrespective of whether the scrollbar is
	visible; add error handling in case the scrollbar does not belong
	to this scrolled window.

2001-11-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c:
	Remove gail_widget_get_role() as default implementation can be used
	Cosmetic changes
	Remove redundant code from gail_widget_get_extents()

	* gail/gailwindow.c:
	Add call to gail_widget_init() back into gail_widget_new()

	* tests/testtreetable.c:
	Fix minor error

2001-11-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c:
	Fix typos in comments; some cosmetic changes

	* gail/gailtreeview.c:
	Remove return value from set_cell_visibility as it is not used.
	Remove reference to state ATK_STATE_COLLAPSED
	Update set_cell_visibility to set states ATK_STATE_SHOWING and
	ATK_STATE_VISIBLE correctly for cells.

	* tests/ferret.c:
	Remove reference to state ATK_STATE_COLLAPSED; display values for
	states ATK_STATE_EXPANDED and ATK_STATE_SHOWING

	* tests/testtreetable.c:
	Add tests for signal state-change.

2001-11-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Rename is_cell_visible to is_cell_showing
	Set state ATK_STATE_VISIBLE on cell if it want to be visible, i.e.
	it is in a visible row and its height is nonzero.
	Set state ATK_STATE_SHOWING on cell if its rectangle intersects the
	visible rectangle of the TreeView.

	* tests/ferret.c (_print_key_value):
	Allow for value to be NULL; this may happen for the name of the object
	in the relation ATK_RELATION_NODE_CHILD_OF.

	* tests/testlib.c:
	Cosmetic changes
	Add name for relation ATK_RELATION_NODE_CHILD_OF

	* tests/testlib.c:
	Ensure that object implements AtkTable before connecting to
	model-changed signal and implements AtkSelection before connecting to
	selection-changed signal.

2001-11-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c, gail/gaillabel.c, gail/gailtextview.c:
	Change selection_changed signal name to text_selection_changed

	* gail/gailmenuitem.c:
	Update getting of accelerator name to use public interfaces,
	as much as possible.

	* gail/gailtreeview.c:
	Generate focus change for cell in idle handler so that edit action
	can be safely done when focus notification is received.
	Add edit action for cells which are editable.

	* tests/testtreetable.c:
	Add code which tests edit action for editable cells.

2001-11-16  Louise Miller  <louise.miller@sun.com>

        * gail/gailtreeview.c
	Removed extra argument from call to gtk_tree_view_get_path_at_pos.
	This allows GAIL to compile again

2001-11-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_get_keybinding):
	Update to get accelerator for a menu item.

2001-11-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_get_keybinding):
	Remove references to accelerator-related functions removed from GTK
	This change allows GAIL to compile; I will need to make another change
	to provide functionality to report keybindings

2001-11-14  Bill Haneman  <bill.haneman@sun.com>

	* gail/gailutil.c:
        Added GTK-specific implementation of new API,
	atk_util_(add/remove)_key_snooper()
	[ gail_util_add_key_event_listener() and
	gail_util_remove_key_event_listener() ]


2001-11-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail*/c, gail/gail*.h, gail/gail*factory.c:
	Change gail_*_new() functions to return AtkObject* instead of
	GtkAccessible*


2001-11-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* README:
	Update description of dependencies to take account of libgnomecanvas
	support.

	* gail/Makefile.am:
	Remove references to zvt_accessible

	* gail/gailcanvas.c:
	* gail/gailcanvasgroup.c:
	Set role explicitly rather than call atk_object_set_role to avoid
	property notification.

	* gail/gailcanvasgroup.h:
	* gail/gailcanvastext.h:
	Make gail_canvas_*_new() return AtkObject* rather than
	GailCanvasGroup*

	* gail/gailcanvasitem.c:
	* gail/gailwidget.c:
	Cosmetic changes
	Set function pointers in AtkComponent for functions which are not
	implemented to NULL

	* gail/gailcanvastext.c:
	Cosmetic changes
	Fix compiler warnings and errors by adding functions add_to_attr_set()
	and get_text_near_offset().

	* gail/gailcanvaswidgetfactory.c:
	Fix compiler warnings

	* gail/gailtreeview.c:
	Correct some typos in comments
	Emit visible-data-changed signal when row-changed signal is emitted
	by model.

	* tests/testtreetable.c:
	Update code to work with gtk-demo


2001-11-12  Marc Mulcahy <marc.mulcahy@sun.com>
	* gailcanvas.c gailcanvas.h gailcanvasfactory.c
	gailcanvasfactory.h gailcanvasitem.c gailcanvasitem.h
	gailcanvasgroup.c gailcanvasgroup.h gailcanvasgroupfactory.c
	gailcanvasgroupfactory.h gailcanvastext.c gailcanvastext.h
	gailcanvastextfactory.c gailcanvastextfactory.h
	gailcanvaswidgetfactory.c gailcanvaswidgetfactory.h: Added initial
	support for libgnomecanvas.


2001-11-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Add get_label_from_button()
	Remove cast of first argument to g_signal_connect()

	* gail/gailclist.c, gail/gailcontainer.c, gail/gailentry.c,
	gail/gailpaned.c, gail/gailprogressbar.c, gail/gailrange.c,
	gail/gailscrolledwindow.c, gail/gailgailspinbutton.c,
	gail/gailtextview.c, gail/gailwidget.c, gail/gailwindow.c:
	Remove cast of first argument to g_signal_connect()

	* gail/gailtreeview.c:
	Notify when a cell has focus when cursor-changed signal is
	received from GtkTreeView.

	* tests/testtreetable.c:
	Check object type of object when focus is reported on an object.


2001-11-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c:
	Remove state ATK_STATE_STALE when index is refreshed

	* gail/gailtreeview.c:
	Deal with "expand-row" signal in idle function as expandsion of a row
	may change the visible rectangle.
	Add signal handler for "size-allocate" signal and update cell's
	visibility on signal handler.
	Update visibility of cells below collapsed row when row is collapsed
	Change set_stale() to traverse_cells() and always update cell's
	visibility in traverse_cells().
	Change second parameter of set_cell_visibility() from GailRendererCell
	to GailCell
	Use find_cell_info() in refresh_cell_index()


2001-11-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Change prototype for set_cell_visibility() and is_cell_visible() to
	make code tidier.
	Update gail_tree_view_ref_accessible_at_point() to return correct cell
	Change model_row_deleted() to avoid warning when an invisible child
	is deleted.

	* tests/testtreetable.c:
	Add code to check extents for cells and their visibility state are
	reported correctly


2001-11-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c:
	Update state value before generating notification of change
	in gail_cell_add_state() and gail_cell_remove_state()
	Propagate state change to parent if it is a flyweight container cell
	in gail_cell_remove_state()

	* gail/gailcell.h:
	Update comments

	* gail/gailtreeview.c:
	In gail_tree_view_real_notify_gtk() check a model exists before
	updating role to cater for program termination
	Refactored some code into functions to reduce code size
	Add relation ATK_RELATION_NODE_CHILD_OF for cells in expander column
	Specify cell index refersh function for container cell.
	In set_stale() do not cause a signal to be emitted when
	gail_cell_remove_state() is called to remove EXPANDED or COLLAPSED
	state
	Cosmetic changes (remove _gail_tree_view_ from functions names which
	contain it)

	tests/Makefile.am:
	Add testtreetable.c to test TreeTable functionality in gailtreeview.c

2001-11-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.[c|h]:
	Remove row and column from cell structure and use index instead

	* gail/gailclist.c, gail/gailclistcell.c:
	Update to use cell's index rather than row and column

	* gail/gailtreeview.c:
	Define the index of a cell so that it does not change when cells
	are expanded or collapsed. All cells are children of the table even
	if they are in ccollapsed rows.
	Reimplement gail_tree_view_get_row_at_index(),
	gail_tree_view_get_column_at_index(), gail_tree_view_get_index_at() and
	gail_tree_view_get_n_children().
	Move code for creating an accessible cell from
	gail_tree_view_ref_at_actual() (which is removed) to
	gail_tree_view_ref_child()
	Specify role as ATK_ROLE_TABLE or ATK_ROLE_TREE_TABLE and change
	role when model is changed.
	Add gail_tree_view_ref_accessible_at_point().
	Correct bugs with notification when row is deleted; move code from
	_gail_tree_view_destroy_cnt_func().
	(I still have work to do on this file but I am committing the changes
	I have made so far)
	* gail/gailtreeview.h:
	Add n_children_deleted to GailTreeView data structure. It is used the
	number of deleted children obtained in
	_gail_tree_view_destroy_cnt_func() and is used when notification of
	row deletion of collapse is received.

	* tests/testlib.c, tests/testprops.c:
	Update to take account of new role ATK_ROLE_TREE_TABLE

	* tests/testtable.c:
	Minor changes to tests, especially related to getting index value.

2001-11-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailoptionmenu.c:
	Note when menu is set so we can set the parent of the menu to be the
	option menu.

2001-10-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* configure.in:
	Set GAIL_MICRO_VERSION to 0.3 and GTK_REQUIRD_VERSION to 1.3.10

2001-10-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* gailtreeview.h:
	Store the tree_model in _GailTreeView structure so we can disconnect
	signal handlers when model is changed.

	* gail/gailtreeview.c:
	Add gail_tree_view_get_index_at(), gail_tree_view_get_column_at_index()
	and gail_tree_view_get_row_at_index() to implement AtkTable
	functions atk_table_get_index_at(), atk_table_get_column_at_index()
	and atk_table_get_row_at_index().
	Set role to ATK_ROLE_TABLE always.
	Support changing of model by disconnecting signal handlers from old
	model, clearing cached data and connecting to signals on new model.
	Set state of cells after expanded row to stale before setting
	state of cell to expanded.
	Do not emit children-changed signal when row is expanded or contracted
	As these cells are not children of the GailtreeView.
	Upadted gail_tree_view_destroy_cnt_func() to return correct number
	of rows deleted.
	Update _gail_tree_view_set_expand_state() to return when expanded row
	found.


2001-10-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Change notify of "accessible-visible-data" property to emission of
	signal "visible_data_changed"
	Call g_strdup() for click_keybinding so we can safely free it

	* gail/gailcell.c:
	Change notify of "accessible-visible-data"  property to emission of
	signal "visible_data_changed"
	Cosmetic changes

	* gail/gailclist.c:
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names
	Change notify of "accessible-selection" property to emission of
	signal "selection_changed"

	* gail/gailcombo.c:
	Change notify of "accessible-selection" property to emission of
	signal "selection_changed"

	* gail/gailcontainer.c:
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names
	Remove emission of "property_change" signal for "accessible-child"
	Change emission of "property_change" signal for "accessible_parent"
	to call to g_object_notify()

	* gail/gailentry.c:
	Change notify of "accessible-selection" property to emission of
	signal "selection_changed"
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names
	Remove notify of "accessible-text" property

	* gail/gaillabel.c:
	Change notify of "accessible-selection" property to emission of
	signal "selection_changed"
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names
	Remove notify of "accessible-text" property
	Change notify of "accessible-visible-data" property to emission of
	signal "visible_data_changed"

	* gail/gailmenuitem.c, gail/gailnotebook.c:
	Change notify of "accessible-selection" property to emission of
	signal "selection_changed"

	* gail/gailscrolledwindow.c, gail/gailtextcell.c:
	Cosmetic changes
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names

	* gail/gailtextview.c:
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names
	Change notify of "accessible-selection" property to emission of
	signal "selection_changed"
	Remove notify of "accessible-text" property

	* gail/gailtreeview.c:
	Set role depending on type of tree model
	Change notify of "accessible-visible-data" property to emission of
	signal "visible_data_changed"
	Change notify of "accessible-model" property to emission of
	signal "model_changed"
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names

	* gail/gailwidget.c:
	Use _ (underscore) instead of  - (hyphen ) in property and
	signal names

	* tests/ferret.c:
	Remove references to properties "accessible-child", "accessible-caret",
	"accessible-selection", "accessible-text", accessible-model"

	* tests/testprops.c:
	Add tests for signals "selection_changed, "visible_data_changed" and
	"model_changed"

2001-10-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/testlib.c:
	Add reference to new role ATK_ROLE_TERMINAL

2001-10-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Update to take account of the fact that more than one row may be
	selected; removed gail_tree_view_get_selected_row()

	* tests/testlib.c, tests/testtextlib, tests/testtoplevel.c:
	Change meaning of return value from already_accessed_return_object()
	to be what one would expect.

	* tests/testtable.c:
	Change meaning of return value from already_accessed_return_object()
	to be what one would expect.
	Update so that it works with gtk-demo.


2001-10-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c (gal_tree_view_get_selected_rows):
	Get the selected rows when selection type is GTK_SELECTION_MULTIPLE

	* tests/testprops.c:
        Omit code which causes accessible objects for all table cells to be
	created as it slows down display of table too much

2001-10-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Fix problem with warnings from call to g_value_init()

2001-10-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.[c|h]
	Deal with notification of change of cursor-position and
	selection-bound properties of GtkEntry to emit text-caret-changed
	signal when cursor position changes and notify accessible-selection
	change when selection changes.

2001-10-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.[c|h]:
	Notify accessible-selection property change when selection is changed
	Use cursor-position property of GtkLabel and
	gtk_label_get_selection_bounds() to implement caret offset.

2001-10-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c:
	Pass GtkTextView instead of GtkTextLayout to
	gail_text_helper_get_text()

	* gail/gailtexthelper.c (gail_text_helper_get_text):
	Use GtkTextView functions instead of GtkTextLayout functions
	for wrapped GTkTextView when geeting display lines.

2001-10-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c (gail_menu_item_ref_state_set):
	Remove code to set ATK_STATE_SELECTED as it is done in
	atk_object_real_ref_state_set().

	* gail/gailnotebook.[c|h]:
	Store number of previous selected page so we can notify change
	of selected state when a notebook page is selected.

2001-10-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c, gail/gailitem,c,  gail/gailtreeview.c:
	Cosmetic changes
	Avoid calls to memset by initializing data structure.
	Fix error where property name for notifications was wrong.

	* gail/gailcombo.c, gail/gailcontainer.c, gail/gailentry.c,
	gail/gaillabel.c, gail/gailstatusbar.c, gail/gailtextview.c,
	gail/gailwidget.c, gailwindow.c:
	Avoid calls to memset by initializing data structure.

2001-10-20  Bill Haneman  <bill.haneman@sun.com>

	* gail/gailoptionmenu.c:
	Added test for non-null 'menu' member of optionmenu,
	to prevent segv if a gailoptionmenu is created for
	an optionmenu that hasn't yet had its menu child initialized.

2001-10-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c, gailgailcell.c, gail/gailentry.c,
	gail/gailtextview.c, gail/gailtogglebutton.c, gail/gailwidget.c,
	gail/gailwindow.c:
	Use convenience function atk_object_notify_state_change() to
	notify a change in accessible-state.

	* gail/gailmenuitem.c:
	Cosmetic changes
	Add signal handlers for select and deselect signal on GtkItem
	in order to notify accessible-state change of ATK_STATE_SELECTED
	when menu item is selected or deselected
	Add gail_menu_item_ref_state_set() to report whether states of
	ATK_STATE_SELECTABLE or ATK_STATE_SELECTED are set.

	* gail/gailmenushell.c:
	Remove signal handler for "selection-done" as we notify
	accessible-selection change every time a menu item is selected or
	deselected.
	gail_menu_shell_real_init() was also removed as it is no longer
	needed.

	* tests/testtext.c:
	Fix typo.

2001-10-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtexthelper.[c|h]:
	Update gail_text_helper_text_text() to return correct word,
        sentence and line for at, before and after options.
	Added function get_pango_text_offsets(); removed function
	gail_text_helper_get_pango_line_offsets().

2001-10-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c, gail/gaillabel.c, gail/gailtextcell.c:
	Cosmetic changes
	Use gail_text_helper_get_text() to get text when boundary type is
	ATK_TEXT_BOUNDARY_CHAR

	* gail/gailtexthelper.[c|h]
	Add support for ATK_TEXT_BOUNDARY_CHAR to gail_text_helper_get_text()
	Remove gail_text_helper_boundary_char()

	* gail/gailtextview.c:
	Remove function get_char_at_offset(); use gail_text_helper_get_text()
	when boundary type is ATK_TEXT_BOUNDARY_CHAR.

2001-10-17  Marc Mulcahy <marc.mulcahy@sun.com>
	* .cvsignore:
	Added auto-generated files to .cvsignore.

	* gail/gail.c:
	Changed signature of gtk_module_init.

2001-10-17  Marc Mulcahy <marc.mulcahy@sun.com>
	* gail/configure.in gail/Makefile.am gail.pc.in gail/.cvsignore:
	Added pkg-config support

2001-10-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtexthelper.[c|h]:
	Change gail_text_helper_switch_boundary_type() to
	gail_text_helper_get_text()
	Change layout parameter from PangoLayout* to gpointer to allow
	GtkTextLayout* when getting text for line boundary in GailTreeview
	when wrapping.
	Add code to support getting text for line boundary in GailTreeView
	when wrapping

	* gail/gailtextview.c:
	Cosmetic changes
	Get text on line boundary when wrapping

	* gail/gailentry.c, gail/gaillabel.c, gail/gailtextcell.c:
	Change gail_text_helper_switch_boundary_type() to
	gail_text_helper_get_text()

	*gail/gailutil.c:
	Change malloc to g_malloc

2001-10-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtexthelper.[c|h]:
	Cosmetic changes.
	Remove null_value field in _GailTextHelper data structure
	Fix corner cases in gail_text_helper_boundary_type() for text
	at offset.

	* gail/gailtextview.c:
	Cosmetic changes

	* tests/testlib.c:
	Add mnemonic to "Run Tests" button.

2001-10-16  Bill Haneman  <bill.haneman@sun.com>

  	* configure.in: added AM_CONFIG_HEADER(config.h)
	* gail/gailutil.c: changed getVersion() to return
	hard-coded string "VERSION", since at the moment the
	version #define seems to be broken.
	* tests/ferret.c: changed _button_watcher to query
	child at mouse-click point for all GTK_CONTAINERS,
	not just treeviews and clists.

2001-10-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c:
	Fix problem with last character being lost in atk_text_get_text...
	functions; the problem was that the GtkTextBuffer was being reset
	before the GtkEntry text field was updated.

	* gail/gailtextview.c:
	Cosmetic changes

2001-10-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c, gailgailcell.c, gail/gailclist.c,
	gail/gailcontainer.c, gail/gailentry.c, gail/gailmenuitem.c,
	gail/gailscrolledwindow.c, gail/gailtextcell.c, gail/gailtextview.c,
	gail/gailtogglebutton.c, gail/gailtogglebutton.c, gail/gailtoplevel.c,
	gail/gailtreeview.c, gail/gailwidget.c, gail/gailwindow.c:
	Add detail of property name when emitting property-change signal
	Omit cast of first argument of g_signal-emit_by_name as it is a
	gpointer.

	* tests/testprops.c:
	Add test for detail of property-change signal.

2001-10-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/Makefile.am:
	Update Makefile.am so that include files are installed; this is to
	allow accessible implementations to derive from, for instance,
	GailWidget.

	* gail/gail*.h:
	Update include files to change #include "gail*.h" to
	#include <gail/gail*.h> so that installed include files will work

2001-10-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c:
	Add gail_entry_get_default_attributes() to implement
	atk_text_get_default_attributes() for GailEntry.
	Change gail_entry_get_run_attributes() to use
	gail_text_helper_get_run_attributes().

	* gail/gaillabel.c:
	Change gail_label_get_run_attributes() to use
	gail_text_helper_get_run_attributes().
	Change gail_label_get_default_attributes() to use
	gail_text_helper_get_default_attributes().

	* gail/gailtextcell.c:
	Add gail_text_cell_get_default_attributes() to implement
	atk_text_get_default_attributes() for GailEntry.
	Change gail_text_cell_get_run_attributes() to use
	gail_text_helper_get_run_attributes().

	* gail/gailtexthelper.[c|h]
	Change value argument of gail_text_helper_add_attribute() from
	const gchar * to gchar* as we no longer strdup() it.
	Add gail_text_helper_get_run_attributes() and
	gail_text_helper_get_default_attributes().

	* tests/testlib.c:
	Change to avoid core where AtkObject has no name.

2001-10-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c:
	Add gail_label_get_default_attributes() to implement
	atk_text_get_default_attributes() for GailLabel
	Mostly cosmetic changes to gail_label_get_run_attributes; values
	for underline have changed.
	Update to use AtkTextAttribute enum and atk_attribute_get_name() and
	atk_attribute_get_value() to get names and values for attributes().

	* gail/gailtextcell.c:
	* gail/gailtextview.c:
	Update to use AtkTextAttribute enum and atk_attribute_get_name() and
	atk_attribute_get_value() to get names and values for attributes().

	* gail/gailtexthelper.c:
	Change second argument of gail_text_helper_add_attribute() from
	const gchar* to AtkTextAttribute.

2001-10-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c (gail_label_get_run_attributes):
	Tidy code including fix of out by 1 error at end of run
	and take account of change to gail_text_helper_add_attribute()

	* gail/gailtextcell.c (gail_text_cell_
	Take account of change to gail_text_helper_add_attribute()

	* gail/gailtexthelper.[c|h]:
	Change gail_text_helper_add_attribute() to prepend AtkAttribute
	and return new AttributeSet; it dups the name but not the value.

	* gail/gailtextview.c:
	Update to use gail_text_helper_add_attribute()

	* gail/gailwidget.c:
	Correct typo in comment

	* tests/testtext.c:
	Update to access llables in testgtk

	* tests/testtextlib.c:
	Fix typo

2001-10-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c:
	Implemented atk_text_get_default_attributes() for GailTextView
	Tidied code of gail_text_view_get_run_attributes() and
	gail_text_view_set_run-attributes()

	* tests/testtext.c:
	Remove focus tracking when object which supports text is found.

	* tests/testtextlib.c:
	Add support for testing atk_text_get_default_attributes()

2001-10-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c, gail/gaillabel.c, gail/gailtextcell.c,
	gail/gailtextview.c, tests/ferret.c:
	Rename ref_run_attributes to get_run_attributes

	* tests/testtext.c:
	Update so that it works correctly with GTK test program testtext

	* tests/testtextlib.c:
	Rename ref_run_attributes to get_run_attributes
	Tidy code which outputs attributes

2001-10-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c (gail_text_view_ref_run_attributes):
	Avoid warning messages when font description in GtkTextTag is NULL;
	Add call to g_slist_free() to avoid leaking the list.

	* tests/ferret.c:
	_get_name_value: Change call of gtk_entry_new() to
	gtk_entry_new_with_max_length()
	_print_text: Plug avoid memory leaks.

2001-10-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/Makefile.am:
	Add references to include files needed for make dist

	* configure.in:
	Add GAIL_MICRO_VERSION and set Version to 0.2

2001-10-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Update to take account of renaming of gtktreemodel signals
	on September 10th.

2001-10-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Update gail_button_get_name() to take account of change to
	implementation of a GtkButton which contains image and
        text from a stock item.

2001-09-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.[c|h]
	Cache keybinding string for click to avoid leaking it

	* gail/gailmenuitem.[c|h]
	Report mnemonics as well as accelerators in keybinding

2001-09-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c:
	Fix compilation errors caused by changes in gtktexttag.h
	(These are the changes I thought I made two days ago)

2001-09-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c:
	Fix coding error

	* gail/gailtextcell.c:
	Fix compilation errors caused by changes in gtkcellrenderertext.h

	* gail/gailtextview.c:
	Fix compilation errors caused by changes in gtktexttag.h

2001-09-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c, gail/gailentry.c:
	Emit text_changed::insert signal after text is inserted;
	emit text_changed::delete signal before text is deleted
	Notify accessible-text property change when changed signal
	received from GTK widget

	* tests/ferret.c:
	Correct typo: Insert->Delete

	* tests/testobject.c:
	Do not call atk_text_get_character_extents() unless object is showing

2001-09-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.[c|h], gail/gailoptionmenu.c:
	Remove code which works around inability to override
	interface methods in derived classes as bug 50966 is fixed.

2001-09-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c:
	Add extra parameter is_header to gail_clist_set_row_data() to
	allow row header or row description to be set to NULL.

	* gail/gailtreeview.c:
	Add extra parameter is_header to gail_tree_view_set_row_data() to
	allow row header or row description to be set to NULL.
	Call g_object_ref() for header in gail_tree_view_set_column_header()

2001-09-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c, gail/gailcontainercell.c, gail/gailentry.c,
	gail/gailnotebook.c, gail/gailnotebookpage.c, gail/gailoptionmenu.c,
	gail/gailprogressbar.c, gail/gailrange.c, gail/gailrendererecell.c,
	gail/gailspinbutton.c, gail/gailtextcell.c, gail/gailtexthelper.c,
	gail/gailtextview.c, gailtoplevel.c,
	Omit cast of argument to g_object_ref() or g_object_unref()

	* gail/gailcell.c:
	In gail_cell_init() call atk_object_set_parent() to set accessible
	parent.

	* gail/gailclist.c, gail/gailtreeview.c:
	Omit cast of argument to g_object_ref() or g_object_unref()
	Check object is non NULL before calling g_object_ref() or
	g_object_unref()
	Allow header to be NULL in gail_clist_set_column_header()

2001-09-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c:
	Change gail_cell_get_extents() to use the accessible corresponding
	to the widget stored in the cell in the call to
        gail_cell_parent_get_cell_extents(). This error was identified
	when testing a cell in a container cell.

	* gail/gailclist.c:
	Only report a cell as visible if it is in the visible rectangle.
	Do not report a cell as showing.
	Use x and y values of G_MININT for position of cell not in visible
	rectangle.
	In gail_clist_adjustment_changed() check whether any cached cells
	have become visible or invisible.

	* gail/gailcontainercell.c:
	Add gail_container_cell_finalize() to remove children list
	Rename _gail_container_cell_compute_child_indeces() to
	_gail_container_cell_compute_child_indices()
	Cosmetic changes

	* gail/gailtreeview.c:
	Add function _gail_tree_view_set_cell_visibility()
	Call gail_cell_init() for container cell.
	Only report a cell as visible if it is in the visible rectangle.
	Do not report a cell as showing.
	Use x and y values of G_MININT for position of cell not in visible
	rectangle.
	In gail_clist_adjustment_changed() check whether any cached cells
	have become visible or invisible.
	In gail_tree_view_cell_destroyed() remove cache entries for children
	of container cell when container cell is removed.

	* gail/gailwidget.c:
	Check that a widget is actually on the screen before reporting it as
	visible.
	Use x and y values of G_MININT for position of cell not in visible
	rectangle.
	Add functions gail_widget_on_screen() and gail_widget_find_viewport()
	to support determination of whether a widget is on the screen.

	* tests/testobject.c:
	Minor changes.

2001-09-05  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.[c|h], gail/gailtreeview.[c|h]:
	Update for change to atk_table_get_caption() and
	atk_table_set_caption().
	Correct property names used in emission of "property-change" signals
	* tests/ferret.c, tests/testtable.c:
	Update for change to atk_table_get_caption() and
	atk_table_set_caption().

2001-09-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c:
	Have gail_clist_get_n_children() include columns not marked
	visible when calculating number of children.
	Set ATK_STATE_VISIBLE and ATK_STATE_SHOWING, if cell is in
	visible column when constructing cell object.
	Remove function _gail_clist_set_cell_visibility()
	Emit property-change signal when setting caption, summary,
	column description, column header, row description, row header
	* gail/gailtreeview.c:
	Emit property-change signal when setting summary,
	column description, column header, row description, row header
	* tests/testtable.c:
	Update _property_change_handler() to handle different value types

2001-09-04  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailoptionmenu.c:
	Add call to g_object_ref() in gail_option_menu_ref_child()
	* gail/gailtreeview.c:
	Disconnect signal handler for add and remove signals on underlying
	GtkTreeView widget
	Have gail_tree_view_get_n_children() include columns not marked
	visible when calculating number of children.
	Set ATK_STATE_VISIBLE and ATK_STATE_SHOWING, if cell is in
	visible column when constructing cell object.
	Remove function _gail_tree_view_set_cell_visibility()
	Emit property-change signal when setting caption
	Change _gail_tree_view_column_visibility_change to update
	state of cached cells.
	Change _gail_tree_view_adjustment_changed() to just report
	accessible-visible-data property change

2001-09-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Fix bug recently introduced when GailButton does not report
	any actions available

2001-08-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	If GDK_FOCUS_EVENT event type is received and it is for focus in
	for a GtkWindow and it has a focus widget report the focus as being
	on the focus widget
	Ignore GDK_FOCUS_EVENT event type for focus out events.
	* tests/ferret.c:
	Add tab for interface AtkSelection

2001-08-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailOptionMenu
	New files: gail/gailoptionmenu.c, gail/gailoptionmenu.h
	gail/gailoptionmenufactory.c, gailoptionmenufactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	GailOptionMenu has role ATK_ROLE_PUSH_BUTTON, which one action,
	press, and one child which is the menu.
	* gail/gailbutton.[c|h]
	Define function pointers in class structure for AtkAction methods
	so we can override them for GailOptionMenu.
	* tests/testobject.c:
	Only call atk_component_get_extents() when state set includes
	ATK_STATE_SHOWING

2001-08-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* Remove files gail/gailtable.[c|h], gail/gailtablefactory.[c|h]
	There is no need to implement AtkTable on accessible object
	corresponding to GtkTable.
	* gail/Makefile.am, gail/gail.c, gail/gail.h
	Remove references to gailtable.

2001-08-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.c:
	Add signal handler for "value-changed" signals on scroll bars
	assocaited with GtkCList; this allows us to update the visibility
	of cells we have cached.
	* gail/gailtreeview.c:
	Fix leak of GtkTreePath returned by gtk_tree_path_new_root()
	Avoid warning generated by gtk_tree_path_next() when depth is 0.

2001-08-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.[c|h]:
	Add implementation for gail_clist_get_n_children(),
	gail_clist-ref_child(), gail_clist_ref_selection(),
	gail_clist_get_cell_extents(), gail_clist_get_cell_area()
	Implement gail_clist_ref_at(), for text only.
	* gail/gailclistcell.[c|h]:
	Add gail_clist_cell_get_name(); remove gail_clist_cell_new()
	* gail/gailtreeview.c:
	Correct gail_tree_view_cell_get_extents()
	* tests/ferret.c:
	Correct parameters pased to atk_object_ref_accessible_at_point()
	following mouse event. Event position is relative to widget.
	Support GtkCList cells following button press event as for
	GtkTreeView cells.
	Remove warning.

2001-08-28  Marc Mulcahy <marc.mulcahy@sun.com>
	* gail/gailTreeView.c:
	Fix to get gail compiling against latest GTK+.

2001-08-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.[c|h]:
	Add implementation for
	gail_clist_get_column_description(), gail_clist_set_column_description()
	gail_clist_get_column_header(), gail_clist_set_column_header()
	gail_clist_get_row_description(), gail_clist_set_row_description()
	gail_clist_get_row_header(), gail_clist_set_row_header()

2001-08-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c:
	Create LABEL_FOR relationship if a label has a mnemonic widget
	* gail/gailtreeview.c:
	Fix error checking bug in gail_tree_view_ref_child()

2001-08-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtable.c, gail/gailtreeview.c,
	gail/gailclist, tests/ferret.c:
	Updated because of change of AtkTable methods which have
	gchar* arguments or return value of type gchar*
	* tests/testtable.c:
	Calling g_object_unref() on AtkObjects returned by "ref" method.

2001-08-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailclist.[c|h]:
	Remove gail_clist_add_selection() and gail_clist_remove_selection()
	as selection of individual cells is not supported.
	Add implementation for gail_clist_get_selection_count(),
	gail_clist_is_child_selected(), gail_clist_get_caption(),
	gail_clist_get_n_columns(), gail_clist_get_n_rows(),
	gail_clist_get_summary(), gail_clist_add_row_selection(),
	gail_clist_remove_row_selection(), gail_clist_get_selected_rows(),
	gail_clist_is_row_selected(), gail_clist_set_caption(),
	gail_clist_set_summary()
	Define signal handler for "select-row" and "unselect-row" signals
	for GtkCList
	* gail/gailtreeview.c:
	Remove gail_tree_view_get_index_at(), gail_tree_view_get_row_at_index()
	gail_tree_view_get_column_at_index() as default implementation
	in atk/atktable.c is used.
	In gail_tree_view_get_selected_rows() check that address for array
	of indexes of selected rows in non NULL before using it.
	In gail_tree_view_ref_selection() add check that index is not
	greater than number of columns
	In gail_tree_view_get_selected_count() use
	gail_tree_view_get_selected_rows() to determine whether a row is
	selected.
	* tests/testtable.c:
	Update to support testsing of GailCList.

2001-08-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Add signal handler for "destroy" signal on GtkTreeViewColumn
	in which column header and column description are discarded,
	if present.
	When setting row or column header or description, or summary
	discard existing one;
	Add object reference for summary and row or column header
	when setting.

2001-08-22  Marc Mulcahy <marc.mulcahy@sun.com>

	 * .cvsignore gail/.cvsignore tests/.cvsignore:
	Added .cvsignore files.

2001-08-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Use G_CONNECT_AFTER when connecting to inserted, deleted, and
	reordered signals on tree model so that the GtkRowReference
	objects have handled the signals.
	Add new functions _gail_tree_view_set_row_data and
	_gail_tree_view_get_row_info functions so that the functions
	gail_tree_view_get_row_* and gail_tree_view_set_row_* functions
	are simplified.
	Change _gail_tree_view_get_column() to return a
	GtkTreeViewColumn* instead of the index. of the column.
	In gail_tree_view_table_ref_at() use _gail_tree_view_get_column
	instead of gail_tree_view_get_column to take account of column
	visibility.
	When creating a cell use gtk_tree_row_reference_new() instead of
	gtk_tree_row_reference_new_proxy() so that the GtkRowReference
	are updated when tree model signals inserted, deleted or reordered
	are emitted.

2001-08-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Remove gail_tree_view_get_row_extent_at() and
	gail_tree_view_get_column_extext_at() as GtkTreeView do not support
	rows or columns which extend over more than one (row or column).
	Set state ATK_STATE_SELECTED for a cell in
	gail_tree_view_table_ref_at() if the cell's row is selected
	Correct implementation of gail_tree_view_ref_selection() and
	gail_tree_view_get_selection_count()
	Change setting of state ATK_STATE_SELECTED for all cached cells when
	"changed" signal for GtkTreeViewSelection is emitted.
	Add new function +gail_tree_view_get_selected_row().
	Remove redundant code
	* tests/testtable.c
	Call g_free() for integer arrays returned by
	atk_table_get_selected_rows() and atk_table_get_selected_columns()

2001-08-22  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Use correct is_expander and is_expanded values in calls to
	gtk_tree_view_column_cell_set_cell_data().
	Use cached cell AtkObject in gail_tree_view_table_ref_at() instead
	of creating a new AtkObject each time.a
	These changes required some code refactoring and introduction of
	three new functions: gail_tree_view_cell_info_get_row_column(),
	_gail_tree_view_cell_info_new(), _gail_tree_view_find_cell()

2001-08-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Update to build with latest version of
	gtk_tree_view_column_cell_set_cell_data().

2001-08-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c, gail/gailbutton.c, gail/gailcombo.c,
	gail/gailcontainer.c, gail/gailentry.c, gail/gailitem.c,
	gail/gailmenuitem.c, gail/gailmenushell.c, gail/gailpaned.c
	gail/gailprogressbar.c, gail/gailrange.c, gail/gailspinbutton.c,
	gail/gailstatusbar.c, gail/gailtogglebutton.c, gail/gailtoplevel.c,
	gail/gailtreeview.c, gail/gailutil.c, gail/gailwidget.c,
	gail/gailwindow.c:
	Use g_signal_* functions instead of gtk_signal_* functions
	* gail/gailadjustment.c, gail/gailcell.c:
	Use g_signal_* functions instead of gtk_signal_* functions.
	Use g_signal_connect_object() to ensure that signal handler is
	removed when related object is destroyed instead of having to remove
	the signal handler explicitly.

2001-08-21  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c:
	Change focus handling so that the focus widget is reported as having
	focus if it receives a GDK_MOTION_NOTIFY event and another widget
	was reported as having focus.
	* gail/imagecell.[c|h]:
	Implement set_image_description() and get_image_description() to use
	a different description from AtkObject's description.
	Implement get_image_size(); omit get_image_position()
	Cosmetic changes
	* gail/gailimagecellfactory.c:
	Correct error which required that GTK cell renderer be a
	GtkCellRendererToggle when it should be GtkCellRendererPixbuf

2001-08-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Correct position value returned by gail_tree_view_get_cell_extents()
        * gail/gailcell.c
	Avoid warning messages if cell does not have any actions defined and		action interfaces called.
	* tests/ferret.c:
	Call gtk_window_set_default_size() for ferret window;
	Enable button press tracking on mouse when focus tracking is enabled.

2001-08-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Add back last line of _gail_tree_view_refresh_cell_index() which
	was deleted by accident.
	Remove unused local variables.

2001-08-17  Bill Haneman  <bill.haneman@sun.com>

	* tests/ferret.c
	Changed _send_to_magnifier API to take bounding box
	(could be important when magnifier revs, to
	re-center only if bbox goes offscreen).
	* tests/ferret.c
	Fixed bug that meant that caret motion coords were only
	sent to magnifier if ferret was on!
	* tests/ferret.c
	Uncommented code that calls
        atk_component_ref_accessible_at_point(), now that
	this function is implemented for GtkTreeView.

2001-08-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c, gail/gailimage.c, gail/gailimagecell.c
	gail/gailpixmap.c:
	Swap height and width parameters for atk_image_get_image_size
	* tests/testtextlib.c
	Free text character strings returned by atk_text_get_* functions

2001-08-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailScrollbar
	New files: gail/gailscrollbar.c, gail/gailscrollbar.h
	gail/gailscrollbarfactory.c, gailscrollbarfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	Add implementation for atk_object_get_index_in_parent()
	for scrollbars in a scrolled window
	* gail/gailrange.c:
	Remove reference to GtkScrollbar
	* gail/gailscrolledwindow.c:
	Mostly cosmetic changes, removed DOS-like linefeeds
	Freed children list in gail_scrolled_window_get_n_children.
	* gail/gailwindow.c:
	Corrected typo in comment

2001-08-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Correct setting visibility for cells
	* tests/testobject.c:
	Add more tests

2001-08-16  Marc Mulcahy <marc.mulcahy@sun.com>

	* gail/gailscrolledwindow.c:
	Added support for scrollbars as children of scrolledwindows.

2001-08-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextcell.c:
	Check that offset is valid in gail_text_cell_get_character_extents()
	Add error cheking in gail_text_cell_get_offset_at_ppint()

2001-08-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c, gail/gaillabel.c, gail/gailtextcell.c,
	gail/gailtextview.c:
	Use gail_text_helper_* functions instead of function pointers in
	class structure
	* gail/gailtexthelper.[c|h]:
	Define functions gail_text_helper_* instead of function pointers
	in class structure.

2001-08-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c, gail/gaillabel.c, gail/gailtextcell.c,
	gail/gailtexthelper.[c|h], gail/gailtextview.c tests/testobject.c
	tests/testtextlib.c
	Swap width and height parameters for atk_text_get_character_extents
	* tests/ferret.c
	Swap width and height parameters for atk_text_get_character_extents
	Change AtkAttributeSet_free to atk_attribute_set_free

2001-08-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcellparent.[c|h]
	Add gail_parent_get_cell_area()
	* gail/gailtextcell.c
	Amend gail_text_cell_get_character_extents() and
	gail_text_cell_get_offset_at_point() so that they return
	reasonable values; there are still some errors in corner cases.
	* gailtreeview.c
	Add gail_tree_view_get_cell_area() which implements
	gail_cell_parent_get_cell_area().
	* tests/testobject.c
	Add tests for atk_text_get_character_extents() and
	atk_text_get_offset_at_point()

2001-08-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c:
	Change "length" argument to "height"
	in gail_entry_get_character_extents
	* gail/gaillabel.c:
	Change "length" argument to "height"
	in gail_label_get_character_extents
	* gail/gailtextcell.c:
	Change "length" argument to "height"
	in gail_text_cell_get_character_extents
	* gail/gailtexthelper.[c|h]:
	Change "length" argument to "height"
	in gail_text_helper_get_character_extents_from_pango_rectangle
	* gail/gailtextview.c:
	Change "length" argument to "height"
	in gail_text_view_get_character_extents
	Cosmetic changes
	Tidied code in gail_text_view_get_character_extents and
	gail_text_view_get_offset_at_point
	* tests/ferret.c
	Change position sent to magnifier after call to
	atk_text_get_character_extents
	* tests/testtextlib.c
	Change "length" argument to "height" for calls to
	atk_text_get_character_extents

2001-08-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.[c|h]:
	Remove signal handler for "destroy" signal on widget when cell
	is finalized; otherwise some random mmemory is zeroised when widget
	is destroyed.
	Call g_list_free() for action_list in gail_cell_object_finalize()
	Cosmetic changes
	* gail/gailcontainer.c:
	Change default role to ATK_ROLE_PANEL from ATK_ROLE_UNKNOWN
	* gail/gailtreeview.c:
	Correct error in gail_tree_view_cell_info_remove()
	Remove hack to work around bug 57480 as bug is fixed.
	* gail/gailtextcell.c:
	Add "attributes" to list of properties copied to cell's renderer

2001-08-15  Padraig O'Briain  <padraig.obriain@sun.com>

	* New files gail/gailcellparent.[c|h]
	Updated files gail/Makefile.am
	Define interface GailCellParent which will allow GailCell to
	implement methods which require assistance from its parent.
	* gail/gailcell.c
	Add implementation of atk_component_get_extents;
	Cosmetic changes
	* gail/gailtreeview.c
	Add implementation of GailCellParent interface; i.e.
	gail_tree_view_get_cell_extents; renamed
	_gail_tree_view_is_cell_visible to _gail_tree_view_set_cell_visibility
	Created function _gail_tree_view_is_cell_visible and use in
	_gail_tree_view_set_cell_visibility and
	gail_tree_view_get_cell_extents

2001-08-14  Bill Haneman  <bill.haneman@sun.com>

	* gail/gailtoplevel.c
	GailToplevel now initializes its name via g_get_prgname();

2001-08-14  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c
	Use widget allocation when calculating header_height in
	_gail_tree_view_is_cell_visible()
	Cosmetic changes, including adding missing static declarations.

2001-08-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebook.c tests/testcomponent.c
	Change because atk_component_get_accessible_at_point was changed
	to atk_component_ref_accessible_at_point

2001-08-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c, gail/gaillabel.c
	Call g_object_notify_freeze() and g_object_notify_thaw()
	when more than one property notify is done.
	* gail/gailtreeview.c
	Call g_object_notify_freeze() and g_object_notify_thaw()
	when more than one property notify is done.
	Cosmetic changes to code, including some bug fixes.
	Fix leaks when removing GailTreeViewCellInfo data structure when
	cell is destroyed
	* tests/testobject.c tests/testcomponent.c
	Check with ATK_IS_COMPONENT before calling ATK_COMPONENT

2001-08-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcombo.c
	* gail/gailmenushell.c
	* gail/gailnotebook.c
	* gail/treeview.c
	Add notify change of accessible-selection property when
	selection changes.

2001-08-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtexthelper.h
	Remove char_at_offset function pointer from GailTextHelperClass
	* gail/gailtextview.c
	Provide implementation for atk_text_get_character_at_offset()
	* gail/gailwindow.c
	* tests/testbutton.c
	* tests/testcombo.c
	* tests/testimage.c
	* tests/testmenuitem.c
	* tests/testnotebook.c
	* tests/testobject.c
	* tests/testpaned.c
	* tests/testprops.c
	* tests/testselection.c
	* tests/teststatusbar.c
	* tests/testvalues.c
	Change ATK_ROLE_WINDOW to ATK_ROLE_FRAME
	* tests/ferret.c
	Change ATK_ROLE_WINDOW to ATK_ROLE_FRAME
	Remove function _get_window_position as it is no longer used.
	Use roles to determine whether component is a window when using
	magnifier.
	* gail/gailnotebook.c
	Change gail_notebook_page_get_extents() to get the extents of the
	tab label.
	Added gail_notebook_page_ref_state_set() to report the state of
	the page tab

2001-08-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c
	Use event_after signal and check event type instead of
	focus_in_event so that the focus tracker is called after the
	widget has received focus; Tidied code.
	* gail/gailwidget.c
	Use gtk_signal_connect_after() instead of gtk_signal_connect()
	for focus_in_event and focus_out_event so that we are notified
	after the default signal handler is executed.
	* tests/ferret.c
	Only call atk_object_get_index_in_parent() if
	atk_object_get_parent() returned non NULL; this avoids warnings
	when exiting a window.

2001-08-09  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c:
	Added to code to listen for mouse button events in GtkTreeView,
	as a workaround to current limitations in that GTK+ widget.
	This will allow querying of tree/table cells, once
	atk_component_ref_accessible_at_point () is implemented for
	GailTreeView.
	Added display of current character extents.
	Added magnifier output of current caret character's center.

2001-08-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailnotebookpage.c
	Add gail_notebook_page_get_accessible_at_point() and
	gail_notebook_get_extents()
	* gail/gailwidget.c
	Remove gail_widget_contains() and gail_widget_get_position()
	As default implementation in ATK is used
	Tidied code in gail_widget_get_extents()
	* tests/testcomponent.c
	Add check that parent is ATK_COMPONENT
	* tests/testnotebook.c
	Add tests for atk_component_get_extents() if role is ATK_ROLE_PAGE_TAB

2001-08-09  Brian Cameron <brian.cameron@sun.com>

	* tests/ferret.c
	Now ferret responds to property change events.
	Especially nice with objects of value.  You can
	watch the value update in ferret as it is changing.
	Added some if-logic in print_signal so it only
	updates the tab if the signal can affect the tab.
	Cleaned up menu logic and now just return from
	the signal/property change handlers if no_signals
	is turned on.  This makes things work better if
	no_signals is checked via the menu.  Removed the
	print_check_box function and enhanced
	print_name_value so it handles gbooleans.
	Now remove signal handler from buttons when they
	are removed.
	* tests/README
	Updated so it reflects the recent changes to ferret.

2001-08-08  Brian Cameron <brian.cameron@sun.com>

	* tests/ferret.c
	Now ferret has a menu!

2001-08-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailframe.c
	Change role from ATK_ROLE_FRAME to ATK_ROLE_PANEL
	* gail/gailentry.[c|h]
	Emit "text-changed" signal only after "changed" signal is emitted
	by GtkEntry; store signal name, position and length when
	"insert-text" or "delete-text" signal is emitted by GtkEntry.
	Notify accessible-text property change
	* gail/gailtextview.[c|h]
	Emit "text-changed" signal only after "changed" signal is emitted
	by GtkTextBuffer; store signal name, position and length when
	"insert-text" or "delete-range" signal is emitted by GtkTextBuffer.
	* gail/gaillabel.c
	Notify accessible-text property change

2001-08-08  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c:
	Minor changes to where scrollbars are used, and the default
	size of scrolled panes.
	Changed Text interface display to report attributes,
	character, word, etc. at current text caret.
	Made the caret change listener send output to ferret,
	speaking either the new current line, or the character at
	the new caret position, depending on whether the caret change
	was by a single character or not.
	Minor changes to where scrollbars are used, and the default size
	of scrolled panes.
	* gail/gailtexthelper.c:
	Fixed bug in which text helper returned a static instance of
	an empty string ("") instead of g_strdup'ing it.  This caused
	problems when freeing the returned string in the caller.

2001-08-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c
	Initialize to NULL button.axes field of GdkEvent structure
	to avoid core in gdk_event_free() when press action is called

2001-08-08  Brian Cameron <brian.cameron@sun.com>

	* tests/ferret.c
	Now ferret supports groups with scrollbars that work in a
	reasonable way.  Minor refactoring & cleanup.
	Now ferret is smart so that NameValues can be reused as
	different types (boolean/text/etc.).  Added buttons as
        a new type, and use them for AtkAction.

2001-08-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c
	In gail_event_watcher() set the focus object to the current page
	of a notebook; change gtk_signal_lookup to g_signal_lookup.
	* gail/gailnotebook.c
	Create accessible objects for each page when the GailNotebook is
	created. This will ensure that the correct parent of the child of the
	GailNotebookPage is reported.
	Add signal handler for notify signal and when property "page" changes
	for GtkNotebook, inform the focus tracker.
	Add finalize function to get rid of cached GailNotebookPage objects.
	* gail/gailnotebookpage.c
	Remove implementation for ref_state_set as the default implementation
	in atkobject.c works correctly.
	* tests/ferret.c
	Change _print_object() so it works correctly when object does not
	derive from GtkAccessible.
	* tests/Makefile.am tests/testnotebook.c
	Do automated testing of AtkSelection when entering window which
	contains notebook rather than when entering notebook.
	Check effect of removing page.

2001-08-07  Brian Cameron <brian.cameron@sun.com>

	* gail/gailbutton.c gail/gailimage.c gail/gailimagecell.c
	gail/gailpixmap.c tests/ferret.c
	Updated to reflect recent change to AtkImage.
	* tests/ferret.c
	Updated to support scrolling windows if requested.

2001-08-07  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c:
	More efficiency changes - now only queries 'top tab'
	interface, and listens to page-switch events.
	Replaced redundant code _get_name_value(), _get_check_box(),
	etc. with one function (now called _get_name_value()) that
	takes a gpointer and ValueType.
        Fixed broken checkboxes.

2001-08-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailpaned.c
	Use "size_allocate" signal to determine whether accessible
	value has changed instead of notification of position property
	Use paned->min_position to implement atk_value_get_minimum_value()
	and paned->max_position to implement atk_value_get_maximum_value()
	(see comments on bug 58341)
	* tests/testpaned.c
	Add tests for minimum and maximum values.

2001-08-06  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c:
	Efficiency changes, including replacement of strcmps with
	a combination of an enum (TabNumber) and an array lookup.
        Buxed bug that could crash Text interface display by using
	a GtkTextEntry field rather than a GtkLabel for big text widgets..
	Began reinstatement of check_box support for states: still ongoing.
	Removed another couple of getenv calls outside of initialization.

2001-08-03  Brian Cameron <brian.cameron@sun.com>

	* tests/ferret
	Got ferret working and am attaching signals.  It still
	seems that the tabs sometimes don't become sensitive
	right away, but if I click on an object a few times, it
	seems to eventually update.  Some objects seem to be
	stickier than others in this regard.

2001-08-03  Bill Haneman <bill.haneman@sun.com>

	* gail/gailtextview.c:
	Fixed SEGV bug in texbuffer signal callbacks:
	these callbacks were expecting GtkTextIter params where
	they should have expected GtkTextIter* params.
	* tests/ferret.c:
	Bugfix for AtkAttributeSet, we were freeing an
	attribute set pointer that in some cases has not been set.
	Some minor changes to how ferret speaks keybindings.

2001-08-03  Marc Mulcahy <marc.mulcahy@sun.com>

	* gailbooleancell.c:
	Added call to gail_cell_type_add_action_interface
	so toggle action is exposed.

2001-08-03  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Initialize returned name to NULL; cosmetic changes
	* gailnotebook.[c|h]:
	Cache list of accessible children as they are created and
	return object from list in ref_child().
	Add init and finalize functions
	* gail/notebookpage.[c|h]
	Derive from AtkObject and report accessible corresponding to
	GtkWidget as its only child.
	* gail/gailwidget.c
	If parent is GailNotebookpage get_index_in_parent() return 0.
	* tests/testnotebook.c
	Tidy up code.
	* tests/testobject.c
	Add more diagnostics when inconsistency related to parent and
	children

2001-08-03  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.
	Fixed bug that caused the column number to be
	computed wrong.  Added better error handling so
	if bad columns are passed in, the functions
	work as expected.
	* tests/testlib.c tests/testtable.c
	Fixed a number of errors/warnings with the testtable
	program and fixed an error in the teset GUI logic
	that was causing a warning.

2001-08-02  Marc Mulcahy <marc.mulcahy@sun.com>

	* gail/gailcell.c:
	Fixed assertion when cell's action list pointer was NULL.
	This is valid when a cell has no actions.

	* tests/testtable.c:
	Added non-GUI tests for table cells.

2001-08-02  Marc Mulcahy <marc.mulcahy@sun.com>

	* gail/gailtextcell.c:
	Fixed casts.

2001-08-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c:
	Change getting the name to getting the text of the label rather
	than the label of the label; this means that the name will not
	typicallly contain underscore character. If child of button is
	not label look for label as grandchild of button as when stock
	items are used.
	Add gail_button_get_keybinding().

2001-08-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcalendar.c, gail/gailentry.c, gail/gailimageimagecell.c
	gailscrolledwindow, gailgailtextview.c:
	Fix warnings
	* tests/testobject.c:
	Replace call to g_signal_add_emission_hook() with
	atk_add_global_event_listener(); fix some errors; print more
	information when children_changed signal is emitted
	*tests/testpaned.c, tests/testtoplevel.c
	Fix warnings

2001-08-02  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c
	Refactored festival/speech support a little more.
	Added initial support for speaking the object role and
	first-action's accelerator.
	Fixed a bug in _print_object (some parent info was improperly labelled)
	made speech output say "no name" when widget has no name.
	Pre-pended 'alt' to the accelerator name (temporary)

2001-08-02  Brian Cameron <brian.cameron@sun.com>

	* tests/ferret.c tests/README
	Updated the README so it explains how ferret
	now works.  Updated ferret so that it doesn't
	constantly call getenv which is slow.  Updated
	test output.  Now displays info about AtkValue
	interfaces, and has better AtkRelation information.
	Replaced call to g_signal_add_emission_hook() with
	atk_add_global_event_listener for when the mouse
	tracker is used.  Now ferret displays the output
	of text API ref_run_attributes().
	* gail/gailentry.c
	Fixed bug with setting end_offset in ref_run_attributes().
	* tests/testlib.h tests/testlib.c
	Minor cleanup.
	* gailtextcell.c, gailtexthelper.[ch]
	Updated list of properties to copy over.  Cleaned up
	gailtexthelper and gailtextcell code.  Fixed up problems
	when texthelper when it was being passed a NULL pointer.

2001-08-02  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailPaned
	New files: gail/gailpaned.c, gail/gailpaned.h
	gail/gailpanedfactory.c, gailpanedfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	* gail/gailtoplevel.c:
	Change to ensure that new windows are notified
	* Add new test module testpaned
	New files: tests/testpaned.c
	Updated files: tests/Makefile.am, tests/README
	* tests/testcombo.c
	Fix warning

2001-08-01  Brian Cameron <brian.cameron@sun.com>

	* tests/ferret.c
	Now ferret prints information about signals on the object
	that currently has focus.  Fleshed out the interfaces that
	are tested.

2001-08-01  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c
        Refactoring and enhancement to GtkNotebook and tab labels.
	Changed tab labels to grey out labels for interfaces not implemented
	by 'currently focussed' object.
	Changed festival speech support by refactoring and
	including code to stop utterances when new labels are to be spoken.
	Made festival only open connection to speech server once.

2001-08-01  Brian Cameron <brian.cameron@sun.com>

	* tests/testlib.c tests/testlib.h
	Added get_relation_name() function.
	* tests/Makefile.am tests/ferret.c
	Now ferret uses get_role_name() and get_relation_name()
	from testlib.c so had to change Makefile.am.  Added
	more text-only output to ferret.c
	* gail/gailwidget.c
	Fixed gail_widget_contains(), gail_widget_get_extents(),
	and gail_widget_get_position() so that if the widget
	passed in does not have a parent, the function still works.
	* gail/gailtoplevel.c
	Improved error handling in gail_toplevel_show_event_watcher()
	and gail_toplevel_hide_event_watcher(
	* gail/gailtreeview.c
	Improved initialization of caches and changed cell_list
	to renderer_list so it is not confusing.

2001-08-01  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c
        Changed the main ferret display window to use a GtkNotebook.

2001-08-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gaillabel.c
	Notify change of accessible-visible-data property when label changes
	Emit text-changed signal even if accessible name is set
	(This is a reapplication of a change made on July 24th but was lost
	in a subsequent update)

2001-08-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailList to support GailCombo
	New files: gail/gaillist.c, gail/gaillist.h
	gail/gaillistfactory.c, gaillistfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	* gail/gailcombo.c:
	Reports as children, the list and the text entry field, if editable
	Selection is done on list items.
	* gail/entry.c
	Update gail_entry_get_index_in_parent()
	* gail/gailbox.c
	Correct typo
	* tests/testcombo.c
	Updated to tests AtkAction and AtkSelection interfaces
	* tests/Makefile.am
	testcombo now requires testlib

2001-07-31  Bill Haneman <bill.haneman@sun.com>

	* tests/ferret.c
	Made changes to that ferret ignores focus signals that come from
	its own widgets.

2001-07-31  Lucy Brophy <lucy.brophy@sun.com>

	* tests/testlib.c
	Removed warnings
	* tests/testlib.c test/testtextlib.c
	Change create_windows() and create_select_tests_window so that no window
	number is passed in.
	* gail/gailtextcell.c test/testtextlib.c
	Made changes so that all calls to NULL cells work
	* tests/testlib.c tests/testlib.h
	Removed reset_count() function which is not used

2001-07-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add boiler plate for GailScrolledWindow
	New files: gail/gailscrolledwindow.c, gail/gailscrolledwindow.h
	gail/gailscrolledwindowfactory.c, gailscrolledwindowfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	* gail/gailcontainer.c
	Remove setting of role for accessible for GtkScrolledWindow
	* gail/gailnotebookpage.[c|h]
	Derive GailNotebookPage from GailContainer instead of GailWidget
	(this fixes core when notebook is deleted)

2001-07-31  Brian Cameron <brian.cameron@sun.com>

	* tests/testtoplevel.c tests/README
	Now supports an environment variable that controls
	the depth of the hierarchy that is displayed.

2001-07-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailradiobutton.c
	Change gail_radio_button_ref_relation_set() to take account
	of the fact that we cache the realtion set rather than recreate it
	each time.
	* tests/testobject.c
	Update to check relation sets on all objects

2001-07-30  Marc Mulcahy <marc.mulcahy@sun.com>

	* gailimagecell.c gailimagecell.h gailimagecellfactory.c
	gailimagecellfactory.h:
	Added boiler-plate for GailImageCell support.
	The image's x, y, width, and height values are cached in the
	GailImageCell structure.  These are assumed to be window-based
	coordinates.  Screen coordinates are unsupported--
	get_image_position returns -1 if they are requested.
	The get_image_description and set_image_description functions
	are implemented as proxies for atk_object_get_description and
	atk_object_set_description respectively.  Once GtkCellRendererPixbuf
	exposes image information in its properties, the following
	changes will be necessary:
	1. gail_image_cell_update_cache should query these properties and
	update the x, y, width, and height member variables.
	2. gail_image_cell_get_image_position should be updated to account
	for the type of position information given in the properties.
	It currently assumes window-based coordinates.

2001-07-30  Brian Cameron <brian.cameron@sun.com>

	* gail/gailutil.c gail/gailutil.h gail/gailwindow.c
	tests/testtoplevel.c
	Now GailUtil functions add|remove_global_listener are
	implemented.  GailWindow now knows its parent is the
	GailToplevel and can figure out its index in parent.
	* gail/gailclistcell.c
	Fixed so parent_class is set properly to GAIL_TYPE_CELL not
	ATK_TYPE_OBJECT
	* gail/gailcontainercell.c
	Fixed typo.
	* tests/testlib.c
	Made output of display_function more useful and added print
	information about the index in parent.
	* tests/Makefile.am
	Removed dependancy of testvalues on testlib.  Not needed.

2001-07-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcontainer.c
	Set role to ATK_ROLE_VIEWPORT for accessible corresponding
	to GtkViewPort

2001-07-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailBox
	New files: gail/gailbox.c, gail/gailbox.h
	gail/gailboxfactory.c, gailboxfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	* gail/gailmenuitem.c
	Set role to ATK_ROLE_SEPARATOR if GTK_IS_SEPARATOR_MENU_ITEM (widget)
	Fix compiler warning when calling gtk_accel_group_entries_from_list()
	* gail/gailseparator.c
	Remove unnecessary include
	* gail/gailseparatorfactory.h
	Fix typo

2001-07-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailSeparator
	New files: gail/gailseparator.c, gail/gailseparator.h
	gail/gailseparatorfactory.c, gailseparatorfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	* gail/gaillabel.c
	Rename gail_entry_ref_state_set to gail_label_ref_state_set
	* gail/gailtextcell.c
	Rename gail_entry_ref_state_set to gail_text_cell_ref_state_set
	* gail/gaillabelFactory.h
	Correct typos.

2001-07-30  Lucy Brophy <lucy.brophy@sun.com>

	* gail/gailtextcell.c
	Added before|at|after_offset functions
	* gail/gailtexthelper.c
	Some bug fixes to the helper code
	* gail/gailentry.c gail/gaillabel.c gail/gailtextview.c
	Changes so that the text buffer is updated when the text changes.

2001-07-27  Marc Mulcahy <marc.mulcahy@sun.com>

	* gailtreeview.c:
	Changed calls from g_list_remove to g_list_remove_link
	"expand or contract" action now properly added and removed
	from GailCells within a GailTreeview
	* gailcontainercell.c:
	Fixed call to g_list_append in case of NULL children list

2001-07-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c
	Set state ATK_STATE_TRANSIENT

2001-07-27  Brian Cameron <brian.cameron@sun.com>

	* tests/testtext.c tests/testtextlib.c
	Fixed bugs in the text driver.
	* gail/gailtoplevel.c
	Now gailtoplevel handles children-changed signals.
	* tests/testlib.h tests/testlib.c tests/testtoplevel.c
	Added display_children_to_depth, used by testtoplevel
	so that only children up to a certain depth are
	displayed, making the output more concise and useful.
	* gail/gailtreeview.h tests/testtable.c
	Minor cleanup.

2001-07-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/testnotebook.c: new file
	Requires changes to tests/Makefile.am and tests/README
	* gailimage.c:
	Add default statement for switch statement; cosmetic changes
	* gail/gailnotebookpage.c
	Remove gail_notebook_page_ref_state_set() as its functionality is
	now done in atk_object_real_ref_state_set()
	* gail/gailwidget.c
	Change gail_widget_ref_state_set() to take account of
	atk_object_real_ref_state_set()

2001-07-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwindow.c
	Report ATK_STATE_MODAL and ATK_STATE_RESIZABLE; we do not
	monitor for changes in these states.
	Use gtk_window_get_title() to get the window's title in
	gail_window_get_name()

2001-07-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail*.c:
	Remove all instances of g_return_if_fail (foo != NULL); that are
	immediately before a g_return_if_fail (GTK_IS_FOO (foo));
	since the second check catches the NULL.

2001-07-27  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtoplevel.c
	Add reference to AtkObject returned by gail_toplevel_ref_child()
	* gail/gailutil.c
	Return the same object for all calls to gail_util_get_root()

2001-07-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gail.c, gail/gailutil.c
	Change how AtkUtil class is initialized
	* gail/gailwindow.c
	Add support for setting state ATK_STATE_ICONIFIED and monitoring
	change of that state.

2001-07-26  Louise Miller  <Louise.miller@sun.com>

	* gail/gailimage.c
	Made changes to gail_image_get_image_size to cater for the different
	types of images.
	* Added implementation for gailarrow.
	New files: gail/gailarrow.c, gail/gailarrow.h, gail/gailarrowfactory.c
	 gail/gailarrowfactory.c
	* Added implementation for gailpixmap.
	New files: gail/gailpixmap.c,gail/gailpixmap.h,gail/gailpixmapfactory.c
         gail/gailpixmapfactory.h
	* Added new test module, testimage and updated readme.
	New files: tests/testimages.c

2001-07-26  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c:
	Add gail_menu_item_object_init() to initialize data items
	* gail/gailrange.c
	Add gail_range_real_init() and move initializtaion code to here
	from gail_range_new().
	* gail/gailrenderecell.c
	Add gail_renderer_cell_object_init() and gail_renderer_cell_finalize()
	* gail/gailtable.c
	Change gail_table_widget_init to gail_table_object_init and make
	it an instance init function.
	* gail/gailtextcell.c
	Add gail_text_cell_finalize(); some cosmetic changes
	* gail/gailtexthelper.[c|h]
	Add boiler plate comments at start of file.

2001-07-26  Brian Cameron <brian.cameron@sun.com>

	* gail/gail.h gail/gailcell.c gail/gailtreeview.c
	Fixed compile errors/warnings.
	* gail/gailtoplevel.c gail/gailtoplevel.h
	tests/testtoplevel.c gail/Makefile.am
	tests/Makefile.am gail/gail.h gail/gail.c
	gail/gailutil.c gail/gailutil.h
	Added gailutil.[ch] and implemented the get_root
	function which returns a GailTopLevel.  Added
	gailtoplevel.[ch], and test driver testtoplevel.
	* gail/gailtreeview.c
	Hack to get around bugzilla.gnome.bug #57480.
	* gail/gailcell.h gail/gailentry.c gail/gaillabel.c
	gail/gailtextcell.c tests/testtable.c
	Patched get_character_at_offset() for label,
	entry, and textcell.  Now ref_run_attributes in
	label uses common logic in gailtexthelper.
	* tests/testimage.c
	Cleanup of warnings.
	* gail/gailtextcell.c gail/gailtreeview.c
	Now use the proper property names in gailtextcell.c

2001-07-25  Marc Mulcahy <marc.mulcahy@sun.com>

	* gailcell.c gailcell.h:
	Changed definition of ACTION_FUNC to take a GailCell rather than an
	AtkObject.
	* Added gailcontainer.c gailcontainer.h:
	Implementation of GailContainerCells for multiple GtkCellRenderers
	per column.
	* gailtreeview.c:
	Added support for multiple GtkCellRenderers per column through the
	use of GailContainerCells.  Cells now refresh their indeces when
	queried through the use of the refresh_index callback.  Implemented
	callback to handle row expansion and contraction actions.
	* Added gailbooleancell.c gailbooleancell.h gailbooleancellfactory.c
	gailbooleancellfactory.h:
	Implemented accessibility support for GtkCellRendererToggle.

2001-07-26  Lucy Brophy <lucy.brophy@sun.com>
	* tests/testlib.c
	* tests/testtextlib.[c|h]
	* tests/testtext.c
	* tests/testtable.c
	* Makefile.am
	Changed the above files so for testtable to make use of testtext.c
	testtextlib.[c|h] are new files that were added.

2001-07-25  Padraig O'Briain  <padraig.obriain@sun.com>

        * gail/gaillabel.[c|h]:
        Add finalize function to get rid of texthelper
        Fix typo which caused core dump
        Cosmetic changes
        * gail/gailprogressbar.[c|h]
        Add init function and cosmetic changes
        * gail/gailspinbutton.c
        Remove gail_spin_button_get_n_children and gail_spin_button_ref_child
        as they are not needed
        Add init function and cosmetic changes

2001-07-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailcell.c: Fix compiler warning
	* gail/gailcontainer.c: Cosmetic changes
	* gail/image.c: Initialize image_description to NULL
	* gail/gailstatusbar.[c|h]: Do not store signal handler id
	* gail/gailtogglebutton.[c|h]: Do not store signal handler id
	* gail/gailtreeview.[c|h]: Do not store signal handler id;
	cosmetic changes
	* gail/gailwidget.[c|h]: Do not store signal handler id;
	cosmetic changes

2001-07-25  Padraig O'Briain  <padraig.obriain@sun.com>

	* New files gailnotbookpage.[c|h]
	* gailnotebook.c: Add AtkSelection and
	atk_object_ref_accessible_child() implementation.

2001-07-25  Brian Cameron <brian.cameron@sun.com>

	* gailtreeview.c
	Fixed a minor bug introduced in yesterday's change.
	* tests/Makefile.am tests/README tests/testbutton.c
	tests/testlib.c tests/testlib.h tests/testmenuitem.c
	tests/testprops.c tests/testtable.c tests/testtext.c
	tests/testtextlib.c
	Cleanup and added gtk-doc comments to testlib.c and
	testtextlib.c
	* gail/Makefile.am gail/gail.[ch], gail/gailutil.[ch]
	Added GailUtil logic with stubbed functions.  Added
	logic to gail.c to create a GailUtil object.

2001-07-24  Brian Cameron <brian.cameron@sun.com>

	* tests/testlib.h tests/testlib.c tests/testtext.c
	Added get_role_name and display_children.  Now
	testtext uses get_role_name.

2001-07-24  Marc Mulcahy <marc.mulcahy@sun.com>

	* gailtreeview.c:
	removed call to gtk_tree_path_free from _gail_tree_view_is_cell_visible
	this was freeing the row_path parameter which was assumed by
	gail_tree_view_table_ref_at to be owned by the caller.
	This was segfaulting on the first call to ref_at in testtable.
	Added stubs for expand/collapse action support on cells which are
	children of a treeview.
	* gailcell.c gailcell.h:
	Added generic AtkAction support for GailCells.  Note that for a
	descendant of GailCell to inherit the generic support, it must add
	it with a call to gail_cell_type_add_action_interface after
	registering the derived type.
	* gailtextcell.c:
	Added call to gail_cell_type_add_action_interface to provide
	GailTextCell with generic AtkAction support.

2001-07-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailentry.c
	Rename gail_entry_widget_init() to gail_entry_real_init()
	Add gail_entry_object_init() and gail_entry_finalize()
	Generate accessible state change when editable property of GtkEntry
	changes.
	* gail/gailtextview.c
	Rename gail_text_view_widget_init() to gail_text_view_real_init()
	Add gail_text_view_real_notify_gtk() and gail_text_view_finalize()
	Generate accessible state change when editable property of
	GtkTextView changes.

2001-07-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c
	Change object initialization function, gail_widget_object_init(),
	to have one argument.
	* gail/gailbutton.c, gail/gailcombo.c, gail/gailcontainer.c
	Add object initialization function.

2001-07-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.[c|h]
	Move some implementation to ATK (atkobject.c):
	gail_widget_set_name(), gail_widget_set_description(),
	gail_widget_set_property(),
	gail_widget_connect_property_change_handler(),
	gail_widget_remove_property_change_handler()
	definition of property_change signal, handler for notify signal.
	Move connection to GtkWidget signals to gail_widget_real_init()
	Initialize class and object data structures;
	do not assume they will be zeroized
	* gail/gailcell.[c|h]
	Remove some implementation as it is now in ATK
	gail_cell_get_parent(),
	gail_cell_connect_property_change_handler(),
	gail_cell_remove_property_change_handler()
	definition of property_change signal.

2001-07-24  Brian Cameron <brian.cameron@sun.com>

	* gail/gailentry.c gail/gaillabel.c gail/gailtextcell.c
	gail/gailtextview.c
	Added ref_state_set() to these ATK_TEXT widgets.

2001-07-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c
	Notify change of accessible-visible-data property when label changes
	* gail/gaillabel.c
	Notify change of accessible-visible-data property when label changes
	Emit text-changed signal even if accessible name is set
	* tests/Makefile.am, tests/testprops.c
	Add test for accessible-visible-data property

2001-07-23  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c, tests/testtable.c
	* gail/gailcell.c
	GailTreeView now generate children-changed singals.  Currently
 	passing NULL as the child pointer.  Now handle more situations
        when setting EXPANDABLE, EXPANDED, CONTRACTED AtkStates on cells.
        GailCell now generates accessible-visible-data property change.

2001-07-23  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailrange.c
	Set state ATK_STATE_VERTICAL or ATK_STATE_HORIZONTAL depending
	on orientation of range.

2001-07-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.[c|h]
	Changes to allow different GAIL object to define different
	signal handler for GtkWidget signals focus_in_event and
	focus_out_event
	* fail/gailwindow.c
	Set state ATK_STATE_ACTIVE if window has focus; generate
	property change signal for accessible-state for ATK_STATE_ACTIVE

2001-07-20  Brian Cameron <brian.cameron@sun.com>

	* README gailtextcell.c gailtextcell.h
	gailtexthelper.c gailtexthelper.h
	Updated README so it is more clear.  Added the following
	to gailtextcell: gail_text_cell_get_character_extents(),
	gail_text_cell_get_offset_at_point() and
	gail_text_cell_ref_ruin_attributes().  Added
	gail_text_helper_add_attribute() to gailtexthelper.
	* gail/gailcell.c gail/gailcell.h gail/gailtreeview.c
	Updated gail_cell_add_state and gail_cell_remove_state
	so they take an additional gboolean argument.  Only if
	it is TRUE is the property change signal is emitted.
	Updated gailtreeview so that the expand/collapse row
	handlers are correct.  Now set initial state values of
	cells returned via ref_at.  Changed the proxy in the
	gtk_tree_row_reference_new_proxy function calls to be
	the GailView object which helped resolve inconsistancies.
	Implemented ATK_STATE_EXPANDED, ATK_STATE_COLLAPSED,
	and ATK_STATE_EXPANDABLE.  Fixed bugs in
	_gail_tree_view_iterate_thru_children() and made it so
	that it can return a count of visible children for any
	node, not just the root node.

2001-07-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.[c|h], gail/gailcombo.[c|h],
	gail/gailmenuitem.[c|h], tests/testmenuitem.c
	Update AtkAction interface implementation to take account of
	new functions atk_action_get_name() and atk_action_get-description()
	* tests/Makefile.am
	Add new test bmodule testaction.c
	* tests/README
	Updated to refer to all tests being built.

2001-07-19  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c tests/testtable.c
	Cleaned up memory management.  Now always free
	row_path and row_reference when we are done with
	them.  Fixed bug where we did not return -1 if the
        _gail_tree_view_iterate_thru_children() hit
	the end of the table and didn't find the specified
	path.
	* gail/gailwidget.c
	Modified gail_widget_set_position() and
	gail_widget_set_extents() so that ATK_XY_WINDOW
	coordinates are supported, and the widget to be
	re-positioned is re-positioned according to its previous
	position. For example, calling the function with
	ATK_XY_WINDOW and (-10, -10) would reposition the
	widget 10 pixels up, and 10 pixels left relative to its
	previous position.
	* gail/gailtexthelper.c gail/gailtexthelper.h
	gail/gailwidget.c gail/gailwidget.h
	Cleaned up gailtexthelper code and added gtk-doc style
	comments.  Moved gtk_widget_get_origins from
	gailtexthelper to gailwidget since it is actually
	applies to all widgets.

2001-07-19  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailwidget.c, gail/gailcell.c
	Set state ATK_STATE_ENABLED
	* gail/gailtogglebutton.c
	Remove state ATK_STATE_ENABLED if toggle button is inconsistent
	Emit property-change signal for accessible-state when toggle
	button changes to or from inconsistent.
	* tests/testbutton.c
	Add code to test changing a toggle button to and from insonsistent.

2001-07-18  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.[ch], tests/testtable.c
	Made _gail_tree_view_set_iter_nth_row() and
	_gail_tree_view_get_row_from_treepath() static functions
	in gailtreeview.c since nothing else needs them.
	Updated _gail_tree_view_get_row_from_treepath so it
	returns -1 if the row isn't visible.  This required
	changing _gail_tree_view_iterate_thru_children() and
	places where _gail_tree_view_get_row_from_treepath()
	is called.  Replaced gtk_tree_row_reference_new()
	calls with gtk_tree_row_reference_new_proxy() since
	that forces the row references to be in sync.
	Now the row-insert signal doesn't get generated if
	the row not visible after a drag & drop (if the
	row is dropped "inside" another row).  Updated
	_gail_tree_view_set_stale so it passes in another
	argument indicating that all rows >= (not just >)
	are stale.  This is used when rows are inserted/deleted.
	Now testtable.c prints out the text value (if it is
	a text cell) when printing out state property info.

2001-07-18  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c tests/testlib.c tests/testtable.c
	Updated tests so that they print information about
	property changes.  Had to make many changes to testtable
	to get it to play nicely with recent changes to
	GailTreeView.  Fixed bugs in testtable/testlib that were
	caught by running the GTK+ testtreeview program.
	Minor clean to gailtreeview.

2001-07-18  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c - Corrected typos which caused unresolved
	references for gtk_row_reference_get_path and
	gail_tree_view_update_cell_value
	* gail/gailcell.c, gail/gailcontainer.c, gail/gailprogressbar.c
	gail/gailrange.c, gail/gailspinbutton.c, gail/gailtexthelper.c,
	gail/gailtreeview.c
	Add call to  G_OBJECT_CLASS (parent_class)->finalize (object);
	to end of finalize function to ensure object is fully cleaned up.

2001-07-17  Marc Mulcahy <marc.mulcahy@sun.com>

	* gailtreeview.c - added signal handler for range-change signals

2001-07-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c
	Correct implementaion of activate action when menu item does
	not have a submenu
	* tests/testmenuitem.c
	Add tests which programatically calls action on menu item.

2001-07-17  Brian Cameron <brian.cameron@sun.com>

	* gail/gailcell.c gail/gailcell.h gail/gailtreeview.c
	tests/testtable.c
	Now gailtreeview checks the visiblity of its children
	and properly sets the ATK_STATE_VISIBLE, ATK_STATE_STALE,
	and ATK_STATE_DEFUNCT of its children.  gailcell changes
	were made so it only emits the property change signal
	when the ATK_STATE value actually changes.  Added
	listener to the property change event to the test
	driver.

2001-07-17  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailmenuitem.c
	Specify correct role for CheckMenuItem, TearoffMenuItem, RadioMenuItem
	Add gail_menu_item_get_n_children() and gail_menu_item_ref_child()
	so that a menu item with a submenu reports the submenu as its only
	accessible child.
	* Add implementation for GailMenu
	New files: gail/gailmenu.c, gail/gailmenu.h
	gail/gailmenufactory.c, gailmenufactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	Add gail_menu_get_parent() and gail_menu_get_index_in_parent()
	to be consistent with menu item reporting menu as a child.
	* gail/gailmenushell.c
	Do not specify role of ATK_ROLE_MENU in this file as this is done
	in gail/gailmenu.c
	* tests/testobject.c
	Add test for ATK_ROLE_UNKNOWN

2001-07-16  Marc Mulcahy <Marc.Mulcahy@sun.com>

	* gailcell.c gailcell.h Added gail_cell_add_state and
	gail_cell_remove_state to add and remove states; Added
	get_index_in_parent, get_parent, and ref_state_set
	* gailtextcell.c Cleaned up functions dealing with a cell's text
	length; Text cells now emit "text-changed" signals
	* gailtreeview.c Added range checking to gail_tree_view_ref_at to
	hopefully fix segfault bug when row or column is out of range


2001-07-16  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtextview.c gail/gaillabel.c
	Updated to use run_attributes #macros that are now defined in
	atk.

2001-07-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c
	Change implementation of "press" action so that it simulates a
        button press event; calling gtk_button_pressed() was not
	adequate for an option menu
	* gail/gailmenuitem.c
	Change action name from "GtkMenuItem.deselect" to
	"GtkMenuItem.activate"; correct implementation
	Add gail_menu_item_get_keybinding() to implement
	atk_action_get_keybinding()
	* New test module tests/testmenuitem.c

2001-07-13  Brian Cameron <brian.cameron@sun.com>

	* gailentry.c, gaillabel.c, gailwidget.c
	- Implemented gail_widget_set_position(), gail_widget_set_extents()
	and gail_widget_set_size() so that only top-level widgets may be
	re-positioned/re-sized. The AtkCoordType parameter is not
	actually used in these functions since the top-level widget of a
	top-level widget is the root window, which is equivalent to
	screen coordinates so the function always deals in screen
	coordinates. If non-toplevel widgets are identified that should
	be re-positionable using these functions then this parameter
	will be used.  Fixed bug in gail_entry_get_character_extents()
	and gail_label_get_character_extents().
	* gailtreeview.[ch], tests/testtable.c
	Added AtkObject interfaces gail_tree_view_get_n_children and
	gail_tree_view_ref_child.  Added tests and cleaned up testtable.c.
	Now insert/delete rows is much smarter about cleaning up the
	row_info data.  Cleaned up the code.
	* tests/testtable.c
	Cleanup.

2001-07-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailbutton.c
	Reformat some of previous changes
	Change available actions: previously there was one action
	GtkButton.click, now there are three, GtkButton.activate,
	GtkButton.press, GtkButton.release
	* tests/testbutton.c, tests/testlib.c
	Update in order to test new actions

2001-07-12  Louise Miller <louise.miller@sun.com>

	*gail/gailbutton.c
	Implemented AtkImage for gail button.

2001-07-12  Brian Cameron <brian.cameron@sun.com>

	* gailtextcell.c gailtreeview.c
	Fixed logic for copying the renderer.

2001-07-12  Brian Cameron <brian.cameron@sun.com>

	* gailwidget.c
	This patch for gailwidget.c contains the implementation of
	gail_widget_contains(), gail_widget_get_extents(), and
	gail_widget_get_position() which use the AtkCoordType
	parameter correctly to specify what coordinate system to use.

2001-07-11  Brian Cameron <brian.cameron@sun.com>

	* gailentry.c, gaillabel.c, gailtexthelper.[ch],
	Updated gailtexthelper so it includes more common text
	logic.  Specifically the logic for the atktext functions
	get_character_extents() and get_offset_at_point().

2001-07-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailRadioButton
	New files: gail/gailradiobutton.c, gail/gailradiobutton.h
	gail/gailradiobuttonfactory.c, gailradiobuttonfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am
	* gail/gailbutton.c
	Remove implementation of MEMBER_OF relationship for buttons
	in a button box.
	* gail/gailtogglebutton.c
	Remove implementation of AtkValue implementation for GailToggleButton
	Cause ATK_STATE_CHECKED to be included in state set if toggle button
	is checked
	Add signal handler for toggled signal on GtkToggleButton in order
	to provide property change notification for accessible-state when
	toggle button is checked or unchecked.

2001-07-10  Lucy Brophy <lucy.brophy@sun.com>

  	* gail/gailtexthelper.c (new file)
	* gail/gailtexthelper.h (new file)
        * gail/gaillabel.c
	* gail/gailentry.c
	* gail/gailtextview.c
	* gail/Makefile.am
 	Adding the two new files above which will replace gailtextcommon.[ch]
	and its functionaliy.
  	Changing gaillabel.c, gailentry.c, and gailtextview.c to use the
	gail text helper object.
	Removed gail/gailtextcommon.[ch]

2001-07-10  Padraig O'Briain <padraig.obriain@sun.com>

	* All .c and .h files:
	Change GAIL - The GNOME Accessibility Enabling Library
	to GAIL - The GNOME Accessibility Implementation Library
	(This should have happened when we renamed from GAEL to GAIL

2001-07-09  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c gail/gailwidget
	Updated calls to g_signal_connect/new to reflect recent
	signal changes in glib.

2001-06-29  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c
	Now gailtreeview uses the gtk_tree_view_set_destroy_count_func
	rather than listening to the GtkTreeModel "deleted" signal.
	This returns a better count of the rows that were deleted from
	the view.  Now use the gtk_tree_model_get_flags() function
	to determine if a GtkTreeView is a LIST or not.  Use a more
	efficient means to calcualte the number of rows if the
	GtkTreeView is a LIST.  Corrected the selection functions
	to only call gtk_tree_selection_get_selected if the select
	type is GTK_TREE_SELECTION_SINGLE.

2001-06-28  Brian Cameron <brian.cameron@sun.com>

	* gail/gailentry.c gail/gaillabel.c gail/gailtextview.c
	gail/gailwidget.c tests/ferret.c tests/testcomponent.c
	gail/gailtreeview.c gail/gailtreeviewtextcell.c
	tests/testtext.c tests/teststatusbar.c
	Updated to use new ATK interfaces.  Updated gailtreeview.c
	and gailtreeviewtextcell.c so that they use the new
	gtk_tree_view_column_get_cell_renderers() function.

2001-06-28  Brian Cameron <brian.cameron@sun.com>

	* tests/testlib.c
	Updated because the GTK function
	gtk_window_set_resizeable() changed its name to
	gtk_window_set_resizable().

2001-06-27  Brian Cameron <brian.cameron@sun.com>

	* gail/gailentry.c gail/gailimage.c
	gail/gaillabel.c gail/gailtextview.c
	tests/testtext.c
	Updated to reflect recent changes to the ATK
	API.

2001-06-26  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c tests/testtable.c
	Now row_description and row_header are implemented
	with GtkTreeRowReference rather than GtkRowPath so
	that the row information is not lost when rows are
	added, deleted, reordered.

2001-06-25  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c gail/gailtreeviewtextcell.c
	Implemented row-reordered signal.  Fixed off-by-one
	issue with row expand/contract signals.  Fixed
	initialization of caret_offset in gailtreeviewtextcell.c

2001-06-22  Brian Cameron <brian.cameron@sun.com>

	* gail/gaillabel.c and gail/gailtextview.c
	gail/gailtreeview.[ch], gailtreeviewtextcell.c
	tests/testtable.c, tests/testtext.c
	Implemented get_character_extents and get_offest_at_point for
	gaillabel.  Fixed minor problems with gailtextview.c
	Implemented get|set row_description and row_header for
	gailtreeview, and added tests to testtable.c.  Enhanced
	signal handling in gailtreeview to emit proper row
	values.  Fixed bug in tests/testtext.c and warnings in
	gailtreeviewtextcell.c

2001-06-22  Louise Miller <louise.miller@sun.com>

	* Updated files gail/gailtreeview.c, gail/gailtreeviewtextcell.c
	tests/testtable.c
	new function gail_tree_view_is_selected

2001-06-21  Louise Miller <louise.miller@sun.com>

	* gail/gailtreeview.c, gail/gailtreeview.h,
	Tidied up a helper function set_iter_nth_row, and made it available
	to other files.
	* gail/gailtreeviewtextcell.h, gail/gailtreeviewtextcell.c
	Changed to reference the correct row, it now uses set_iter_nth_row
	from gailtreeview.

2001-06-21  Louise Miller <louise.miller@sun.com>

	* gail/gailtreeview.c
	Quite a few changes. Added implementation of a few atktable functions.
	New functions : gail_tree_view_get_selected_rows,
	gail_tree_view_is_row_selected,
	_get_row_from_treepath, _iterate_to_row, _set_iter_nth_row.
	Changed functions : gail_tree_view_get_n_rows, gail_tree_view_ref_at
	Also added implementation of atkselection interface.
	New functions : gail_tree_view_clear_selection,
i	gail_tree_view_ref_selection,
	gail_tree_view_add_row_selection, gail_tree_view_remove_row_selection.
	* tests/testtable.c
	Added some tests for new functions.

2001-06-21  Brian Cameron <brian.cameron@sun.com>

	* gail/gaillabel.c, gail/gailtreeviewtextcell.[ch],
	gail/gailtreeviewtextcellfactory.[ch],
	tests/testtable.c
	Added get_caret_offset, set_caret_offset and
	tests.  Fixed bugs with get_text.

2001-06-21  Lucy Brophy <lucy.brophy@sun.com>

	* gail/gaillabel.c
	* gail/gailtextcommon.c (new file)
	Adding label implementation of the atk
	get_text_[at|before|after]_offset functions
	Also changed the gail/makefile.am so
	to build gail/gailtextcommon.c

2001-06-20  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.[ch] tests/testtable.c
	* tests/testlib.[ch], tests/testtext.c
	Implemented get|set_column_header and
	get|set_column_description to use quarks
	set against the appropriate
	GtkTreeViewColumnHeader.  Stubbed the
	get|set_row_description functions.
	Implemented the col_reordered,
	col_inserted and col_deleted signals
	properly.  Added appropriate tests
	to the test/testtable driver.
	Now testtext allow users to specify the
	text widget to test via widget name
	by specifying an environment variable.
	The testtext change required the change
	to the testlib code.

2001-06-19  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtable.c gail/gailtreeview.c
	gail/gailentry.c gail/gailtextview.c
	tests/testtable.c
	Updated get_column_description and
	get_row_description so that they properly
	access the arrays.  Updated the signal
	handling code in gailtreeview.  Added
	ref_run_attributes, and set_run_attributes
	for gailentry.  Fixed return codes in
	gailtreeview.c

2001-06-18  Brian Cameron <brian.cameron@sun.com>

	* gail/gailentry.c gail/gailtreeview.c,
	tests/testtable.c testst/testtext.c
	Corrected spelling in gailentry.  Updated
	signal handling in gailtreeview so it is
	smarter and actually generates the real
	signals.  Added a function to convert
	a column number to the GtkTreeView
	column number (since they aren't the same).
	Added signal tests to tests/gailtreeview
	and made row/column description tests
	smarter.  Improved naming convention of
	arguments to some functions in testtext.c

2001-06-15  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c, tests/testtable.c
	gail/gailclist.c, gail/gailcombo.c,
	gail/gailmenushell.c gail/gailtreeview.c
	Addeded get_run_attributes and set_run_attributes
	to gailtextview.c.  testtable.c now displays
	before|at|offset start/end offset values.  Also
	added tests for get_run_attributes and
	set_run_attributes.  Added row|col extents
	functions.  Updated functions to use the new
	selection interface where add_selection,
	clear_selection, and remove_selection return a
	gboolean.

2001-06-14  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtable.[ch], gail/gailtreeview.[ch],
	gailtreeviewtextcell.c tests/testtable.c
	Now handling row and column descriptions as arrays
	in gailtable and gailtreeview.  Implemented
	get/set caption, get/set col/row descriptions
	in gailtreeview.  Added error handling to
	gailtreeviewtextcell.  Added tests to testable.c

2001-06-13  Padraig O'Briain  <padraig.obriain@sun.com>

	* Boiler plate implementation of AtkObject for GtkTreeView cell
	which supports text:
	New files gail/gailcell.c, gail/gailcell.h,
	gail/gailtreeviewtextcell.c, gail/gailtreeviewtextcell.h
	Changed files: gail/gail.h, gail/Makefile.am
	* gail/gailclistcell.c gail/clistcell.h:
	Change GailClistCell to derive from GailCell

2001-06-13  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c, tests/testtable.c
	* gail/gailtable.c, gail/gailtreeviewtextcell.c
	Implemented index functions and tests.  Also added
	get_n_rows, get_n_columns tests to the test driver.
	gailtable.c updated to use new interfaces for
	get/set row_description, column_description, caption.
	Now gtktreeview returns text cells as an ATK object
	that implements ATK_TEXT (gailtreeviewtextcell).

2001-06-12  Louise Miller <louise.miller@sun.com>

	* gail/gailtreeview.c
	Implementation of gail_tree_view_get_n_rows,
	gail_tree_view_get_n_columns.

2001-06-12  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtextview.c, gail/gailtreeview.c
	gailtextview now uses the new interfaces for
	get_offset_at_point and get_character_extents.
	gailtreeview.c ref_at now uses the renderers to
	get at the cell values, which is much cleaner.

2001-06-12  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c:
	Connect to new signals row-expanded and row-collapsed on GtkTreeView
	Connect to notify signal on GtkGteeView and deal with change to
	model property.
	Add code to change state when row is expanded or collapsed.

2001-06-08  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtreeview.c, tests/Makefile.am, tests/testlib.c,
	tests/testlib.h, tests/testtext.c
	Added: tests/testtable.c
	Added the ref_at implementation for gailtreeview.c, and added
	a test driver for testtable.  To support this test I needed to
	add a new function to testlib.c, which caused a minor change
	to testtext.c.

2001-06-11  Louise Miller <louise.miller@sun.com>

	* No children reported for GailSpinbutton. New roles assigned for
	different types of gailrange.
	Updated files : gail/gailrange.c, gail/gailspinbutton.c

2001-06-11  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtreeview.c, gailgailtreeview.h
	Generate notification of accessible-visible-data change when
	row is expanded or collapsed.

2001-06-08  Brian Cameron <lucy.brophy@sun.com>

	* gail/testtext.c
	Minor clean up.

2001-06-08  Lucy Brophy <lucy.brophy@sun.com>

	* gail/testtext.c gail/testlib.c gail/testlib.h.
	These new files and the changes to testtext.c make the test
	program have a gui interface.
	Allowing you to set particular tests with certain parameters.

2001-06-08  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailFrame
	New files: gail/gailframe.c, gail/gailframe.h
	gail/gailframefactory.c, gailframefactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am

2001-06-07  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add boiler-plate implementation for GailTreeView
	New files: gail/gailtreeview.c, gail/gailtreeview.h
	gail/gailtreeviewfactory.c, gailtreeviewfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am,
	* gail/gailspinbutton.c: Add const to GValue for
	gail_spin_button_set_current_value()
	* gail/gailtextview.c: Remove redundant code from gail_text_view_new()

2001-06-07  Louise Miller <louise.miller@sun.com>

	* Added implementation for GailSpinbutton
	New files: gail/gailspinbutton.c, gail/gailspinbutton.h,
	gail/gailspinbuttonfactory.c,gail/gailspinbuttonfactory.h,
	Updated files: gail/Makefile.am, gail/gail.c , gail/gail.h
	* Changed GailProgress to use GailAdjustment implementationof
	AtkValue interface; notify change of accessible-value property when
	adjustments's current value changes.
	Updated files : gail/gailprogressbar.h, gail/gailprogressbar.c.
	* Created new test module testvalues, that tests widget that
	implement the AtkValue interface, e.g progressbar, spinbutton. As
	a result , remove the need for testrange.c, testprogressbar.c
	New files: tests/testvalues.c
	Updated files: tests/Makefile.am
	Removed : tests/testrange.c,tests/testprogressbar.c

2001-06-07  Brian Cameron <brian.cameron@sun.com>

	* gail/gaillabel.h gail/gaillabel.c
	Now support text change signal.  No longer need testentry.c since
	it isn't used
	Removed: tests/testentry.c

2001-06-06  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c, gail/gailtextview.h
	Do not notify caret change if the position has not changed

2001-06-06  Padraig O'Briain  <padraig.obriain@sun.com>

        * Initial version of GailCListCell
        New files: gail/gailclistcell.c gail/gailclistcell.h
        Updated files: gail/Makefile.am, gail/gail.h
        * gail/gailclist.c: initial implementation

2001-06-06  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtextview.c gail/gailentry.c gail/gaillabel.c
	Now handle cut/copy/paste atkeditabletext.h interfaces without
	affecting the selected regions or caret positions.  Updated
	gailentry's cursor moved signal to work with the latest GTK
	code.  Fixed insert text-changed signal in gailentry.c so it
	properly returns the position of the insert.  Added get_text
	and selection functions to gaillabel.c

2001-06-05  Brian Cameron <brian.cameron@sun.com>

	* gail/gailtextview.c, gail/gailentry.c, gail/gaillabel.c,
	tests/testtext.c
	Completed get_caret_offset and set_caret_offset implementations.
	Implemented get_character_count for gaillabel.  Cleaned up the
        code.  Enhanced testtext.c so that it only adds a single signal
        handler per widget.  Added invisible caret to gaillabel.c.

2001-06-01  Padraig O'Briain  <padraig.obriain@sun.com>

	* Added implementation for GailAdjustment
	New files: gail/gailadjustment.c, gail/gailadjustment.h
	Updated files: gail/gail.h, gail/Makefile.am
	* gail/gaillabel.c, gail/gaillabel.h, gail/gailwidget.c,
	gail/gailwidget.h
	Reorganized connecting to GTK widget's notify signal
	* gail/gailrange.c
	Use GailAdjustment's implementation of AtkValue interface;
	notify change of accessible-value property when adjustment's
	current value changes.
	* test/testprops.c
	Add test for notification of accessible-value change.

2001-06-01  Brian Cameron <brian.cameron@sun.com>

	* gail/gailentry.c gail/gaillabel.c gail/gailtextview.c
	  tests/testtext.c
	Updated to support new selected text interface.

2001-06-01  Louise Miller <louise.miller@sun.com>

	* Added implementation for GailProgressbar.
	New files: gail/gailprogressbar.c, gail/gailprogressbar.h,
	gail/gailprogressbarfactory.c, gail/gailprogressbarfactory.h,
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am.
	* Added test module for GailProgressbar
	New files: tests/testprogressbar.c
	Updated: tests/Makefile.am, tests/README

2001-05-31  Brian Cameron  <brian.cameron@sun.com>

	* gail/gailentry.c gail/gailtextview.c tests/testtext.c
	Now gailentry and gailtextview fully support signals.
	Updated the test driver.

2001-05-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* Prevent notifications being received when children added to or
	removed from GtkItem, GtkButton and GtkStatusbar
	Updated files gail/gailitem.c, gail/gailbutton.c, gail/gailstatusbar.c

2001-05-31  Padraig O'Briain  <padraig.obriain@sun.com>

	* Report no children for GailItem, GailButton and GailStatusbar
	Updated files: gail/gailbutton.c gail/gailitem.c. gail/gaillabel.c,
	gail/gailstatusbar.c, gail/gailstatusbar.h, tests/testobject.c,
	tests/teststatusbar.c

2001-05-30  Louise Miller  <louise.miller@sun.com>

	* Add implementation for GailRange.
	New files: gail/gailrange.c, gail/gailrange.h
	gail/gailrangefactory.c, gail/gailrangefactory.h.
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am.
	* Add test module for GailRange.
	New files: tests/testrange.c
	Updated files: tests/Makefile.am

2001-05-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c: Cause notify signal for accessible-selection
	to be emitted when selection changes

2001-05-30  Padraig O'Briain  <padraig.obriain@sun.com>

	* tests/README: update to describe all existing test modules
	* tests/testselection.c: update to work for combo box
	* tests/testcombo.c: New file

2001-05-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* gail/gailtextview.c: Notify property change for accesible-text
	or accessible-caret when text or caret change occurs.

2001-05-29  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add boiler-plate implementation for GailCalendar
	New files: gail/gailcalendar.c, gail/gailcalendar.h
	gail/gailcalendarfactory.c, gailcalendarfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am,

2001-05-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add boiler-plate implementation for GailNotebook
	New files: gail/gailnotebook.c, gail/gailnotebook.h
	gail/gailnotebookfactory.c, gailnotebookfactory.h
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am,

2001-05-28  Brian Cameron  <brian.cameron@sun.com>

	* gail/gailtextview.c: Now caret moved signal is only generated if
	  the "insert" mark is moved, not for all marks.
	* tests/testtext.c: Cleaned up signal handling test code.

2001-05-28  Padraig O'Briain  <padraig.obriain@sun.com>

	* New files AUTHORS, NEWS, README: so make dist works
	* gail/Makefile.am: Add include files so make dist works
	* gail/gail.c, gail/gailwidget.c tests/ferret.c tests/testobject.c
	Fix warnings generated by Sun FORTE compiler

2001-05-25  Brian Cameron <brian.cameron@sun.com>

	* gailtextview.c: tests/testtext.c: Updated to support signals.

2001-05-24  Padraig O'Briain  <padraig.obriain@sun.com>

	* Add implementation for GailLabel and GailStatusbar
	New files: gail/gaillabel.c, gail/gaillabel.h, gail/gaillabelfactory.c,
	gail/gaillabelfactory.h, gail/gailstatusbar.c, gail/gailstatusbar.h,
	gail/gailstatusbarfactory.c, gail/gailstatusbarfactory.h,
	tests/teststatusbar.c
	Updated files: gail/gail.c, gail/gail.h, gail/Makefile.am,
	tests/Makefile.am
	* gail/gailwidget.c: Move connection of notify signal handler to
	init function from connect_property_change_handler

2001-05-24  Brian Cameron <brian.cameron@sun.com>

	* configure.in tests/Makefile.am: Updated so that -lsocket is
	properly included for libferret only.
	* gailtextview.c: Implemented get_character_extents function
	returns the screen coordinates
